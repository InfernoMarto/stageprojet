/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/cross-fetch/dist/browser-ponyfill.js":
/*!***********************************************************!*\
  !*** ./node_modules/cross-fetch/dist/browser-ponyfill.js ***!
  \***********************************************************/
/***/ (function(module, exports) {

var global = typeof self !== 'undefined' ? self : this;
var __self__ = (function () {
function F() {
this.fetch = false;
this.DOMException = global.DOMException
}
F.prototype = global;
return new F();
})();
(function(self) {

var irrelevant = (function (exports) {

  var support = {
    searchParams: 'URLSearchParams' in self,
    iterable: 'Symbol' in self && 'iterator' in Symbol,
    blob:
      'FileReader' in self &&
      'Blob' in self &&
      (function() {
        try {
          new Blob();
          return true
        } catch (e) {
          return false
        }
      })(),
    formData: 'FormData' in self,
    arrayBuffer: 'ArrayBuffer' in self
  };

  function isDataView(obj) {
    return obj && DataView.prototype.isPrototypeOf(obj)
  }

  if (support.arrayBuffer) {
    var viewClasses = [
      '[object Int8Array]',
      '[object Uint8Array]',
      '[object Uint8ClampedArray]',
      '[object Int16Array]',
      '[object Uint16Array]',
      '[object Int32Array]',
      '[object Uint32Array]',
      '[object Float32Array]',
      '[object Float64Array]'
    ];

    var isArrayBufferView =
      ArrayBuffer.isView ||
      function(obj) {
        return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1
      };
  }

  function normalizeName(name) {
    if (typeof name !== 'string') {
      name = String(name);
    }
    if (/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(name)) {
      throw new TypeError('Invalid character in header field name')
    }
    return name.toLowerCase()
  }

  function normalizeValue(value) {
    if (typeof value !== 'string') {
      value = String(value);
    }
    return value
  }

  // Build a destructive iterator for the value list
  function iteratorFor(items) {
    var iterator = {
      next: function() {
        var value = items.shift();
        return {done: value === undefined, value: value}
      }
    };

    if (support.iterable) {
      iterator[Symbol.iterator] = function() {
        return iterator
      };
    }

    return iterator
  }

  function Headers(headers) {
    this.map = {};

    if (headers instanceof Headers) {
      headers.forEach(function(value, name) {
        this.append(name, value);
      }, this);
    } else if (Array.isArray(headers)) {
      headers.forEach(function(header) {
        this.append(header[0], header[1]);
      }, this);
    } else if (headers) {
      Object.getOwnPropertyNames(headers).forEach(function(name) {
        this.append(name, headers[name]);
      }, this);
    }
  }

  Headers.prototype.append = function(name, value) {
    name = normalizeName(name);
    value = normalizeValue(value);
    var oldValue = this.map[name];
    this.map[name] = oldValue ? oldValue + ', ' + value : value;
  };

  Headers.prototype['delete'] = function(name) {
    delete this.map[normalizeName(name)];
  };

  Headers.prototype.get = function(name) {
    name = normalizeName(name);
    return this.has(name) ? this.map[name] : null
  };

  Headers.prototype.has = function(name) {
    return this.map.hasOwnProperty(normalizeName(name))
  };

  Headers.prototype.set = function(name, value) {
    this.map[normalizeName(name)] = normalizeValue(value);
  };

  Headers.prototype.forEach = function(callback, thisArg) {
    for (var name in this.map) {
      if (this.map.hasOwnProperty(name)) {
        callback.call(thisArg, this.map[name], name, this);
      }
    }
  };

  Headers.prototype.keys = function() {
    var items = [];
    this.forEach(function(value, name) {
      items.push(name);
    });
    return iteratorFor(items)
  };

  Headers.prototype.values = function() {
    var items = [];
    this.forEach(function(value) {
      items.push(value);
    });
    return iteratorFor(items)
  };

  Headers.prototype.entries = function() {
    var items = [];
    this.forEach(function(value, name) {
      items.push([name, value]);
    });
    return iteratorFor(items)
  };

  if (support.iterable) {
    Headers.prototype[Symbol.iterator] = Headers.prototype.entries;
  }

  function consumed(body) {
    if (body.bodyUsed) {
      return Promise.reject(new TypeError('Already read'))
    }
    body.bodyUsed = true;
  }

  function fileReaderReady(reader) {
    return new Promise(function(resolve, reject) {
      reader.onload = function() {
        resolve(reader.result);
      };
      reader.onerror = function() {
        reject(reader.error);
      };
    })
  }

  function readBlobAsArrayBuffer(blob) {
    var reader = new FileReader();
    var promise = fileReaderReady(reader);
    reader.readAsArrayBuffer(blob);
    return promise
  }

  function readBlobAsText(blob) {
    var reader = new FileReader();
    var promise = fileReaderReady(reader);
    reader.readAsText(blob);
    return promise
  }

  function readArrayBufferAsText(buf) {
    var view = new Uint8Array(buf);
    var chars = new Array(view.length);

    for (var i = 0; i < view.length; i++) {
      chars[i] = String.fromCharCode(view[i]);
    }
    return chars.join('')
  }

  function bufferClone(buf) {
    if (buf.slice) {
      return buf.slice(0)
    } else {
      var view = new Uint8Array(buf.byteLength);
      view.set(new Uint8Array(buf));
      return view.buffer
    }
  }

  function Body() {
    this.bodyUsed = false;

    this._initBody = function(body) {
      this._bodyInit = body;
      if (!body) {
        this._bodyText = '';
      } else if (typeof body === 'string') {
        this._bodyText = body;
      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {
        this._bodyBlob = body;
      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {
        this._bodyFormData = body;
      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {
        this._bodyText = body.toString();
      } else if (support.arrayBuffer && support.blob && isDataView(body)) {
        this._bodyArrayBuffer = bufferClone(body.buffer);
        // IE 10-11 can't handle a DataView body.
        this._bodyInit = new Blob([this._bodyArrayBuffer]);
      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {
        this._bodyArrayBuffer = bufferClone(body);
      } else {
        this._bodyText = body = Object.prototype.toString.call(body);
      }

      if (!this.headers.get('content-type')) {
        if (typeof body === 'string') {
          this.headers.set('content-type', 'text/plain;charset=UTF-8');
        } else if (this._bodyBlob && this._bodyBlob.type) {
          this.headers.set('content-type', this._bodyBlob.type);
        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {
          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');
        }
      }
    };

    if (support.blob) {
      this.blob = function() {
        var rejected = consumed(this);
        if (rejected) {
          return rejected
        }

        if (this._bodyBlob) {
          return Promise.resolve(this._bodyBlob)
        } else if (this._bodyArrayBuffer) {
          return Promise.resolve(new Blob([this._bodyArrayBuffer]))
        } else if (this._bodyFormData) {
          throw new Error('could not read FormData body as blob')
        } else {
          return Promise.resolve(new Blob([this._bodyText]))
        }
      };

      this.arrayBuffer = function() {
        if (this._bodyArrayBuffer) {
          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)
        } else {
          return this.blob().then(readBlobAsArrayBuffer)
        }
      };
    }

    this.text = function() {
      var rejected = consumed(this);
      if (rejected) {
        return rejected
      }

      if (this._bodyBlob) {
        return readBlobAsText(this._bodyBlob)
      } else if (this._bodyArrayBuffer) {
        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))
      } else if (this._bodyFormData) {
        throw new Error('could not read FormData body as text')
      } else {
        return Promise.resolve(this._bodyText)
      }
    };

    if (support.formData) {
      this.formData = function() {
        return this.text().then(decode)
      };
    }

    this.json = function() {
      return this.text().then(JSON.parse)
    };

    return this
  }

  // HTTP methods whose capitalization should be normalized
  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];

  function normalizeMethod(method) {
    var upcased = method.toUpperCase();
    return methods.indexOf(upcased) > -1 ? upcased : method
  }

  function Request(input, options) {
    options = options || {};
    var body = options.body;

    if (input instanceof Request) {
      if (input.bodyUsed) {
        throw new TypeError('Already read')
      }
      this.url = input.url;
      this.credentials = input.credentials;
      if (!options.headers) {
        this.headers = new Headers(input.headers);
      }
      this.method = input.method;
      this.mode = input.mode;
      this.signal = input.signal;
      if (!body && input._bodyInit != null) {
        body = input._bodyInit;
        input.bodyUsed = true;
      }
    } else {
      this.url = String(input);
    }

    this.credentials = options.credentials || this.credentials || 'same-origin';
    if (options.headers || !this.headers) {
      this.headers = new Headers(options.headers);
    }
    this.method = normalizeMethod(options.method || this.method || 'GET');
    this.mode = options.mode || this.mode || null;
    this.signal = options.signal || this.signal;
    this.referrer = null;

    if ((this.method === 'GET' || this.method === 'HEAD') && body) {
      throw new TypeError('Body not allowed for GET or HEAD requests')
    }
    this._initBody(body);
  }

  Request.prototype.clone = function() {
    return new Request(this, {body: this._bodyInit})
  };

  function decode(body) {
    var form = new FormData();
    body
      .trim()
      .split('&')
      .forEach(function(bytes) {
        if (bytes) {
          var split = bytes.split('=');
          var name = split.shift().replace(/\+/g, ' ');
          var value = split.join('=').replace(/\+/g, ' ');
          form.append(decodeURIComponent(name), decodeURIComponent(value));
        }
      });
    return form
  }

  function parseHeaders(rawHeaders) {
    var headers = new Headers();
    // Replace instances of \r\n and \n followed by at least one space or horizontal tab with a space
    // https://tools.ietf.org/html/rfc7230#section-3.2
    var preProcessedHeaders = rawHeaders.replace(/\r?\n[\t ]+/g, ' ');
    preProcessedHeaders.split(/\r?\n/).forEach(function(line) {
      var parts = line.split(':');
      var key = parts.shift().trim();
      if (key) {
        var value = parts.join(':').trim();
        headers.append(key, value);
      }
    });
    return headers
  }

  Body.call(Request.prototype);

  function Response(bodyInit, options) {
    if (!options) {
      options = {};
    }

    this.type = 'default';
    this.status = options.status === undefined ? 200 : options.status;
    this.ok = this.status >= 200 && this.status < 300;
    this.statusText = 'statusText' in options ? options.statusText : 'OK';
    this.headers = new Headers(options.headers);
    this.url = options.url || '';
    this._initBody(bodyInit);
  }

  Body.call(Response.prototype);

  Response.prototype.clone = function() {
    return new Response(this._bodyInit, {
      status: this.status,
      statusText: this.statusText,
      headers: new Headers(this.headers),
      url: this.url
    })
  };

  Response.error = function() {
    var response = new Response(null, {status: 0, statusText: ''});
    response.type = 'error';
    return response
  };

  var redirectStatuses = [301, 302, 303, 307, 308];

  Response.redirect = function(url, status) {
    if (redirectStatuses.indexOf(status) === -1) {
      throw new RangeError('Invalid status code')
    }

    return new Response(null, {status: status, headers: {location: url}})
  };

  exports.DOMException = self.DOMException;
  try {
    new exports.DOMException();
  } catch (err) {
    exports.DOMException = function(message, name) {
      this.message = message;
      this.name = name;
      var error = Error(message);
      this.stack = error.stack;
    };
    exports.DOMException.prototype = Object.create(Error.prototype);
    exports.DOMException.prototype.constructor = exports.DOMException;
  }

  function fetch(input, init) {
    return new Promise(function(resolve, reject) {
      var request = new Request(input, init);

      if (request.signal && request.signal.aborted) {
        return reject(new exports.DOMException('Aborted', 'AbortError'))
      }

      var xhr = new XMLHttpRequest();

      function abortXhr() {
        xhr.abort();
      }

      xhr.onload = function() {
        var options = {
          status: xhr.status,
          statusText: xhr.statusText,
          headers: parseHeaders(xhr.getAllResponseHeaders() || '')
        };
        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL');
        var body = 'response' in xhr ? xhr.response : xhr.responseText;
        resolve(new Response(body, options));
      };

      xhr.onerror = function() {
        reject(new TypeError('Network request failed'));
      };

      xhr.ontimeout = function() {
        reject(new TypeError('Network request failed'));
      };

      xhr.onabort = function() {
        reject(new exports.DOMException('Aborted', 'AbortError'));
      };

      xhr.open(request.method, request.url, true);

      if (request.credentials === 'include') {
        xhr.withCredentials = true;
      } else if (request.credentials === 'omit') {
        xhr.withCredentials = false;
      }

      if ('responseType' in xhr && support.blob) {
        xhr.responseType = 'blob';
      }

      request.headers.forEach(function(value, name) {
        xhr.setRequestHeader(name, value);
      });

      if (request.signal) {
        request.signal.addEventListener('abort', abortXhr);

        xhr.onreadystatechange = function() {
          // DONE (success or failure)
          if (xhr.readyState === 4) {
            request.signal.removeEventListener('abort', abortXhr);
          }
        };
      }

      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);
    })
  }

  fetch.polyfill = true;

  if (!self.fetch) {
    self.fetch = fetch;
    self.Headers = Headers;
    self.Request = Request;
    self.Response = Response;
  }

  exports.Headers = Headers;
  exports.Request = Request;
  exports.Response = Response;
  exports.fetch = fetch;

  Object.defineProperty(exports, '__esModule', { value: true });

  return exports;

}({}));
})(__self__);
__self__.fetch.ponyfill = true;
// Remove "polyfill" property added by whatwg-fetch
delete __self__.fetch.polyfill;
// Choose between native implementation (global) or custom implementation (__self__)
// var ctx = global.fetch ? global : __self__;
var ctx = __self__; // this line disable service worker support temporarily
exports = ctx.fetch // To enable: import fetch from 'cross-fetch'
exports.default = ctx.fetch // For TypeScript consumers without esModuleInterop.
exports.fetch = ctx.fetch // To enable: import {fetch} from 'cross-fetch'
exports.Headers = ctx.Headers
exports.Request = ctx.Request
exports.Response = ctx.Response
module.exports = exports


/***/ }),

/***/ "./src/AdminLevel.ts":
/*!***************************!*\
  !*** ./src/AdminLevel.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ADMIN_LEVEL_CODES": () => (/* binding */ ADMIN_LEVEL_CODES),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// eslint-disable-next-line no-shadow
var ADMIN_LEVEL_CODES;
(function (ADMIN_LEVEL_CODES) {
    ADMIN_LEVEL_CODES[ADMIN_LEVEL_CODES["STATE_CODE"] = 1] = "STATE_CODE";
    ADMIN_LEVEL_CODES[ADMIN_LEVEL_CODES["COUNTY_CODE"] = 2] = "COUNTY_CODE";
})(ADMIN_LEVEL_CODES || (ADMIN_LEVEL_CODES = {}));
var AdminLevel = /** @class */ (function () {
    function AdminLevel(_a) {
        var level = _a.level, name = _a.name, code = _a.code;
        this.level = level;
        this.name = name;
        this.code = code;
    }
    AdminLevel.create = function (object) {
        return new this(object);
    };
    AdminLevel.prototype.toObject = function () {
        return {
            level: this.level,
            name: this.name,
            code: this.code,
        };
    };
    AdminLevel.prototype.getLevel = function () {
        return this.level;
    };
    AdminLevel.prototype.getName = function () {
        return this.name;
    };
    AdminLevel.prototype.getCode = function () {
        return this.code;
    };
    return AdminLevel;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AdminLevel);


/***/ }),

/***/ "./src/ExternalLoader.ts":
/*!*******************************!*\
  !*** ./src/ExternalLoader.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var cross_fetch__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cross-fetch */ "./node_modules/cross-fetch/dist/browser-ponyfill.js");
/* harmony import */ var cross_fetch__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cross_fetch__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./error */ "./src/error/ResponseError.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils */ "./src/utils.ts");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};



var defaultOptions = {
    protocol: "http",
    method: "GET",
};
/**
 * Load data from external geocoding engines.
 */
var ExternalLoader = /** @class */ (function () {
    function ExternalLoader(options) {
        if (options === void 0) { options = defaultOptions; }
        this.options = defaultOptions;
        this.setOptions(options);
    }
    ExternalLoader.prototype.setOptions = function (options) {
        this.options = __assign(__assign({}, defaultOptions), options);
    };
    ExternalLoader.prototype.getOptions = function () {
        return this.options;
    };
    ExternalLoader.prototype.executeRequest = function (params, callback, externalLoaderHeaders, body, errorCallback) {
        var _a = this.options, protocol = _a.protocol, host = _a.host, pathname = _a.pathname, method = _a.method;
        if (!host) {
            throw new Error("A host is required for the external loader.");
        }
        if (!pathname) {
            throw new Error("A pathname is required for the external loader.");
        }
        var requestUrl = new URL(protocol + "://" + host + "/" + pathname);
        var jsonpCallback = params.jsonpCallback, requestParams = __rest(params, ["jsonpCallback"]);
        var filteredRequestParams = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.filterUndefinedObjectValues)(requestParams);
        Object.keys(filteredRequestParams).forEach(function (paramKey) {
            var _a;
            return requestUrl.searchParams.append(paramKey, (_a = filteredRequestParams[paramKey]) !== null && _a !== void 0 ? _a : "");
        });
        if (jsonpCallback) {
            ExternalLoader.runJsonpCallback(requestUrl, callback, jsonpCallback);
            return;
        }
        var headers = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.filterUndefinedObjectValues)(externalLoaderHeaders || {});
        cross_fetch__WEBPACK_IMPORTED_MODULE_0___default()(requestUrl.toString(), {
            headers: headers,
            method: method,
            body: method === "POST" ? JSON.stringify(body) : undefined,
        })
            .then(function (response) {
            if (!response.ok) {
                throw new _error__WEBPACK_IMPORTED_MODULE_2__.default("Received HTTP status code " + response.status + " when attempting geocoding request.", response);
            }
            return response.json();
        })
            // eslint-disable-next-line @typescript-eslint/no-explicit-any
            .then(function (data) { return callback(data); })
            .catch(function (error) {
            if (errorCallback && error instanceof _error__WEBPACK_IMPORTED_MODULE_2__.default) {
                errorCallback(error);
                return;
            }
            setTimeout(function () {
                throw error;
            });
        });
    };
    ExternalLoader.runJsonpCallback = function (requestUrl, callback, jsonpCallback) {
        if (!(0,_utils__WEBPACK_IMPORTED_MODULE_1__.isBrowser)()) {
            throw new Error('"jsonpCallback" parameter can only be used in a browser environment.');
        }
        requestUrl.searchParams.append(jsonpCallback, ExternalLoader.generateJsonpCallback(callback));
        // Create a new script element.
        var scriptElement = document.createElement("script");
        // Set its source to the JSONP API.
        scriptElement.src = requestUrl.toString();
        // Stick the script element in the page <head>.
        document.getElementsByTagName("head")[0].appendChild(scriptElement);
    };
    /**
     * Generates randomly-named function to use as a callback for JSONP requests.
     * @see https://github.com/OscarGodson/JSONP
     */
    ExternalLoader.generateJsonpCallback = function (callback) {
        // Use timestamp + a random factor to account for a lot of requests in a short time.
        // e.g. jsonp1394571775161.
        var timestamp = Date.now();
        var generatedFunction = "jsonp" + Math.round(timestamp + Math.random() * 1000001);
        // Generate the temp JSONP function using the name above.
        // First, call the function the user defined in the callback param [callback(json)].
        // Then delete the generated function from the window [delete window[generatedFunction]].
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        window[generatedFunction] = function (json) {
            callback(json);
            // eslint-disable-next-line @typescript-eslint/no-explicit-any
            delete window[generatedFunction];
        };
        return generatedFunction;
    };
    return ExternalLoader;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ExternalLoader);


/***/ }),

/***/ "./src/GeoJsonDumper.ts":
/*!******************************!*\
  !*** ./src/GeoJsonDumper.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};
var GeoJsonDumper = /** @class */ (function () {
    function GeoJsonDumper() {
    }
    GeoJsonDumper.dump = function (geocoded) {
        var result = GeoJsonDumper.baseGeoJson;
        var _a = geocoded.toObject(), coordinates = _a.coordinates, bounds = _a.bounds, adminLevels = _a.adminLevels, geocodedProperties = __rest(_a, ["coordinates", "bounds", "adminLevels"]);
        var properties = __assign({}, geocodedProperties);
        Object.keys(properties).forEach(function (property) {
            return properties[property] === undefined && delete properties[property];
        });
        if (adminLevels && adminLevels.length > 0) {
            properties = __assign(__assign({}, properties), { adminLevels: adminLevels.map(function (adminLevel) { return adminLevel.toObject(); }) });
        }
        result = __assign(__assign({}, result), { properties: properties });
        if (coordinates) {
            result = __assign(__assign({}, result), {
                geometry: __assign(__assign({}, result.geometry), { type: "Point", coordinates: [
                        parseFloat(coordinates.longitude.toString()),
                        parseFloat(coordinates.latitude.toString()),
                    ] }),
            });
        }
        if (bounds) {
            result = __assign(__assign({}, result), { bbox: [
                    parseFloat(bounds.longitudeSW.toString()),
                    parseFloat(bounds.latitudeSW.toString()),
                    parseFloat(bounds.longitudeNE.toString()),
                    parseFloat(bounds.latitudeNE.toString()),
                ] });
        }
        return result;
    };
    GeoJsonDumper.baseGeoJson = {
        type: "Feature",
        properties: {},
        geometry: {
            type: "Point",
            coordinates: [0, 0],
        },
    };
    return GeoJsonDumper;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GeoJsonDumper);


/***/ }),

/***/ "./src/Geocoded.ts":
/*!*************************!*\
  !*** ./src/Geocoded.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var Geocoded = /** @class */ (function () {
    function Geocoded(_a) {
        var coordinates = _a.coordinates, bounds = _a.bounds, formattedAddress = _a.formattedAddress, streetNumber = _a.streetNumber, streetName = _a.streetName, subLocality = _a.subLocality, locality = _a.locality, postalCode = _a.postalCode, region = _a.region, adminLevels = _a.adminLevels, country = _a.country, countryCode = _a.countryCode, timezone = _a.timezone;
        this.coordinates = coordinates;
        this.bounds = bounds;
        this.formattedAddress = formattedAddress;
        this.streetNumber = streetNumber;
        this.streetName = streetName;
        this.subLocality = subLocality;
        this.locality = locality;
        this.postalCode = postalCode;
        this.region = region;
        this.adminLevels = adminLevels || [];
        this.country = country;
        this.countryCode = countryCode;
        this.timezone = timezone;
    }
    Geocoded.create = function (object) {
        return new this(object);
    };
    Geocoded.prototype.toObject = function () {
        return {
            coordinates: this.coordinates,
            bounds: this.bounds,
            formattedAddress: this.formattedAddress,
            streetNumber: this.streetNumber,
            streetName: this.streetName,
            subLocality: this.subLocality,
            locality: this.locality,
            postalCode: this.postalCode,
            region: this.region,
            adminLevels: this.adminLevels,
            country: this.country,
            countryCode: this.countryCode,
            timezone: this.timezone,
        };
    };
    Geocoded.prototype.withBounds = function (bounds) {
        return this.constructor.create(__assign(__assign({}, this.toObject()), { bounds: bounds }));
    };
    Geocoded.prototype.withCoordinates = function (coordinates) {
        return this.constructor.create(__assign(__assign({}, this.toObject()), { coordinates: coordinates }));
    };
    Geocoded.prototype.getCoordinates = function () {
        return this.coordinates;
    };
    Geocoded.prototype.getBounds = function () {
        return this.bounds;
    };
    Geocoded.prototype.getFormattedAddress = function () {
        return this.formattedAddress;
    };
    Geocoded.prototype.getStreetNumber = function () {
        return this.streetNumber;
    };
    Geocoded.prototype.getStreetName = function () {
        return this.streetName;
    };
    Geocoded.prototype.getSubLocality = function () {
        return this.subLocality;
    };
    Geocoded.prototype.getLocality = function () {
        return this.locality;
    };
    Geocoded.prototype.getPostalCode = function () {
        return this.postalCode;
    };
    Geocoded.prototype.getRegion = function () {
        return this.region;
    };
    Geocoded.prototype.addAdminLevel = function (adminLevel) {
        this.adminLevels.push(adminLevel);
    };
    Geocoded.prototype.getAdminLevels = function () {
        return this.adminLevels;
    };
    Geocoded.prototype.getCountry = function () {
        return this.country;
    };
    Geocoded.prototype.getCountryCode = function () {
        return this.countryCode;
    };
    Geocoded.prototype.getTimezone = function () {
        return this.timezone;
    };
    return Geocoded;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Geocoded);


/***/ }),

/***/ "./src/GeocoderProviderFactory.ts":
/*!****************************************!*\
  !*** ./src/GeocoderProviderFactory.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _provider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./provider */ "./src/provider/ProviderInterface.ts");
/* harmony import */ var _provider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./provider */ "./src/provider/bing/BingProvider.ts");
/* harmony import */ var _provider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./provider */ "./src/provider/ChainProvider.ts");
/* harmony import */ var _provider__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./provider */ "./src/provider/geoplugin/GeoPluginProvider.ts");
/* harmony import */ var _provider__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./provider */ "./src/provider/googlemaps/GoogleMapsProvider.ts");
/* harmony import */ var _provider__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./provider */ "./src/provider/locationiq/LocationIQProvider.ts");
/* harmony import */ var _provider__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./provider */ "./src/provider/mapbox/MapboxProvider.ts");
/* harmony import */ var _provider__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./provider */ "./src/provider/mapquest/MapQuestProvider.ts");
/* harmony import */ var _provider__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./provider */ "./src/provider/nominatim/NominatimProvider.ts");
/* harmony import */ var _provider__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./provider */ "./src/provider/opencage/OpenCageProvider.ts");
/* harmony import */ var _provider__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./provider */ "./src/provider/yandex/YandexProvider.ts");
/* harmony import */ var _ExternalLoader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ExternalLoader */ "./src/ExternalLoader.ts");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};


var ProviderFactory = /** @class */ (function () {
    function ProviderFactory() {
    }
    /**
     * Creates Geocoder Provider instances.
     * @param options
     *   Either a string representing the registered provider, or an object with the
     *   following settings for instigating providers:
     *     - provider: A string representing the registered provider.
     * @return
     *   An object compatible with ProviderInterface, or undefined if there's not a
     *   registered provider.
     */
    ProviderFactory.createProvider = function (options) {
        var createProviderOptions = __assign(__assign({}, _provider__WEBPACK_IMPORTED_MODULE_0__.defaultProviderOptions), (typeof options === "string" ? { provider: options } : options));
        var externalLoader = new _ExternalLoader__WEBPACK_IMPORTED_MODULE_1__.default();
        var provider = createProviderOptions.provider, providerOptions = __rest(createProviderOptions, ["provider"]);
        switch (provider) {
            case "bing":
            case "bingmaps":
            case "microsoft":
                return (new _provider__WEBPACK_IMPORTED_MODULE_2__.default(externalLoader, __assign(__assign({}, _provider__WEBPACK_IMPORTED_MODULE_2__.defaultBingProviderOptions), providerOptions)));
            case "chain":
                return new _provider__WEBPACK_IMPORTED_MODULE_3__.default(__assign(__assign({}, _provider__WEBPACK_IMPORTED_MODULE_3__.defaultChainProviderOptions), providerOptions));
            case "geoplugin":
                return (new _provider__WEBPACK_IMPORTED_MODULE_4__.default(externalLoader, providerOptions));
            case "google":
            case "googlemaps":
                return (new _provider__WEBPACK_IMPORTED_MODULE_5__.default(externalLoader, providerOptions));
            case "locationiq":
                return (new _provider__WEBPACK_IMPORTED_MODULE_6__.default(externalLoader, __assign(__assign({}, _provider__WEBPACK_IMPORTED_MODULE_6__.defaultLocationIQProviderOptions), providerOptions)));
            case "mapbox":
                return (new _provider__WEBPACK_IMPORTED_MODULE_7__.default(externalLoader, __assign(__assign({}, _provider__WEBPACK_IMPORTED_MODULE_7__.defaultMapboxProviderOptions), providerOptions)));
            case "mapquest":
                return (new _provider__WEBPACK_IMPORTED_MODULE_8__.default(externalLoader, __assign(__assign({}, _provider__WEBPACK_IMPORTED_MODULE_8__.defaultMapQuestProviderOptions), providerOptions)));
            case "openstreetmap":
            case "nominatim":
                return (new _provider__WEBPACK_IMPORTED_MODULE_9__.default(externalLoader, __assign(__assign({}, _provider__WEBPACK_IMPORTED_MODULE_9__.defaultNominatimProviderOptions), providerOptions)));
            case "opencage":
                return (new _provider__WEBPACK_IMPORTED_MODULE_10__.default(externalLoader, __assign(__assign({}, _provider__WEBPACK_IMPORTED_MODULE_10__.defaultOpenCageProviderOptions), providerOptions)));
            case "yandex":
                return (new _provider__WEBPACK_IMPORTED_MODULE_11__.default(externalLoader, __assign(__assign({}, _provider__WEBPACK_IMPORTED_MODULE_11__.defaultYandexProviderOptions), providerOptions)));
            default:
        }
        return undefined;
    };
    return ProviderFactory;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ProviderFactory);


/***/ }),

/***/ "./src/UniversalGeocoder.ts":
/*!**********************************!*\
  !*** ./src/UniversalGeocoder.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _GeocoderProviderFactory__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GeocoderProviderFactory */ "./src/GeocoderProviderFactory.ts");

var UniversalGeocoder = /** @class */ (function () {
    function UniversalGeocoder() {
        this.version = "0.1.0";
    }
    UniversalGeocoder.createGeocoder = function (options) {
        return _GeocoderProviderFactory__WEBPACK_IMPORTED_MODULE_0__.default.createProvider(options);
    };
    return UniversalGeocoder;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UniversalGeocoder);


/***/ }),

/***/ "./src/error/ResponseError.ts":
/*!************************************!*\
  !*** ./src/error/ResponseError.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var ResponseError = /** @class */ (function (_super) {
    __extends(ResponseError, _super);
    function ResponseError(message, response) {
        var _this = _super.call(this, message) || this;
        _this.name = "ResponseError";
        _this.response = response;
        // eslint-disable-next-line no-proto
        _this.__proto__ = ResponseError.prototype;
        return _this;
    }
    ResponseError.prototype.getResponse = function () {
        return this.response;
    };
    return ResponseError;
}(Error));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ResponseError);


/***/ }),

/***/ "./src/provider/ChainProvider.ts":
/*!***************************************!*\
  !*** ./src/provider/ChainProvider.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "defaultChainProviderOptions": () => (/* binding */ defaultChainProviderOptions),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ */ "./src/provider/ProviderInterface.ts");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ */ "./src/provider/ProviderHelpers.ts");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};

var defaultChainProviderOptions = __assign(__assign({}, ___WEBPACK_IMPORTED_MODULE_0__.defaultProviderOptions), { providers: [] });
var ChainProvider = /** @class */ (function () {
    function ChainProvider(options) {
        if (options === void 0) { options = defaultChainProviderOptions; }
        this.options = options;
    }
    ChainProvider.prototype.geocode = function (query, callback, errorCallback) {
        var _this = this;
        if (this.options.parallelize || this.options.first) {
            if (!callback) {
                return new Promise(function (resolve, reject) {
                    return _this.geocodeAllProviders(query, function (results) { return resolve(results); }, function (error) { return reject(error); });
                });
            }
            return this.geocodeAllProviders(query, callback, errorCallback);
        }
        if (!callback) {
            return new Promise(function (resolve, reject) {
                return _this.geocodeNextProvider(_this.options.providers, query, function (results) { return resolve(results); }, function (error) { return reject(error); });
            });
        }
        return this.geocodeNextProvider(this.options.providers, query, callback, errorCallback);
    };
    ChainProvider.prototype.geodecode = function (latitudeOrQuery, longitudeOrCallback, callbackOrErrorCallback, errorCallback) {
        var _this = this;
        var reverseQuery = ___WEBPACK_IMPORTED_MODULE_1__.default.getReverseQueryFromParameters(latitudeOrQuery, longitudeOrCallback);
        var reverseCallback = ___WEBPACK_IMPORTED_MODULE_1__.default.getCallbackFromParameters(longitudeOrCallback, callbackOrErrorCallback);
        var reverseErrorCallback = ___WEBPACK_IMPORTED_MODULE_1__.default.getErrorCallbackFromParameters(longitudeOrCallback, callbackOrErrorCallback, errorCallback);
        if (this.options.parallelize || this.options.first) {
            if (!reverseCallback) {
                return new Promise(function (resolve, reject) {
                    return _this.geodecodeAllProviders(reverseQuery, function (results) { return resolve(results); }, function (error) { return reject(error); });
                });
            }
            return this.geodecodeAllProviders(reverseQuery, reverseCallback, reverseErrorCallback);
        }
        if (!reverseCallback) {
            return new Promise(function (resolve, reject) {
                return _this.geodecodeNextProvider(_this.options.providers, reverseQuery, function (results) { return resolve(results); }, function (error) { return reject(error); });
            });
        }
        return this.geodecodeNextProvider(this.options.providers, reverseQuery, reverseCallback, reverseErrorCallback);
    };
    ChainProvider.prototype.geocodeNextProvider = function (providers, query, callback, errorCallback) {
        var _this = this;
        var provider = providers[0], nextProviders = providers.slice(1);
        var resultCallback = function (results) {
            if (results.length > 0) {
                callback(results);
                return;
            }
            _this.geocodeNextProvider(nextProviders, query, callback, errorCallback);
        };
        var resultErrorCallback = function (responseError) {
            if (errorCallback) {
                errorCallback(responseError);
            }
            if (!errorCallback) {
                // eslint-disable-next-line no-console
                console.error("An error has occurred when geocoding with the provider " + provider.constructor.name, responseError);
            }
            resultCallback([]);
        };
        provider.geocode(query, resultCallback, resultErrorCallback);
    };
    ChainProvider.prototype.geodecodeNextProvider = function (providers, reverseQuery, callback, errorCallback) {
        var _this = this;
        var provider = providers[0], nextProviders = providers.slice(1);
        var resultCallback = function (results) {
            if (results.length > 0) {
                callback(results);
                return;
            }
            _this.geodecodeNextProvider(nextProviders, reverseQuery, callback, errorCallback);
        };
        var resultErrorCallback = function (responseError) {
            if (errorCallback) {
                errorCallback(responseError);
            }
            if (!errorCallback) {
                // eslint-disable-next-line no-console
                console.error("An error has occurred when geodecoding with the provider " + provider.constructor.name, responseError);
            }
            resultCallback([]);
        };
        provider.geodecode(reverseQuery, resultCallback, resultErrorCallback);
    };
    ChainProvider.prototype.geocodeAllProviders = function (query, callback, errorCallback) {
        var _this = this;
        var providerResults = new Map();
        var callbackCalled = false;
        var getProviderResult = function () {
            return _this.options.providers.reduce(function (result, provider) {
                var providerResult = result;
                if (undefined === providerResult && _this.options.first) {
                    providerResult = [];
                }
                if (undefined === providerResult) {
                    return undefined;
                }
                if (providerResult.length > 0) {
                    return providerResult;
                }
                return providerResults.get(provider.constructor.name);
            }, []);
        };
        var resultProviderCallback = function (providerName) { return function (results) {
            providerResults.set(providerName, results);
            var providerResult = getProviderResult();
            if (!callbackCalled && providerResult) {
                callback(providerResult);
                callbackCalled = true;
            }
        }; };
        var resultProviderErrorCallback = function (providerName) { return function (responseError) {
            if (errorCallback) {
                errorCallback(responseError);
            }
            if (!errorCallback) {
                // eslint-disable-next-line no-console
                console.error("An error has occurred when geocoding with the provider " + providerName, responseError);
            }
            resultProviderCallback(providerName)([]);
        }; };
        this.options.providers.forEach(function (provider) {
            var providerName = provider.constructor.name;
            provider.geocode(query, resultProviderCallback(providerName), resultProviderErrorCallback(providerName));
        });
    };
    ChainProvider.prototype.geodecodeAllProviders = function (reverseQuery, callback, errorCallback) {
        var _this = this;
        var providerResults = new Map();
        var callbackCalled = false;
        var getProviderResult = function () {
            return _this.options.providers.reduce(function (result, provider) {
                var providerResult = result;
                if (undefined === providerResult && _this.options.first) {
                    providerResult = [];
                }
                if (undefined === providerResult) {
                    return undefined;
                }
                if (providerResult.length > 0) {
                    return providerResult;
                }
                return providerResults.get(provider.constructor.name);
            }, []);
        };
        var resultProviderCallback = function (providerName) { return function (results) {
            providerResults.set(providerName, results);
            var providerResult = getProviderResult();
            if (!callbackCalled && providerResult) {
                callback(providerResult);
                callbackCalled = true;
            }
        }; };
        var resultProviderErrorCallback = function (providerName) { return function (responseError) {
            if (errorCallback) {
                errorCallback(responseError);
            }
            if (!errorCallback) {
                // eslint-disable-next-line no-console
                console.error("An error has occurred when geodecoding with the provider " + providerName, responseError);
            }
            resultProviderCallback(providerName)([]);
        }; };
        this.options.providers.forEach(function (provider) {
            var providerName = provider.constructor.name;
            provider.geodecode(reverseQuery, resultProviderCallback(providerName), resultProviderErrorCallback(providerName));
        });
    };
    // eslint-disable-next-line class-methods-use-this
    ChainProvider.prototype.executeRequest = function (
    // eslint-disable-next-line @typescript-eslint/no-unused-vars
    params, 
    // eslint-disable-next-line @typescript-eslint/no-unused-vars
    callback, 
    // eslint-disable-next-line @typescript-eslint/no-unused-vars
    headers, 
    // eslint-disable-next-line @typescript-eslint/no-unused-vars
    body, 
    // eslint-disable-next-line @typescript-eslint/no-unused-vars
    errorCallback) {
        throw new Error("executeRequest cannot be called directly from the chain provider.");
    };
    return ChainProvider;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChainProvider);


/***/ }),

/***/ "./src/provider/ProviderHelpers.ts":
/*!*****************************************!*\
  !*** ./src/provider/ProviderHelpers.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _query__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../query */ "./src/query/GeocodeQuery.ts");
/* harmony import */ var _query__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../query */ "./src/query/ReverseQuery.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ "./src/utils.ts");


var ProviderHelpers = /** @class */ (function () {
    function ProviderHelpers() {
    }
    ProviderHelpers.getGeocodeQueryFromParameter = function (query, geocodeQuery) {
        if (geocodeQuery === void 0) { geocodeQuery = _query__WEBPACK_IMPORTED_MODULE_0__.default; }
        if (typeof query === "string") {
            if ((0,_utils__WEBPACK_IMPORTED_MODULE_1__.isIpv4)(query) || (0,_utils__WEBPACK_IMPORTED_MODULE_1__.isIpv6)(query)) {
                return geocodeQuery.create({ ip: query });
            }
            return geocodeQuery.create({ text: query });
        }
        if (!(query instanceof geocodeQuery)) {
            return geocodeQuery.create(query);
        }
        return query;
    };
    ProviderHelpers.getReverseQueryFromParameters = function (latitudeOrQuery, longitudeOrCallback, reverseQuery) {
        if (reverseQuery === void 0) { reverseQuery = _query__WEBPACK_IMPORTED_MODULE_2__.default; }
        if (typeof latitudeOrQuery === "number" ||
            typeof latitudeOrQuery === "string") {
            if (!(typeof longitudeOrCallback === "number" ||
                typeof longitudeOrCallback === "string")) {
                throw new Error("The second parameter of geodecode must be a longitude if the first one is a latitude");
            }
            return reverseQuery.create({
                coordinates: {
                    latitude: latitudeOrQuery,
                    longitude: longitudeOrCallback,
                },
            });
        }
        if (!(latitudeOrQuery instanceof reverseQuery)) {
            return reverseQuery.create(latitudeOrQuery);
        }
        return latitudeOrQuery;
    };
    ProviderHelpers.getCallbackFromParameters = function (longitudeOrCallback, callbackOrErrorCallback) {
        if (!(typeof longitudeOrCallback === "number" ||
            typeof longitudeOrCallback === "string")) {
            return longitudeOrCallback;
        }
        if (callbackOrErrorCallback) {
            return callbackOrErrorCallback;
        }
        return undefined;
    };
    ProviderHelpers.getErrorCallbackFromParameters = function (longitudeOrCallback, callbackOrErrorCallback, errorCallback) {
        if (errorCallback) {
            return errorCallback;
        }
        if (typeof longitudeOrCallback === "number" ||
            typeof longitudeOrCallback === "string") {
            return undefined;
        }
        return callbackOrErrorCallback;
    };
    return ProviderHelpers;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ProviderHelpers);


/***/ }),

/***/ "./src/provider/ProviderInterface.ts":
/*!*******************************************!*\
  !*** ./src/provider/ProviderInterface.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DEFAULT_RESULT_LIMIT": () => (/* binding */ DEFAULT_RESULT_LIMIT),
/* harmony export */   "defaultProviderOptions": () => (/* binding */ defaultProviderOptions)
/* harmony export */ });
var DEFAULT_RESULT_LIMIT = 5;
var defaultProviderOptions = {
    useSsl: false,
    useJsonp: false,
};


/***/ }),

/***/ "./src/provider/bing/BingGeocoded.ts":
/*!*******************************************!*\
  !*** ./src/provider/bing/BingGeocoded.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Geocoded__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Geocoded */ "./src/Geocoded.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};

var BingGeocoded = /** @class */ (function (_super) {
    __extends(BingGeocoded, _super);
    function BingGeocoded(_a) {
        var attribution = _a.attribution, precision = _a.precision, geocodedObject = __rest(_a, ["attribution", "precision"]);
        var _this = _super.call(this, geocodedObject) || this;
        _this.attribution = attribution;
        _this.precision = precision;
        return _this;
    }
    BingGeocoded.create = function (object) {
        return new this(object);
    };
    BingGeocoded.prototype.toObject = function () {
        return __assign(__assign({}, _super.prototype.toObject.call(this)), { attribution: this.attribution, precision: this.precision });
    };
    BingGeocoded.prototype.withAttribution = function (attribution) {
        return new BingGeocoded(__assign(__assign({}, this.toObject()), { attribution: attribution }));
    };
    BingGeocoded.prototype.getAttribution = function () {
        return this.attribution;
    };
    BingGeocoded.prototype.withPrecision = function (precision) {
        return new BingGeocoded(__assign(__assign({}, this.toObject()), { precision: precision }));
    };
    BingGeocoded.prototype.getPrecision = function () {
        return this.precision;
    };
    return BingGeocoded;
}(_Geocoded__WEBPACK_IMPORTED_MODULE_0__.default));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BingGeocoded);


/***/ }),

/***/ "./src/provider/bing/BingProvider.ts":
/*!*******************************************!*\
  !*** ./src/provider/bing/BingProvider.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "defaultBingProviderOptions": () => (/* binding */ defaultBingProviderOptions),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./.. */ "./src/provider/ProviderInterface.ts");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./.. */ "./src/provider/ProviderHelpers.ts");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./.. */ "./src/provider/bing/BingGeocoded.ts");
/* harmony import */ var _AdminLevel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../AdminLevel */ "./src/AdminLevel.ts");
/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../error */ "./src/error/ResponseError.ts");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};



var defaultBingProviderOptions = __assign(__assign({}, ___WEBPACK_IMPORTED_MODULE_0__.defaultProviderOptions), { apiKey: "" });
var BingProvider = /** @class */ (function () {
    function BingProvider(_externalLoader, options) {
        if (options === void 0) { options = defaultBingProviderOptions; }
        this.externalLoader = _externalLoader;
        this.options = __assign(__assign({}, defaultBingProviderOptions), options);
        if (!this.options.apiKey) {
            throw new Error('An API key is required for the Bing provider. Please add it in the "apiKey" option.');
        }
    }
    BingProvider.prototype.geocode = function (query, callback, errorCallback) {
        var _this = this;
        var geocodeQuery = ___WEBPACK_IMPORTED_MODULE_1__.default.getGeocodeQueryFromParameter(query);
        if (geocodeQuery.getIp()) {
            throw new Error("The Bing provider does not support IP geolocation, only location geocoding.");
        }
        this.externalLoader.setOptions({
            protocol: this.options.useSsl ? "https" : "http",
            host: "dev.virtualearth.net",
            pathname: "REST/v1/Locations/" + geocodeQuery.getText(),
        });
        var params = this.withCommonParams({
            maxRes: geocodeQuery.getLimit()
                ? geocodeQuery.getLimit().toString()
                : undefined,
        }, geocodeQuery);
        if (!callback) {
            return new Promise(function (resolve, reject) {
                return _this.executeRequest(params, function (results) { return resolve(results); }, {}, {}, function (error) { return reject(error); });
            });
        }
        return this.executeRequest(params, callback, {}, {}, errorCallback);
    };
    BingProvider.prototype.geodecode = function (latitudeOrQuery, longitudeOrCallback, callbackOrErrorCallback, errorCallback) {
        var _this = this;
        var reverseQuery = ___WEBPACK_IMPORTED_MODULE_1__.default.getReverseQueryFromParameters(latitudeOrQuery, longitudeOrCallback);
        var reverseCallback = ___WEBPACK_IMPORTED_MODULE_1__.default.getCallbackFromParameters(longitudeOrCallback, callbackOrErrorCallback);
        var reverseErrorCallback = ___WEBPACK_IMPORTED_MODULE_1__.default.getErrorCallbackFromParameters(longitudeOrCallback, callbackOrErrorCallback, errorCallback);
        this.externalLoader.setOptions({
            protocol: this.options.useSsl ? "https" : "http",
            host: "dev.virtualearth.net",
            pathname: "REST/v1/Locations/" + reverseQuery.getCoordinates().latitude + "," + reverseQuery.getCoordinates().longitude,
        });
        var params = this.withCommonParams({}, reverseQuery);
        if (!reverseCallback) {
            return new Promise(function (resolve, reject) {
                return _this.executeRequest(params, function (results) { return resolve(results); }, {}, {}, function (error) { return reject(error); });
            });
        }
        return this.executeRequest(params, reverseCallback, {}, {}, reverseErrorCallback);
    };
    BingProvider.prototype.withCommonParams = function (params, query) {
        return __assign(__assign({}, params), { key: this.options.apiKey, incl: "ciso2", c: query.getLocale(), jsonpCallback: this.options.useJsonp ? "jsonp" : undefined });
    };
    BingProvider.prototype.executeRequest = function (params, callback, headers, body, errorCallback) {
        this.externalLoader.executeRequest(params, function (data) {
            callback(data.resourceSets[0].resources.map(function (result) {
                return BingProvider.mapToGeocoded(result, data.copyright);
            }));
        }, headers, body, function (error) {
            var response = error.getResponse();
            response.json().then(function (data) {
                var errorMessage = data.errorDetails && data.errorDetails.length > 0
                    ? data.errorDetails[0]
                    : data.statusDescription || "";
                if (errorCallback) {
                    errorCallback(new _error__WEBPACK_IMPORTED_MODULE_2__.default(errorMessage, data));
                    return;
                }
                setTimeout(function () {
                    throw new Error(errorMessage);
                });
            });
        });
    };
    BingProvider.mapToGeocoded = function (result, attribution) {
        var latitude = result.point.coordinates[0];
        var longitude = result.point.coordinates[1];
        var formattedAddress = result.address.formattedAddress;
        var streetName = result.address.addressLine;
        var _a = result.address, locality = _a.locality, postalCode = _a.postalCode;
        var region = result.address.adminDistrict;
        var country = result.address.countryRegion;
        var countryCode = result.address.countryRegionIso2;
        var precision = result.confidence;
        var geocoded = ___WEBPACK_IMPORTED_MODULE_3__.default.create({
            coordinates: {
                latitude: latitude,
                longitude: longitude,
            },
            formattedAddress: formattedAddress,
            streetName: streetName,
            locality: locality,
            postalCode: postalCode,
            region: region,
            country: country,
            countryCode: countryCode,
            attribution: attribution,
            precision: precision,
        });
        geocoded = geocoded.withBounds({
            latitudeSW: result.bbox[0],
            longitudeSW: result.bbox[1],
            latitudeNE: result.bbox[2],
            longitudeNE: result.bbox[3],
        });
        var adminLevels = [
            "adminDistrict",
            "adminDistrict2",
        ];
        adminLevels.forEach(function (adminLevel, level) {
            if (result.address[adminLevel]) {
                geocoded.addAdminLevel(_AdminLevel__WEBPACK_IMPORTED_MODULE_4__.default.create({
                    level: level + 1,
                    name: result.address[adminLevel] || "",
                }));
            }
        });
        return geocoded;
    };
    return BingProvider;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (BingProvider);


/***/ }),

/***/ "./src/provider/bing/index.ts":
/*!************************************!*\
  !*** ./src/provider/bing/index.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BingGeocoded": () => (/* reexport safe */ _BingGeocoded__WEBPACK_IMPORTED_MODULE_0__.default),
/* harmony export */   "BingProvider": () => (/* reexport safe */ _BingProvider__WEBPACK_IMPORTED_MODULE_1__.default),
/* harmony export */   "defaultBingProviderOptions": () => (/* reexport safe */ _BingProvider__WEBPACK_IMPORTED_MODULE_1__.defaultBingProviderOptions)
/* harmony export */ });
/* harmony import */ var _BingGeocoded__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BingGeocoded */ "./src/provider/bing/BingGeocoded.ts");
/* harmony import */ var _BingProvider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BingProvider */ "./src/provider/bing/BingProvider.ts");





/***/ }),

/***/ "./src/provider/geoplugin/GeoPluginGeocoded.ts":
/*!*****************************************************!*\
  !*** ./src/provider/geoplugin/GeoPluginGeocoded.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Geocoded__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Geocoded */ "./src/Geocoded.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};

var GeoPluginGeocoded = /** @class */ (function (_super) {
    __extends(GeoPluginGeocoded, _super);
    function GeoPluginGeocoded(_a) {
        var attribution = _a.attribution, geocodedObject = __rest(_a, ["attribution"]);
        var _this = _super.call(this, geocodedObject) || this;
        _this.attribution = attribution;
        return _this;
    }
    GeoPluginGeocoded.create = function (object) {
        return new this(object);
    };
    GeoPluginGeocoded.prototype.toObject = function () {
        return __assign(__assign({}, _super.prototype.toObject.call(this)), { attribution: this.attribution });
    };
    GeoPluginGeocoded.prototype.withAttribution = function (attribution) {
        return new GeoPluginGeocoded(__assign(__assign({}, this.toObject()), { attribution: attribution }));
    };
    GeoPluginGeocoded.prototype.getAttribution = function () {
        return this.attribution;
    };
    return GeoPluginGeocoded;
}(_Geocoded__WEBPACK_IMPORTED_MODULE_0__.default));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GeoPluginGeocoded);


/***/ }),

/***/ "./src/provider/geoplugin/GeoPluginProvider.ts":
/*!*****************************************************!*\
  !*** ./src/provider/geoplugin/GeoPluginProvider.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./.. */ "./src/provider/ProviderInterface.ts");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./.. */ "./src/provider/ProviderHelpers.ts");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./.. */ "./src/provider/geoplugin/GeoPluginGeocoded.ts");
/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../error */ "./src/error/ResponseError.ts");
/* harmony import */ var _AdminLevel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../AdminLevel */ "./src/AdminLevel.ts");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};



var GeoPluginProvider = /** @class */ (function () {
    function GeoPluginProvider(_externalLoader, options) {
        if (options === void 0) { options = ___WEBPACK_IMPORTED_MODULE_0__.defaultProviderOptions; }
        this.externalLoader = _externalLoader;
        this.options = __assign(__assign({}, ___WEBPACK_IMPORTED_MODULE_0__.defaultProviderOptions), options);
    }
    GeoPluginProvider.prototype.geocode = function (query, callback, errorCallback) {
        var _this = this;
        var geocodeQuery = ___WEBPACK_IMPORTED_MODULE_1__.default.getGeocodeQueryFromParameter(query);
        if (geocodeQuery.getText()) {
            throw new Error("The GeoPlugin provider does not support location geocoding, only IP geolocation.");
        }
        if (["127.0.0.1", "::1"].includes(geocodeQuery.getIp() || "")) {
            var geocoded_1 = ___WEBPACK_IMPORTED_MODULE_2__.default.create({
                locality: "localhost",
                country: "localhost",
            });
            if (!callback) {
                return new Promise(function (resolve) { return resolve([geocoded_1]); });
            }
            return callback([geocoded_1]);
        }
        this.externalLoader.setOptions({
            protocol: this.options.useSsl ? "https" : "http",
            host: "www.geoplugin.net",
            pathname: "json.gp",
        });
        var params = {
            ip: geocodeQuery.getIp() || "",
        };
        if (!callback) {
            return new Promise(function (resolve, reject) {
                return _this.executeRequest(params, function (results) { return resolve(results); }, {}, {}, function (error) { return reject(error); });
            });
        }
        return this.executeRequest(params, callback, {}, {}, errorCallback);
    };
    // eslint-disable-next-line class-methods-use-this
    GeoPluginProvider.prototype.geodecode = function (
    // eslint-disable-next-line @typescript-eslint/no-unused-vars
    latitudeOrQuery, 
    // eslint-disable-next-line @typescript-eslint/no-unused-vars
    longitudeOrCallback, 
    // eslint-disable-next-line @typescript-eslint/no-unused-vars
    callbackOrErrorCallback, 
    // eslint-disable-next-line @typescript-eslint/no-unused-vars
    errorCallback) {
        throw new Error("The GeoPlugin provider does not support reverse geocoding.");
    };
    GeoPluginProvider.prototype.executeRequest = function (params, callback, headers, body, errorCallback) {
        this.externalLoader.executeRequest(params, function (data) {
            if (![200, 206].includes(data.geoplugin_status)) {
                var errorMessage_1 = "An error has occurred. Status: " + data.geoplugin_status + ".";
                if (errorCallback) {
                    errorCallback(new _error__WEBPACK_IMPORTED_MODULE_3__.default(errorMessage_1, data));
                    return;
                }
                setTimeout(function () {
                    throw new Error(errorMessage_1);
                });
                return;
            }
            callback([GeoPluginProvider.mapToGeocoded(data)]);
        }, headers, body, errorCallback);
    };
    GeoPluginProvider.mapToGeocoded = function (result) {
        var latitude = parseFloat(result.geoplugin_latitude);
        var longitude = parseFloat(result.geoplugin_longitude);
        var locality = result.geoplugin_city || undefined;
        var region = result.geoplugin_region || undefined;
        var country = result.geoplugin_countryName || undefined;
        var countryCode = result.geoplugin_countryCode || undefined;
        var timezone = result.geoplugin_timezone || undefined;
        var adminLevels = [];
        var attribution = result.geoplugin_credit || undefined;
        if (result.geoplugin_regionName) {
            adminLevels.push(_AdminLevel__WEBPACK_IMPORTED_MODULE_4__.default.create({
                level: _AdminLevel__WEBPACK_IMPORTED_MODULE_4__.ADMIN_LEVEL_CODES.STATE_CODE,
                name: result.geoplugin_regionName,
                code: result.geoplugin_regionCode || undefined,
            }));
        }
        var geocoded = ___WEBPACK_IMPORTED_MODULE_2__.default.create({
            coordinates: {
                latitude: latitude,
                longitude: longitude,
            },
            locality: locality,
            region: region,
            adminLevels: adminLevels,
            country: country,
            countryCode: countryCode,
            timezone: timezone,
            attribution: attribution,
        });
        return geocoded;
    };
    return GeoPluginProvider;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GeoPluginProvider);


/***/ }),

/***/ "./src/provider/geoplugin/index.ts":
/*!*****************************************!*\
  !*** ./src/provider/geoplugin/index.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GeoPluginGeocoded": () => (/* reexport safe */ _GeoPluginGeocoded__WEBPACK_IMPORTED_MODULE_0__.default),
/* harmony export */   "GeoPluginProvider": () => (/* reexport safe */ _GeoPluginProvider__WEBPACK_IMPORTED_MODULE_1__.default)
/* harmony export */ });
/* harmony import */ var _GeoPluginGeocoded__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GeoPluginGeocoded */ "./src/provider/geoplugin/GeoPluginGeocoded.ts");
/* harmony import */ var _GeoPluginProvider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GeoPluginProvider */ "./src/provider/geoplugin/GeoPluginProvider.ts");





/***/ }),

/***/ "./src/provider/googlemaps/GoogleMapsGeocodeQuery.ts":
/*!***********************************************************!*\
  !*** ./src/provider/googlemaps/GoogleMapsGeocodeQuery.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _query__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../query */ "./src/query/GeocodeQuery.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};

var GoogleMapsGeocodeQuery = /** @class */ (function (_super) {
    __extends(GoogleMapsGeocodeQuery, _super);
    function GoogleMapsGeocodeQuery(_a) {
        var countryCodes = _a.countryCodes, components = _a.components, channel = _a.channel, geocodeQueryObject = __rest(_a, ["countryCodes", "components", "channel"]);
        var _this = _super.call(this, geocodeQueryObject) || this;
        if (countryCodes && countryCodes.length !== 1) {
            throw new Error('The "countryCodes" parameter must have only one country code top-level domain.');
        }
        _this.countryCodes = countryCodes;
        _this.components = components;
        _this.channel = channel;
        return _this;
    }
    GoogleMapsGeocodeQuery.create = function (object) {
        return new this(object);
    };
    GoogleMapsGeocodeQuery.prototype.toObject = function () {
        return __assign(__assign({}, _super.prototype.toObject.call(this)), { countryCodes: this.countryCodes, components: this.components, channel: this.channel });
    };
    GoogleMapsGeocodeQuery.prototype.withCountryCodes = function (countryCodes) {
        return new GoogleMapsGeocodeQuery(__assign(__assign({}, this.toObject()), { countryCodes: countryCodes }));
    };
    GoogleMapsGeocodeQuery.prototype.getCountryCodes = function () {
        return this.countryCodes;
    };
    GoogleMapsGeocodeQuery.prototype.withComponents = function (components) {
        return new GoogleMapsGeocodeQuery(__assign(__assign({}, this.toObject()), { components: components }));
    };
    GoogleMapsGeocodeQuery.prototype.getComponents = function () {
        return this.components;
    };
    GoogleMapsGeocodeQuery.prototype.withChannel = function (channel) {
        return new GoogleMapsGeocodeQuery(__assign(__assign({}, this.toObject()), { channel: channel }));
    };
    GoogleMapsGeocodeQuery.prototype.getChannel = function () {
        return this.channel;
    };
    return GoogleMapsGeocodeQuery;
}(_query__WEBPACK_IMPORTED_MODULE_0__.default));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GoogleMapsGeocodeQuery);


/***/ }),

/***/ "./src/provider/googlemaps/GoogleMapsGeocoded.ts":
/*!*******************************************************!*\
  !*** ./src/provider/googlemaps/GoogleMapsGeocoded.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Geocoded__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Geocoded */ "./src/Geocoded.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};

var GoogleMapsGeocoded = /** @class */ (function (_super) {
    __extends(GoogleMapsGeocoded, _super);
    function GoogleMapsGeocoded(_a) {
        var placeId = _a.placeId, partialMatch = _a.partialMatch, types = _a.types, precision = _a.precision, streetAddress = _a.streetAddress, intersection = _a.intersection, political = _a.political, colloquialArea = _a.colloquialArea, ward = _a.ward, neighborhood = _a.neighborhood, premise = _a.premise, subpremise = _a.subpremise, naturalFeature = _a.naturalFeature, airport = _a.airport, park = _a.park, pointOfInterest = _a.pointOfInterest, establishment = _a.establishment, postalCodeSuffix = _a.postalCodeSuffix, subLocalityLevels = _a.subLocalityLevels, geocodedObject = __rest(_a, ["placeId", "partialMatch", "types", "precision", "streetAddress", "intersection", "political", "colloquialArea", "ward", "neighborhood", "premise", "subpremise", "naturalFeature", "airport", "park", "pointOfInterest", "establishment", "postalCodeSuffix", "subLocalityLevels"]);
        var _this = _super.call(this, geocodedObject) || this;
        _this.placeId = placeId;
        _this.partialMatch = partialMatch;
        _this.types = types;
        _this.precision = precision;
        _this.streetAddress = streetAddress;
        _this.intersection = intersection;
        _this.political = political;
        _this.colloquialArea = colloquialArea;
        _this.ward = ward;
        _this.neighborhood = neighborhood;
        _this.premise = premise;
        _this.subpremise = subpremise;
        _this.naturalFeature = naturalFeature;
        _this.airport = airport;
        _this.park = park;
        _this.pointOfInterest = pointOfInterest;
        _this.establishment = establishment;
        _this.postalCodeSuffix = postalCodeSuffix;
        _this.subLocalityLevels = subLocalityLevels || [];
        return _this;
    }
    GoogleMapsGeocoded.create = function (object) {
        return new this(object);
    };
    GoogleMapsGeocoded.prototype.toObject = function () {
        return __assign(__assign({}, _super.prototype.toObject.call(this)), { placeId: this.placeId, partialMatch: this.partialMatch, types: this.types, precision: this.precision, streetAddress: this.streetAddress, intersection: this.intersection, political: this.political, colloquialArea: this.colloquialArea, ward: this.ward, neighborhood: this.neighborhood, premise: this.premise, subpremise: this.subpremise, naturalFeature: this.naturalFeature, airport: this.airport, park: this.park, pointOfInterest: this.pointOfInterest, establishment: this.establishment, postalCodeSuffix: this.postalCodeSuffix, subLocalityLevels: this.subLocalityLevels });
    };
    GoogleMapsGeocoded.prototype.withPlaceId = function (placeId) {
        return new GoogleMapsGeocoded(__assign(__assign({}, this.toObject()), { placeId: placeId }));
    };
    GoogleMapsGeocoded.prototype.getPlaceId = function () {
        return this.placeId;
    };
    GoogleMapsGeocoded.prototype.withPartialMatch = function (partialMatch) {
        return new GoogleMapsGeocoded(__assign(__assign({}, this.toObject()), { partialMatch: partialMatch }));
    };
    GoogleMapsGeocoded.prototype.isPartialMatch = function () {
        return this.partialMatch;
    };
    GoogleMapsGeocoded.prototype.withTypes = function (types) {
        return new GoogleMapsGeocoded(__assign(__assign({}, this.toObject()), { types: types }));
    };
    GoogleMapsGeocoded.prototype.getTypes = function () {
        return this.types;
    };
    GoogleMapsGeocoded.prototype.withPrecision = function (precision) {
        return new GoogleMapsGeocoded(__assign(__assign({}, this.toObject()), { precision: precision }));
    };
    GoogleMapsGeocoded.prototype.getPrecision = function () {
        return this.precision;
    };
    GoogleMapsGeocoded.prototype.withStreetAddress = function (streetAddress) {
        return new GoogleMapsGeocoded(__assign(__assign({}, this.toObject()), { streetAddress: streetAddress }));
    };
    GoogleMapsGeocoded.prototype.getStreetAddress = function () {
        return this.streetAddress;
    };
    GoogleMapsGeocoded.prototype.withIntersection = function (intersection) {
        return new GoogleMapsGeocoded(__assign(__assign({}, this.toObject()), { intersection: intersection }));
    };
    GoogleMapsGeocoded.prototype.getIntersection = function () {
        return this.intersection;
    };
    GoogleMapsGeocoded.prototype.withPolitical = function (political) {
        return new GoogleMapsGeocoded(__assign(__assign({}, this.toObject()), { political: political }));
    };
    GoogleMapsGeocoded.prototype.getPolitical = function () {
        return this.political;
    };
    GoogleMapsGeocoded.prototype.withColloquialArea = function (colloquialArea) {
        return new GoogleMapsGeocoded(__assign(__assign({}, this.toObject()), { colloquialArea: colloquialArea }));
    };
    GoogleMapsGeocoded.prototype.getColloquialArea = function () {
        return this.colloquialArea;
    };
    GoogleMapsGeocoded.prototype.withWard = function (ward) {
        return new GoogleMapsGeocoded(__assign(__assign({}, this.toObject()), { ward: ward }));
    };
    GoogleMapsGeocoded.prototype.getWard = function () {
        return this.ward;
    };
    GoogleMapsGeocoded.prototype.withNeighborhood = function (neighborhood) {
        return new GoogleMapsGeocoded(__assign(__assign({}, this.toObject()), { neighborhood: neighborhood }));
    };
    GoogleMapsGeocoded.prototype.getNeighborhood = function () {
        return this.neighborhood;
    };
    GoogleMapsGeocoded.prototype.withPremise = function (premise) {
        return new GoogleMapsGeocoded(__assign(__assign({}, this.toObject()), { premise: premise }));
    };
    GoogleMapsGeocoded.prototype.getPremise = function () {
        return this.premise;
    };
    GoogleMapsGeocoded.prototype.withSubpremise = function (subpremise) {
        return new GoogleMapsGeocoded(__assign(__assign({}, this.toObject()), { subpremise: subpremise }));
    };
    GoogleMapsGeocoded.prototype.getSubpremise = function () {
        return this.subpremise;
    };
    GoogleMapsGeocoded.prototype.withNaturalFeature = function (naturalFeature) {
        return new GoogleMapsGeocoded(__assign(__assign({}, this.toObject()), { naturalFeature: naturalFeature }));
    };
    GoogleMapsGeocoded.prototype.getNaturalFeature = function () {
        return this.naturalFeature;
    };
    GoogleMapsGeocoded.prototype.withAirport = function (airport) {
        return new GoogleMapsGeocoded(__assign(__assign({}, this.toObject()), { airport: airport }));
    };
    GoogleMapsGeocoded.prototype.getAirport = function () {
        return this.airport;
    };
    GoogleMapsGeocoded.prototype.withPark = function (park) {
        return new GoogleMapsGeocoded(__assign(__assign({}, this.toObject()), { park: park }));
    };
    GoogleMapsGeocoded.prototype.getPark = function () {
        return this.park;
    };
    GoogleMapsGeocoded.prototype.withPointOfInterest = function (pointOfInterest) {
        return new GoogleMapsGeocoded(__assign(__assign({}, this.toObject()), { pointOfInterest: pointOfInterest }));
    };
    GoogleMapsGeocoded.prototype.getPointOfInterest = function () {
        return this.pointOfInterest;
    };
    GoogleMapsGeocoded.prototype.withEstablishment = function (establishment) {
        return new GoogleMapsGeocoded(__assign(__assign({}, this.toObject()), { establishment: establishment }));
    };
    GoogleMapsGeocoded.prototype.getEstablishment = function () {
        return this.establishment;
    };
    GoogleMapsGeocoded.prototype.withPostalCodeSuffix = function (postalCodeSuffix) {
        return new GoogleMapsGeocoded(__assign(__assign({}, this.toObject()), { postalCodeSuffix: postalCodeSuffix }));
    };
    GoogleMapsGeocoded.prototype.getPostalCodeSuffix = function () {
        return this.postalCodeSuffix;
    };
    GoogleMapsGeocoded.prototype.addSubLocalityLevel = function (subLocalityLevel) {
        this.subLocalityLevels.push(subLocalityLevel);
    };
    GoogleMapsGeocoded.prototype.getSubLocalityLevels = function () {
        return this.subLocalityLevels;
    };
    return GoogleMapsGeocoded;
}(_Geocoded__WEBPACK_IMPORTED_MODULE_0__.default));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GoogleMapsGeocoded);


/***/ }),

/***/ "./src/provider/googlemaps/GoogleMapsProvider.ts":
/*!*******************************************************!*\
  !*** ./src/provider/googlemaps/GoogleMapsProvider.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./.. */ "./src/provider/ProviderInterface.ts");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./.. */ "./src/provider/ProviderHelpers.ts");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./.. */ "./src/provider/googlemaps/GoogleMapsGeocodeQuery.ts");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./.. */ "./src/provider/googlemaps/GoogleMapsReverseQuery.ts");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./.. */ "./src/provider/googlemaps/GoogleMapsGeocoded.ts");
/* harmony import */ var _AdminLevel__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../AdminLevel */ "./src/AdminLevel.ts");
/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../error */ "./src/error/ResponseError.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils */ "./src/utils.ts");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};




var GoogleMapsProvider = /** @class */ (function () {
    function GoogleMapsProvider(_externalLoader, options) {
        if (options === void 0) { options = ___WEBPACK_IMPORTED_MODULE_0__.defaultProviderOptions; }
        this.externalLoader = _externalLoader;
        this.options = __assign(__assign({}, ___WEBPACK_IMPORTED_MODULE_0__.defaultProviderOptions), options);
        if (!this.options.apiKey && !this.options.clientId) {
            throw new Error('An API key or a client ID is required for the Google Maps provider. Please add it in the "apiKey" or the "clientId" option.');
        }
        if (this.options.clientId && !this.options.secret) {
            throw new Error('An URL signing secret is required if you use a client ID (Premium only). Please add it in the "secret" option.');
        }
        if (this.options.secret && (0,_utils__WEBPACK_IMPORTED_MODULE_1__.isBrowser)()) {
            throw new Error('The "secret" option cannot be used in a browser environment.');
        }
        if (this.options.countryCodes && this.options.countryCodes.length !== 1) {
            throw new Error('The "countryCodes" option must have only one country code top-level domain.');
        }
    }
    GoogleMapsProvider.prototype.geocode = function (query, callback, errorCallback) {
        var _this = this;
        var _a, _b, _c, _d, _e, _f, _g;
        var geocodeQuery = ___WEBPACK_IMPORTED_MODULE_2__.default.getGeocodeQueryFromParameter(query, ___WEBPACK_IMPORTED_MODULE_3__.default);
        if (geocodeQuery.getIp()) {
            throw new Error("The GoogleMaps provider does not support IP geolocation, only location geocoding.");
        }
        this.externalLoader.setOptions({
            protocol: this.options.useSsl ? "https" : "http",
            host: "maps.googleapis.com",
            pathname: "maps/api/geocode/json",
        });
        var params = this.withCommonParams({
            address: geocodeQuery.getText(),
            bounds: geocodeQuery.getBounds()
                ? ((_a = geocodeQuery.getBounds()) === null || _a === void 0 ? void 0 : _a.latitudeSW) + "," + ((_b = geocodeQuery.getBounds()) === null || _b === void 0 ? void 0 : _b.longitudeSW) + "|" + ((_c = geocodeQuery.getBounds()) === null || _c === void 0 ? void 0 : _c.latitudeNE) + "," + ((_d = geocodeQuery.getBounds()) === null || _d === void 0 ? void 0 : _d.longitudeNE)
                : undefined,
            components: geocodeQuery.getComponents()
                ? (_e = geocodeQuery
                    .getComponents()) === null || _e === void 0 ? void 0 : _e.map(function (component) { return component.name + ":" + component.value; }).join("|")
                : undefined,
            region: geocodeQuery.getCountryCodes()
                ? (_f = geocodeQuery.getCountryCodes()) === null || _f === void 0 ? void 0 : _f.join(",")
                : (_g = this.options.countryCodes) === null || _g === void 0 ? void 0 : _g.join(","),
        }, geocodeQuery);
        if (!callback) {
            return new Promise(function (resolve, reject) {
                return _this.executeRequest(params, function (results) { return resolve(results); }, {}, {}, function (error) { return reject(error); });
            });
        }
        return this.executeRequest(params, callback, {}, {}, errorCallback);
    };
    GoogleMapsProvider.prototype.geodecode = function (latitudeOrQuery, longitudeOrCallback, callbackOrErrorCallback, errorCallback) {
        var _this = this;
        var _a, _b;
        var reverseQuery = ___WEBPACK_IMPORTED_MODULE_2__.default.getReverseQueryFromParameters(latitudeOrQuery, longitudeOrCallback, ___WEBPACK_IMPORTED_MODULE_4__.default);
        var reverseCallback = ___WEBPACK_IMPORTED_MODULE_2__.default.getCallbackFromParameters(longitudeOrCallback, callbackOrErrorCallback);
        var reverseErrorCallback = ___WEBPACK_IMPORTED_MODULE_2__.default.getErrorCallbackFromParameters(longitudeOrCallback, callbackOrErrorCallback, errorCallback);
        this.externalLoader.setOptions({
            protocol: this.options.useSsl ? "https" : "http",
            host: "maps.googleapis.com",
            pathname: "maps/api/geocode/json",
        });
        var params = this.withCommonParams({
            latlng: reverseQuery.getCoordinates().latitude + "," + reverseQuery.getCoordinates().longitude,
            result_type: reverseQuery.getTypes()
                ? (_a = reverseQuery.getTypes()) === null || _a === void 0 ? void 0 : _a.join("|")
                : undefined,
            location_type: reverseQuery.getPrecisions()
                ? (_b = reverseQuery.getPrecisions()) === null || _b === void 0 ? void 0 : _b.join("|")
                : undefined,
        }, reverseQuery);
        if (!reverseCallback) {
            return new Promise(function (resolve, reject) {
                return _this.executeRequest(params, function (results) { return resolve(results); }, {}, {}, function (error) { return reject(error); });
            });
        }
        return this.executeRequest(params, reverseCallback, {}, {}, reverseErrorCallback);
    };
    GoogleMapsProvider.prototype.withCommonParams = function (params, query) {
        var withCommonParams = __assign(__assign({}, params), { key: this.options.apiKey, client: this.options.clientId, channel: query.getChannel(), language: query.getLocale(), limit: query.getLimit().toString() });
        if (this.options.secret) {
            withCommonParams = __assign(__assign({}, withCommonParams), { signature: GoogleMapsProvider.signQuery(this.options.secret, this.externalLoader.getOptions().pathname || "", withCommonParams) });
        }
        return withCommonParams;
    };
    GoogleMapsProvider.prototype.executeRequest = function (params, callback, headers, body, errorCallback) {
        var limit = params.limit, externalLoaderParams = __rest(params, ["limit"]);
        this.externalLoader.executeRequest(externalLoaderParams, function (data) {
            var errorMessage;
            switch (data.status) {
                case "REQUEST_DENIED":
                    errorMessage = "Request has been denied";
                    if (data.error_message) {
                        errorMessage += ": " + data.error_message;
                    }
                    break;
                case "OVER_QUERY_LIMIT":
                    errorMessage =
                        "Exceeded daily quota when attempting geocoding request";
                    if (data.error_message) {
                        errorMessage += ": " + data.error_message;
                    }
                    break;
                case "OVER_DAILY_LIMIT":
                    errorMessage = "API usage has been limited";
                    if (data.error_message) {
                        errorMessage += ": " + data.error_message;
                    }
                    break;
                case "INVALID_REQUEST":
                    errorMessage = "The request is invalid";
                    if (data.error_message) {
                        errorMessage += ": " + data.error_message;
                    }
                    break;
                case "UNKNOWN_ERROR":
                    errorMessage = "Unknown error";
                    if (data.error_message) {
                        errorMessage += ": " + data.error_message;
                    }
                    break;
                default:
                // Intentionnaly left empty
            }
            if (errorMessage && errorCallback) {
                errorCallback(new _error__WEBPACK_IMPORTED_MODULE_5__.default(errorMessage, data));
                return;
            }
            if (errorMessage) {
                setTimeout(function () {
                    throw new Error(errorMessage);
                });
                return;
            }
            var results = data.results;
            var resultsToRemove = results.length - parseInt(limit || results.length.toString(), 10);
            if (resultsToRemove > 0) {
                results.splice(-resultsToRemove);
            }
            callback(results.map(function (result) {
                return GoogleMapsProvider.mapToGeocoded(result);
            }));
        }, headers, body, errorCallback);
    };
    GoogleMapsProvider.mapToGeocoded = function (result) {
        var latitude = result.geometry.location.lat;
        var longitude = result.geometry.location.lng;
        var formattedAddress = result.formatted_address;
        var streetNumber;
        var streetName;
        var subLocality;
        var locality;
        var postalCode;
        var region;
        var country;
        var countryCode;
        var adminLevels = [];
        var placeId = result.place_id;
        var partialMatch = result.partial_match;
        var types = result.types;
        var precision = result.geometry.location_type;
        var streetAddress;
        var intersection;
        var political;
        var colloquialArea;
        var ward;
        var neighborhood;
        var premise;
        var subpremise;
        var naturalFeature;
        var airport;
        var park;
        var pointOfInterest;
        var establishment;
        var postalCodeSuffix;
        var subLocalityLevels = [];
        result.address_components.forEach(function (addressComponent) {
            addressComponent.types.forEach(function (type) {
                switch (type) {
                    case "street_number":
                        streetNumber = addressComponent.long_name;
                        break;
                    case "route":
                        streetName = addressComponent.long_name;
                        break;
                    case "sublocality":
                        subLocality = addressComponent.long_name;
                        break;
                    case "locality":
                    case "postal_town":
                        locality = addressComponent.long_name;
                        break;
                    case "postal_code":
                        postalCode = addressComponent.long_name;
                        break;
                    case "administrative_area_level_1":
                    case "administrative_area_level_2":
                    case "administrative_area_level_3":
                    case "administrative_area_level_4":
                    case "administrative_area_level_5":
                        if (type === "administrative_area_level_1") {
                            region = addressComponent.long_name;
                        }
                        adminLevels.push(_AdminLevel__WEBPACK_IMPORTED_MODULE_6__.default.create({
                            level: parseInt(type.substr(-1), 10),
                            name: addressComponent.long_name,
                            code: addressComponent.short_name,
                        }));
                        break;
                    case "sublocality_level_1":
                    case "sublocality_level_2":
                    case "sublocality_level_3":
                    case "sublocality_level_4":
                    case "sublocality_level_5":
                        subLocalityLevels.push(_AdminLevel__WEBPACK_IMPORTED_MODULE_6__.default.create({
                            level: parseInt(type.substr(-1), 10),
                            name: addressComponent.long_name,
                            code: addressComponent.short_name,
                        }));
                        break;
                    case "country":
                        country = addressComponent.long_name;
                        countryCode = addressComponent.short_name;
                        break;
                    case "street_address":
                        streetAddress = addressComponent.long_name;
                        break;
                    case "intersection":
                        intersection = addressComponent.long_name;
                        break;
                    case "political":
                        political = addressComponent.long_name;
                        break;
                    case "colloquial_area":
                        colloquialArea = addressComponent.long_name;
                        break;
                    case "ward":
                        ward = addressComponent.long_name;
                        break;
                    case "neighborhood":
                        neighborhood = addressComponent.long_name;
                        break;
                    case "premise":
                        premise = addressComponent.long_name;
                        break;
                    case "subpremise":
                        subpremise = addressComponent.long_name;
                        break;
                    case "natural_feature":
                        naturalFeature = addressComponent.long_name;
                        break;
                    case "airport":
                        airport = addressComponent.long_name;
                        break;
                    case "park":
                        park = addressComponent.long_name;
                        break;
                    case "point_of_interest":
                        pointOfInterest = addressComponent.long_name;
                        break;
                    case "establishment":
                        establishment = addressComponent.long_name;
                        break;
                    case "postal_code_suffix":
                        postalCodeSuffix = addressComponent.long_name;
                        break;
                    default:
                }
            });
        });
        var geocoded = ___WEBPACK_IMPORTED_MODULE_7__.default.create({
            coordinates: {
                latitude: latitude,
                longitude: longitude,
            },
            formattedAddress: formattedAddress,
            streetNumber: streetNumber,
            streetName: streetName,
            subLocality: subLocality,
            locality: locality,
            postalCode: postalCode,
            region: region,
            country: country,
            countryCode: countryCode,
            adminLevels: adminLevels,
            placeId: placeId,
            partialMatch: partialMatch,
            types: types,
            precision: precision,
            streetAddress: streetAddress,
            intersection: intersection,
            political: political,
            colloquialArea: colloquialArea,
            ward: ward,
            neighborhood: neighborhood,
            premise: premise,
            subpremise: subpremise,
            naturalFeature: naturalFeature,
            airport: airport,
            park: park,
            pointOfInterest: pointOfInterest,
            establishment: establishment,
            postalCodeSuffix: postalCodeSuffix,
            subLocalityLevels: subLocalityLevels,
        });
        if (result.geometry.bounds) {
            var bounds = result.geometry.bounds;
            geocoded = geocoded.withBounds({
                latitudeSW: bounds.southwest.lat,
                longitudeSW: bounds.southwest.lng,
                latitudeNE: bounds.northeast.lat,
                longitudeNE: bounds.northeast.lng,
            });
        }
        else if (result.geometry.viewport) {
            var viewport = result.geometry.viewport;
            geocoded = geocoded.withBounds({
                latitudeSW: viewport.southwest.lat,
                longitudeSW: viewport.southwest.lng,
                latitudeNE: viewport.northeast.lat,
                longitudeNE: viewport.northeast.lng,
            });
        }
        else if (precision === "ROOFTOP") {
            // Fake bounds
            geocoded = geocoded.withBounds({
                latitudeSW: latitude,
                longitudeSW: longitude,
                latitudeNE: latitude,
                longitudeNE: longitude,
            });
        }
        return geocoded;
    };
    GoogleMapsProvider.signQuery = function (secret, pathname, params) {
        var crypto = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.getRequireFunc)()("crypto");
        var filteredRequestParams = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.filterUndefinedObjectValues)(params);
        var safeSecret = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.decodeBase64)((0,_utils__WEBPACK_IMPORTED_MODULE_1__.decodeUrlSafeBase64)(secret));
        var toSign = pathname + "?" + new URLSearchParams(filteredRequestParams).toString();
        var hashedSignature = (0,_utils__WEBPACK_IMPORTED_MODULE_1__.encodeUrlSafeBase64)(crypto.createHmac("sha1", safeSecret).update(toSign).digest("base64"));
        return hashedSignature;
    };
    return GoogleMapsProvider;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GoogleMapsProvider);


/***/ }),

/***/ "./src/provider/googlemaps/GoogleMapsReverseQuery.ts":
/*!***********************************************************!*\
  !*** ./src/provider/googlemaps/GoogleMapsReverseQuery.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _query__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../query */ "./src/query/ReverseQuery.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};

var GoogleMapsReverseQuery = /** @class */ (function (_super) {
    __extends(GoogleMapsReverseQuery, _super);
    function GoogleMapsReverseQuery(_a) {
        var types = _a.types, precisions = _a.precisions, channel = _a.channel, reverseQueryObject = __rest(_a, ["types", "precisions", "channel"]);
        var _this = _super.call(this, reverseQueryObject) || this;
        _this.types = types;
        _this.precisions = precisions;
        _this.channel = channel;
        return _this;
    }
    GoogleMapsReverseQuery.create = function (object) {
        return new this(object);
    };
    GoogleMapsReverseQuery.prototype.toObject = function () {
        return __assign(__assign({}, _super.prototype.toObject.call(this)), { types: this.types, precisions: this.precisions, channel: this.channel });
    };
    GoogleMapsReverseQuery.prototype.withTypes = function (types) {
        return new GoogleMapsReverseQuery(__assign(__assign({}, this.toObject()), { types: types }));
    };
    GoogleMapsReverseQuery.prototype.getTypes = function () {
        return this.types;
    };
    GoogleMapsReverseQuery.prototype.withPrecisions = function (precisions) {
        return new GoogleMapsReverseQuery(__assign(__assign({}, this.toObject()), { precisions: precisions }));
    };
    GoogleMapsReverseQuery.prototype.getPrecisions = function () {
        return this.precisions;
    };
    GoogleMapsReverseQuery.prototype.withChannel = function (channel) {
        return new GoogleMapsReverseQuery(__assign(__assign({}, this.toObject()), { channel: channel }));
    };
    GoogleMapsReverseQuery.prototype.getChannel = function () {
        return this.channel;
    };
    return GoogleMapsReverseQuery;
}(_query__WEBPACK_IMPORTED_MODULE_0__.default));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GoogleMapsReverseQuery);


/***/ }),

/***/ "./src/provider/googlemaps/index.ts":
/*!******************************************!*\
  !*** ./src/provider/googlemaps/index.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GoogleMapsGeocoded": () => (/* reexport safe */ _GoogleMapsGeocoded__WEBPACK_IMPORTED_MODULE_0__.default),
/* harmony export */   "GoogleMapsGeocodeQuery": () => (/* reexport safe */ _GoogleMapsGeocodeQuery__WEBPACK_IMPORTED_MODULE_1__.default),
/* harmony export */   "GoogleMapsProvider": () => (/* reexport safe */ _GoogleMapsProvider__WEBPACK_IMPORTED_MODULE_2__.default),
/* harmony export */   "GoogleMapsReverseQuery": () => (/* reexport safe */ _GoogleMapsReverseQuery__WEBPACK_IMPORTED_MODULE_3__.default)
/* harmony export */ });
/* harmony import */ var _GoogleMapsGeocoded__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GoogleMapsGeocoded */ "./src/provider/googlemaps/GoogleMapsGeocoded.ts");
/* harmony import */ var _GoogleMapsGeocodeQuery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GoogleMapsGeocodeQuery */ "./src/provider/googlemaps/GoogleMapsGeocodeQuery.ts");
/* harmony import */ var _GoogleMapsProvider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GoogleMapsProvider */ "./src/provider/googlemaps/GoogleMapsProvider.ts");
/* harmony import */ var _GoogleMapsReverseQuery__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./GoogleMapsReverseQuery */ "./src/provider/googlemaps/GoogleMapsReverseQuery.ts");









/***/ }),

/***/ "./src/provider/index.ts":
/*!*******************************!*\
  !*** ./src/provider/index.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ProviderHelpers": () => (/* reexport safe */ _ProviderHelpers__WEBPACK_IMPORTED_MODULE_0__.default),
/* harmony export */   "DEFAULT_RESULT_LIMIT": () => (/* reexport safe */ _ProviderInterface__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_RESULT_LIMIT),
/* harmony export */   "defaultProviderOptions": () => (/* reexport safe */ _ProviderInterface__WEBPACK_IMPORTED_MODULE_1__.defaultProviderOptions),
/* harmony export */   "ChainProvider": () => (/* reexport safe */ _ChainProvider__WEBPACK_IMPORTED_MODULE_2__.default),
/* harmony export */   "defaultChainProviderOptions": () => (/* reexport safe */ _ChainProvider__WEBPACK_IMPORTED_MODULE_2__.defaultChainProviderOptions),
/* harmony export */   "BingGeocoded": () => (/* reexport safe */ _bing__WEBPACK_IMPORTED_MODULE_3__.BingGeocoded),
/* harmony export */   "BingProvider": () => (/* reexport safe */ _bing__WEBPACK_IMPORTED_MODULE_3__.BingProvider),
/* harmony export */   "defaultBingProviderOptions": () => (/* reexport safe */ _bing__WEBPACK_IMPORTED_MODULE_3__.defaultBingProviderOptions),
/* harmony export */   "GeoPluginGeocoded": () => (/* reexport safe */ _geoplugin__WEBPACK_IMPORTED_MODULE_4__.GeoPluginGeocoded),
/* harmony export */   "GeoPluginProvider": () => (/* reexport safe */ _geoplugin__WEBPACK_IMPORTED_MODULE_4__.GeoPluginProvider),
/* harmony export */   "GoogleMapsGeocodeQuery": () => (/* reexport safe */ _googlemaps__WEBPACK_IMPORTED_MODULE_5__.GoogleMapsGeocodeQuery),
/* harmony export */   "GoogleMapsGeocoded": () => (/* reexport safe */ _googlemaps__WEBPACK_IMPORTED_MODULE_5__.GoogleMapsGeocoded),
/* harmony export */   "GoogleMapsProvider": () => (/* reexport safe */ _googlemaps__WEBPACK_IMPORTED_MODULE_5__.GoogleMapsProvider),
/* harmony export */   "GoogleMapsReverseQuery": () => (/* reexport safe */ _googlemaps__WEBPACK_IMPORTED_MODULE_5__.GoogleMapsReverseQuery),
/* harmony export */   "LocationIQGeocodeQuery": () => (/* reexport safe */ _locationiq__WEBPACK_IMPORTED_MODULE_6__.LocationIQGeocodeQuery),
/* harmony export */   "LocationIQGeocoded": () => (/* reexport safe */ _locationiq__WEBPACK_IMPORTED_MODULE_6__.LocationIQGeocoded),
/* harmony export */   "LocationIQProvider": () => (/* reexport safe */ _locationiq__WEBPACK_IMPORTED_MODULE_6__.LocationIQProvider),
/* harmony export */   "LocationIQReverseQuery": () => (/* reexport safe */ _locationiq__WEBPACK_IMPORTED_MODULE_6__.LocationIQReverseQuery),
/* harmony export */   "defaultLocationIQProviderOptions": () => (/* reexport safe */ _locationiq__WEBPACK_IMPORTED_MODULE_6__.defaultLocationIQProviderOptions),
/* harmony export */   "MAPBOX_SOURCES": () => (/* reexport safe */ _mapbox__WEBPACK_IMPORTED_MODULE_7__.MAPBOX_SOURCES),
/* harmony export */   "MapboxGeocodeQuery": () => (/* reexport safe */ _mapbox__WEBPACK_IMPORTED_MODULE_7__.MapboxGeocodeQuery),
/* harmony export */   "MapboxGeocoded": () => (/* reexport safe */ _mapbox__WEBPACK_IMPORTED_MODULE_7__.MapboxGeocoded),
/* harmony export */   "MapboxProvider": () => (/* reexport safe */ _mapbox__WEBPACK_IMPORTED_MODULE_7__.MapboxProvider),
/* harmony export */   "MapboxReverseQuery": () => (/* reexport safe */ _mapbox__WEBPACK_IMPORTED_MODULE_7__.MapboxReverseQuery),
/* harmony export */   "defaultMapboxProviderOptions": () => (/* reexport safe */ _mapbox__WEBPACK_IMPORTED_MODULE_7__.defaultMapboxProviderOptions),
/* harmony export */   "MapQuestGeocodeQuery": () => (/* reexport safe */ _mapquest__WEBPACK_IMPORTED_MODULE_8__.MapQuestGeocodeQuery),
/* harmony export */   "MapQuestGeocoded": () => (/* reexport safe */ _mapquest__WEBPACK_IMPORTED_MODULE_8__.MapQuestGeocoded),
/* harmony export */   "MapQuestLocation": () => (/* reexport safe */ _mapquest__WEBPACK_IMPORTED_MODULE_8__.MapQuestLocation),
/* harmony export */   "MapQuestProvider": () => (/* reexport safe */ _mapquest__WEBPACK_IMPORTED_MODULE_8__.MapQuestProvider),
/* harmony export */   "defaultMapQuestProviderOptions": () => (/* reexport safe */ _mapquest__WEBPACK_IMPORTED_MODULE_8__.defaultMapQuestProviderOptions),
/* harmony export */   "NominatimGeocodeQuery": () => (/* reexport safe */ _nominatim__WEBPACK_IMPORTED_MODULE_9__.NominatimGeocodeQuery),
/* harmony export */   "NominatimGeocoded": () => (/* reexport safe */ _nominatim__WEBPACK_IMPORTED_MODULE_9__.NominatimGeocoded),
/* harmony export */   "NominatimProvider": () => (/* reexport safe */ _nominatim__WEBPACK_IMPORTED_MODULE_9__.NominatimProvider),
/* harmony export */   "NominatimReverseQuery": () => (/* reexport safe */ _nominatim__WEBPACK_IMPORTED_MODULE_9__.NominatimReverseQuery),
/* harmony export */   "OpenStreetMapGeocodeQuery": () => (/* reexport safe */ _nominatim__WEBPACK_IMPORTED_MODULE_9__.OpenStreetMapGeocodeQuery),
/* harmony export */   "OpenStreetMapGeocoded": () => (/* reexport safe */ _nominatim__WEBPACK_IMPORTED_MODULE_9__.OpenStreetMapGeocoded),
/* harmony export */   "OpenStreetMapProvider": () => (/* reexport safe */ _nominatim__WEBPACK_IMPORTED_MODULE_9__.OpenStreetMapProvider),
/* harmony export */   "OpenStreetMapReverseQuery": () => (/* reexport safe */ _nominatim__WEBPACK_IMPORTED_MODULE_9__.OpenStreetMapReverseQuery),
/* harmony export */   "defaultNominatimProviderOptions": () => (/* reexport safe */ _nominatim__WEBPACK_IMPORTED_MODULE_9__.defaultNominatimProviderOptions),
/* harmony export */   "defaultOpenStreetMapProviderOptions": () => (/* reexport safe */ _nominatim__WEBPACK_IMPORTED_MODULE_9__.defaultOpenStreetMapProviderOptions),
/* harmony export */   "OpenCageGeocodeQuery": () => (/* reexport safe */ _opencage__WEBPACK_IMPORTED_MODULE_10__.OpenCageGeocodeQuery),
/* harmony export */   "OpenCageGeocoded": () => (/* reexport safe */ _opencage__WEBPACK_IMPORTED_MODULE_10__.OpenCageGeocoded),
/* harmony export */   "OpenCageProvider": () => (/* reexport safe */ _opencage__WEBPACK_IMPORTED_MODULE_10__.OpenCageProvider),
/* harmony export */   "OpenCageReverseQuery": () => (/* reexport safe */ _opencage__WEBPACK_IMPORTED_MODULE_10__.OpenCageReverseQuery),
/* harmony export */   "defaultOpenCageProviderOptions": () => (/* reexport safe */ _opencage__WEBPACK_IMPORTED_MODULE_10__.defaultOpenCageProviderOptions),
/* harmony export */   "YandexGeocodeQuery": () => (/* reexport safe */ _yandex__WEBPACK_IMPORTED_MODULE_11__.YandexGeocodeQuery),
/* harmony export */   "YandexGeocoded": () => (/* reexport safe */ _yandex__WEBPACK_IMPORTED_MODULE_11__.YandexGeocoded),
/* harmony export */   "YandexProvider": () => (/* reexport safe */ _yandex__WEBPACK_IMPORTED_MODULE_11__.YandexProvider),
/* harmony export */   "YandexReverseQuery": () => (/* reexport safe */ _yandex__WEBPACK_IMPORTED_MODULE_11__.YandexReverseQuery),
/* harmony export */   "defaultYandexProviderOptions": () => (/* reexport safe */ _yandex__WEBPACK_IMPORTED_MODULE_11__.defaultYandexProviderOptions)
/* harmony export */ });
/* harmony import */ var _ProviderHelpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ProviderHelpers */ "./src/provider/ProviderHelpers.ts");
/* harmony import */ var _ProviderInterface__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ProviderInterface */ "./src/provider/ProviderInterface.ts");
/* harmony import */ var _ChainProvider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ChainProvider */ "./src/provider/ChainProvider.ts");
/* harmony import */ var _bing__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./bing */ "./src/provider/bing/index.ts");
/* harmony import */ var _geoplugin__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./geoplugin */ "./src/provider/geoplugin/index.ts");
/* harmony import */ var _googlemaps__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./googlemaps */ "./src/provider/googlemaps/index.ts");
/* harmony import */ var _locationiq__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./locationiq */ "./src/provider/locationiq/index.ts");
/* harmony import */ var _mapbox__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./mapbox */ "./src/provider/mapbox/index.ts");
/* harmony import */ var _mapquest__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./mapquest */ "./src/provider/mapquest/index.ts");
/* harmony import */ var _nominatim__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./nominatim */ "./src/provider/nominatim/index.ts");
/* harmony import */ var _opencage__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./opencage */ "./src/provider/opencage/index.ts");
/* harmony import */ var _yandex__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./yandex */ "./src/provider/yandex/index.ts");















/***/ }),

/***/ "./src/provider/locationiq/LocationIQGeocodeQuery.ts":
/*!***********************************************************!*\
  !*** ./src/provider/locationiq/LocationIQGeocodeQuery.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _query__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../query */ "./src/query/GeocodeQuery.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};

var LocationIQGeocodeQuery = /** @class */ (function (_super) {
    __extends(LocationIQGeocodeQuery, _super);
    function LocationIQGeocodeQuery(_a) {
        var countryCodes = _a.countryCodes, excludePlaceIds = _a.excludePlaceIds, bounded = _a.bounded, bounds = _a.bounds, dedupe = _a.dedupe, geocodeQueryObject = __rest(_a, ["countryCodes", "excludePlaceIds", "bounded", "bounds", "dedupe"]);
        var _this = _super.call(this, __assign({ bounds: bounds }, geocodeQueryObject)) || this;
        _this.countryCodes = countryCodes;
        _this.excludePlaceIds = excludePlaceIds;
        if (bounded && !bounds) {
            throw new Error('The "bounded" parameter can only be used with the "bounds" parameter.');
        }
        _this.bounded = bounded;
        _this.dedupe = dedupe;
        return _this;
    }
    LocationIQGeocodeQuery.create = function (object) {
        return new this(object);
    };
    LocationIQGeocodeQuery.prototype.toObject = function () {
        return __assign(__assign({}, _super.prototype.toObject.call(this)), { countryCodes: this.countryCodes, excludePlaceIds: this.excludePlaceIds, bounded: this.bounded, dedupe: this.dedupe });
    };
    LocationIQGeocodeQuery.prototype.withCountryCodes = function (countryCodes) {
        return new LocationIQGeocodeQuery(__assign(__assign({}, this.toObject()), { countryCodes: countryCodes }));
    };
    LocationIQGeocodeQuery.prototype.getCountryCodes = function () {
        return this.countryCodes;
    };
    LocationIQGeocodeQuery.prototype.withExcludePlaceIds = function (excludePlaceIds) {
        return new LocationIQGeocodeQuery(__assign(__assign({}, this.toObject()), { excludePlaceIds: excludePlaceIds }));
    };
    LocationIQGeocodeQuery.prototype.getExcludePlaceIds = function () {
        return this.excludePlaceIds;
    };
    LocationIQGeocodeQuery.prototype.withBounded = function (bounded) {
        return new LocationIQGeocodeQuery(__assign(__assign({}, this.toObject()), { bounded: bounded }));
    };
    LocationIQGeocodeQuery.prototype.getBounded = function () {
        return this.bounded;
    };
    LocationIQGeocodeQuery.prototype.withDedupe = function (dedupe) {
        return new LocationIQGeocodeQuery(__assign(__assign({}, this.toObject()), { dedupe: dedupe }));
    };
    LocationIQGeocodeQuery.prototype.getDedupe = function () {
        return this.dedupe;
    };
    return LocationIQGeocodeQuery;
}(_query__WEBPACK_IMPORTED_MODULE_0__.default));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (LocationIQGeocodeQuery);


/***/ }),

/***/ "./src/provider/locationiq/LocationIQGeocoded.ts":
/*!*******************************************************!*\
  !*** ./src/provider/locationiq/LocationIQGeocoded.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Geocoded__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Geocoded */ "./src/Geocoded.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};

var LocationIQGeocoded = /** @class */ (function (_super) {
    __extends(LocationIQGeocoded, _super);
    function LocationIQGeocoded(_a) {
        var placeId = _a.placeId, displayName = _a.displayName, osmId = _a.osmId, osmType = _a.osmType, categories = _a.categories, types = _a.types, distance = _a.distance, precision = _a.precision, precisionCode = _a.precisionCode, precisionType = _a.precisionType, attribution = _a.attribution, subLocalityLevels = _a.subLocalityLevels, geocodedObject = __rest(_a, ["placeId", "displayName", "osmId", "osmType", "categories", "types", "distance", "precision", "precisionCode", "precisionType", "attribution", "subLocalityLevels"]);
        var _this = _super.call(this, geocodedObject) || this;
        _this.placeId = placeId;
        _this.displayName = displayName;
        _this.osmId = osmId;
        _this.osmType = osmType;
        _this.categories = categories;
        _this.types = types;
        _this.distance = distance;
        _this.precision = precision;
        _this.precisionCode = precisionCode;
        _this.precisionType = precisionType;
        _this.attribution = attribution;
        _this.subLocalityLevels = subLocalityLevels || [];
        return _this;
    }
    LocationIQGeocoded.create = function (object) {
        return new this(object);
    };
    LocationIQGeocoded.prototype.toObject = function () {
        return __assign(__assign({}, _super.prototype.toObject.call(this)), { placeId: this.placeId, displayName: this.displayName, osmId: this.osmId, osmType: this.osmType, categories: this.categories, types: this.types, distance: this.distance, precision: this.precision, precisionCode: this.precisionCode, precisionType: this.precisionType, attribution: this.attribution, subLocalityLevels: this.subLocalityLevels });
    };
    LocationIQGeocoded.prototype.withPlaceId = function (placeId) {
        return new LocationIQGeocoded(__assign(__assign({}, this.toObject()), { placeId: placeId }));
    };
    LocationIQGeocoded.prototype.getPlaceId = function () {
        return this.placeId;
    };
    LocationIQGeocoded.prototype.withDisplayName = function (displayName) {
        return new LocationIQGeocoded(__assign(__assign({}, this.toObject()), { displayName: displayName }));
    };
    LocationIQGeocoded.prototype.getDisplayName = function () {
        return this.displayName;
    };
    LocationIQGeocoded.prototype.withOsmId = function (osmId) {
        return new LocationIQGeocoded(__assign(__assign({}, this.toObject()), { osmId: osmId }));
    };
    LocationIQGeocoded.prototype.getOsmId = function () {
        return this.osmId;
    };
    LocationIQGeocoded.prototype.withOsmType = function (osmType) {
        return new LocationIQGeocoded(__assign(__assign({}, this.toObject()), { osmType: osmType }));
    };
    LocationIQGeocoded.prototype.getOsmType = function () {
        return this.osmType;
    };
    LocationIQGeocoded.prototype.withCategories = function (categories) {
        return new LocationIQGeocoded(__assign(__assign({}, this.toObject()), { categories: categories }));
    };
    LocationIQGeocoded.prototype.getCategories = function () {
        return this.categories;
    };
    LocationIQGeocoded.prototype.withTypes = function (types) {
        return new LocationIQGeocoded(__assign(__assign({}, this.toObject()), { types: types }));
    };
    LocationIQGeocoded.prototype.getTypes = function () {
        return this.types;
    };
    LocationIQGeocoded.prototype.withDistance = function (distance) {
        return new LocationIQGeocoded(__assign(__assign({}, this.toObject()), { distance: distance }));
    };
    LocationIQGeocoded.prototype.getDistance = function () {
        return this.distance;
    };
    LocationIQGeocoded.prototype.withPrecision = function (precision) {
        return new LocationIQGeocoded(__assign(__assign({}, this.toObject()), { precision: precision }));
    };
    LocationIQGeocoded.prototype.getPrecision = function () {
        return this.precision;
    };
    LocationIQGeocoded.prototype.withPrecisionCode = function (precisionCode) {
        return new LocationIQGeocoded(__assign(__assign({}, this.toObject()), { precisionCode: precisionCode }));
    };
    LocationIQGeocoded.prototype.getPrecisionCode = function () {
        return this.precisionCode;
    };
    LocationIQGeocoded.prototype.withPrecisionType = function (precisionType) {
        return new LocationIQGeocoded(__assign(__assign({}, this.toObject()), { precisionType: precisionType }));
    };
    LocationIQGeocoded.prototype.getPrecisionType = function () {
        return this.precisionType;
    };
    LocationIQGeocoded.prototype.withAttribution = function (attribution) {
        return new LocationIQGeocoded(__assign(__assign({}, this.toObject()), { attribution: attribution }));
    };
    LocationIQGeocoded.prototype.getAttribution = function () {
        return this.attribution;
    };
    LocationIQGeocoded.prototype.addSubLocalityLevel = function (subLocalityLevel) {
        this.subLocalityLevels.push(subLocalityLevel);
    };
    LocationIQGeocoded.prototype.getSubLocalityLevels = function () {
        return this.subLocalityLevels;
    };
    return LocationIQGeocoded;
}(_Geocoded__WEBPACK_IMPORTED_MODULE_0__.default));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (LocationIQGeocoded);


/***/ }),

/***/ "./src/provider/locationiq/LocationIQProvider.ts":
/*!*******************************************************!*\
  !*** ./src/provider/locationiq/LocationIQProvider.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "defaultLocationIQProviderOptions": () => (/* binding */ defaultLocationIQProviderOptions),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./.. */ "./src/provider/ProviderInterface.ts");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./.. */ "./src/provider/ProviderHelpers.ts");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./.. */ "./src/provider/locationiq/LocationIQGeocodeQuery.ts");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./.. */ "./src/provider/locationiq/LocationIQReverseQuery.ts");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./.. */ "./src/provider/locationiq/LocationIQGeocoded.ts");
/* harmony import */ var _AdminLevel__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../AdminLevel */ "./src/AdminLevel.ts");
/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../error */ "./src/error/ResponseError.ts");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};



var defaultLocationIQProviderOptions = __assign(__assign({}, ___WEBPACK_IMPORTED_MODULE_0__.defaultProviderOptions), { apiKey: "", source: "locationiq" });
var LocationIQProvider = /** @class */ (function () {
    function LocationIQProvider(_externalLoader, options) {
        if (options === void 0) { options = defaultLocationIQProviderOptions; }
        this.externalLoader = _externalLoader;
        this.options = __assign(__assign({}, defaultLocationIQProviderOptions), options);
        if (!this.options.apiKey) {
            throw new Error('An API key is required for the LocationIQ provider. Please add it in the "apiKey" option.');
        }
        if (!["locationiq", "nominatim"].includes(this.options.source || "")) {
            throw new Error('The "source" option must either be "locationiq" or "nominatim".');
        }
    }
    LocationIQProvider.prototype.geocode = function (query, callback, errorCallback) {
        var _this = this;
        var _a, _b, _c, _d, _e, _f, _g, _h, _j;
        var geocodeQuery = ___WEBPACK_IMPORTED_MODULE_1__.default.getGeocodeQueryFromParameter(query, ___WEBPACK_IMPORTED_MODULE_2__.default);
        if (geocodeQuery.getIp()) {
            throw new Error("The LocationIQ provider does not support IP geolocation, only location geocoding.");
        }
        this.externalLoader.setOptions({
            protocol: this.options.useSsl ? "https" : "http",
            host: "locationiq.com",
            pathname: "v1/search.php",
        });
        var params = this.withCommonParams({
            q: geocodeQuery.getText(),
            limit: geocodeQuery.getLimit().toString(),
            countrycodes: geocodeQuery.getCountryCodes()
                ? (_a = geocodeQuery.getCountryCodes()) === null || _a === void 0 ? void 0 : _a.join(",")
                : (_b = this.options.countryCodes) === null || _b === void 0 ? void 0 : _b.join(","),
            exclude_place_ids: (geocodeQuery).getExcludePlaceIds()
                ? (_c = geocodeQuery
                    .getExcludePlaceIds()) === null || _c === void 0 ? void 0 : _c.join(",")
                : undefined,
            viewbox: geocodeQuery.getBounds()
                ? ((_d = geocodeQuery.getBounds()) === null || _d === void 0 ? void 0 : _d.longitudeSW) + "," + ((_e = geocodeQuery.getBounds()) === null || _e === void 0 ? void 0 : _e.latitudeSW) + "," + ((_f = geocodeQuery.getBounds()) === null || _f === void 0 ? void 0 : _f.longitudeNE) + "," + ((_g = geocodeQuery.getBounds()) === null || _g === void 0 ? void 0 : _g.latitudeNE)
                : undefined,
            bounded: geocodeQuery.getBounded()
                ? (_h = geocodeQuery.getBounded()) === null || _h === void 0 ? void 0 : _h.toString()
                : undefined,
            dedupe: geocodeQuery.getDedupe()
                ? (_j = geocodeQuery.getDedupe()) === null || _j === void 0 ? void 0 : _j.toString()
                : undefined,
            matchquality: "1",
        }, geocodeQuery);
        if (!callback) {
            return new Promise(function (resolve, reject) {
                return _this.executeRequest(params, function (results) { return resolve(results); }, {}, {}, function (error) { return reject(error); });
            });
        }
        return this.executeRequest(params, callback, {}, {}, errorCallback);
    };
    LocationIQProvider.prototype.geodecode = function (latitudeOrQuery, longitudeOrCallback, callbackOrErrorCallback, errorCallback) {
        var _this = this;
        var _a;
        var reverseQuery = ___WEBPACK_IMPORTED_MODULE_1__.default.getReverseQueryFromParameters(latitudeOrQuery, longitudeOrCallback, ___WEBPACK_IMPORTED_MODULE_3__.default);
        var reverseCallback = ___WEBPACK_IMPORTED_MODULE_1__.default.getCallbackFromParameters(longitudeOrCallback, callbackOrErrorCallback);
        var reverseErrorCallback = ___WEBPACK_IMPORTED_MODULE_1__.default.getErrorCallbackFromParameters(longitudeOrCallback, callbackOrErrorCallback, errorCallback);
        this.externalLoader.setOptions({
            protocol: this.options.useSsl ? "https" : "http",
            host: "locationiq.com",
            pathname: "v1/reverse.php",
        });
        var params = this.withCommonParams({
            lat: reverseQuery.getCoordinates().latitude.toString(),
            lon: reverseQuery.getCoordinates().longitude.toString(),
            zoom: ((_a = reverseQuery.getZoom()) === null || _a === void 0 ? void 0 : _a.toString()) || "18",
            showdistance: "1",
        }, reverseQuery);
        if (!reverseCallback) {
            return new Promise(function (resolve, reject) {
                return _this.executeRequest(params, function (results) { return resolve(results); }, {}, {}, function (error) { return reject(error); });
            });
        }
        return this.executeRequest(params, reverseCallback, {}, {}, reverseErrorCallback);
    };
    LocationIQProvider.prototype.withCommonParams = function (params, query) {
        return __assign(__assign({}, params), { key: this.options.apiKey || "", format: "json", addressdetails: "1", "accept-language": query.getLocale(), jsonpCallback: this.options.useJsonp ? "json_callback" : undefined, normalizeaddress: "1", normalizecity: "1", statecode: "1", postaladdress: "1", source: this.options.source === "nominatim" ? "nom" : undefined });
    };
    LocationIQProvider.prototype.executeRequest = function (params, callback, headers, body, errorCallback) {
        this.externalLoader.executeRequest(params, function (data) {
            var results = data;
            if (!Array.isArray(data)) {
                if (data.error) {
                    var errorMessage_1 = "An error has occurred: " + data.error;
                    if (errorCallback) {
                        errorCallback(new _error__WEBPACK_IMPORTED_MODULE_4__.default(errorMessage_1, data));
                        return;
                    }
                    setTimeout(function () {
                        throw new Error(errorMessage_1);
                    });
                    return;
                }
                results = [data];
            }
            callback(results.map(function (result) {
                return LocationIQProvider.mapToGeocoded(result);
            }));
        }, headers, body, errorCallback);
    };
    LocationIQProvider.mapToGeocoded = function (result) {
        var _a, _b, _c;
        var latitude = parseFloat(result.lat);
        var longitude = parseFloat(result.lon);
        var formattedAddress = result.postal_address;
        var displayName = result.display_name;
        var streetNumber = result.address.house_number;
        var streetName = result.address.road;
        var subLocality = result.address.suburb;
        var locality = result.address.city;
        var postalCode = result.address.postcode
            ? result.address.postcode.split(";")[0]
            : undefined;
        var region = result.address.state;
        var country = result.address.country;
        var countryCode = result.address.country_code;
        var placeId = result.place_id;
        var osmId = result.osm_id;
        var osmType = result.osm_type;
        var categories = result.class ? [result.class] : [];
        var distance = result.distance;
        var types = result.type ? [result.type] : [];
        var precision = (_a = result.matchquality) === null || _a === void 0 ? void 0 : _a.matchlevel;
        var precisionCode = (_b = result.matchquality) === null || _b === void 0 ? void 0 : _b.matchcode;
        var precisionType = (_c = result.matchquality) === null || _c === void 0 ? void 0 : _c.matchtype;
        var attribution = result.licence;
        var geocoded = ___WEBPACK_IMPORTED_MODULE_5__.default.create({
            coordinates: {
                latitude: latitude,
                longitude: longitude,
            },
            formattedAddress: formattedAddress,
            displayName: displayName,
            streetNumber: streetNumber,
            streetName: streetName,
            subLocality: subLocality,
            locality: locality,
            postalCode: postalCode,
            region: region,
            country: country,
            countryCode: countryCode,
            placeId: placeId,
            osmId: osmId,
            osmType: osmType,
            categories: categories,
            types: types,
            distance: distance,
            precision: precision,
            precisionCode: precisionCode,
            precisionType: precisionType,
            attribution: attribution,
        });
        geocoded = geocoded.withBounds({
            latitudeSW: parseFloat(result.boundingbox[0]),
            longitudeSW: parseFloat(result.boundingbox[2]),
            latitudeNE: parseFloat(result.boundingbox[1]),
            longitudeNE: parseFloat(result.boundingbox[3]),
        });
        var adminLevels = ["state", "county"];
        adminLevels.forEach(function (adminLevel, level) {
            if (result.address[adminLevel]) {
                geocoded.addAdminLevel(_AdminLevel__WEBPACK_IMPORTED_MODULE_6__.default.create({
                    level: level + 1,
                    name: result.address[adminLevel] || "",
                    code: adminLevel === "state" ? result.address.state_code : undefined,
                }));
            }
        });
        var subLocalityLevels = ["suburb", "neighbourhood", "road", "name"];
        subLocalityLevels.forEach(function (subLocalityLevel, level) {
            if (result.address[subLocalityLevel]) {
                geocoded.addSubLocalityLevel(_AdminLevel__WEBPACK_IMPORTED_MODULE_6__.default.create({
                    level: level + 1,
                    name: result.address[subLocalityLevel] || "",
                }));
            }
        });
        return geocoded;
    };
    return LocationIQProvider;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (LocationIQProvider);


/***/ }),

/***/ "./src/provider/locationiq/LocationIQReverseQuery.ts":
/*!***********************************************************!*\
  !*** ./src/provider/locationiq/LocationIQReverseQuery.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _query__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../query */ "./src/query/ReverseQuery.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};

var LocationIQReverseQuery = /** @class */ (function (_super) {
    __extends(LocationIQReverseQuery, _super);
    function LocationIQReverseQuery(_a) {
        var zoom = _a.zoom, reverseQueryObject = __rest(_a, ["zoom"]);
        var _this = _super.call(this, reverseQueryObject) || this;
        _this.zoom = zoom;
        return _this;
    }
    LocationIQReverseQuery.create = function (object) {
        return new this(object);
    };
    LocationIQReverseQuery.prototype.toObject = function () {
        return __assign(__assign({}, _super.prototype.toObject.call(this)), { zoom: this.zoom });
    };
    LocationIQReverseQuery.prototype.withZoom = function (zoom) {
        return new LocationIQReverseQuery(__assign(__assign({}, this.toObject()), { zoom: zoom }));
    };
    LocationIQReverseQuery.prototype.getZoom = function () {
        return this.zoom;
    };
    return LocationIQReverseQuery;
}(_query__WEBPACK_IMPORTED_MODULE_0__.default));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (LocationIQReverseQuery);


/***/ }),

/***/ "./src/provider/locationiq/index.ts":
/*!******************************************!*\
  !*** ./src/provider/locationiq/index.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LocationIQGeocoded": () => (/* reexport safe */ _LocationIQGeocoded__WEBPACK_IMPORTED_MODULE_0__.default),
/* harmony export */   "LocationIQGeocodeQuery": () => (/* reexport safe */ _LocationIQGeocodeQuery__WEBPACK_IMPORTED_MODULE_1__.default),
/* harmony export */   "LocationIQProvider": () => (/* reexport safe */ _LocationIQProvider__WEBPACK_IMPORTED_MODULE_2__.default),
/* harmony export */   "defaultLocationIQProviderOptions": () => (/* reexport safe */ _LocationIQProvider__WEBPACK_IMPORTED_MODULE_2__.defaultLocationIQProviderOptions),
/* harmony export */   "LocationIQReverseQuery": () => (/* reexport safe */ _LocationIQReverseQuery__WEBPACK_IMPORTED_MODULE_3__.default)
/* harmony export */ });
/* harmony import */ var _LocationIQGeocoded__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./LocationIQGeocoded */ "./src/provider/locationiq/LocationIQGeocoded.ts");
/* harmony import */ var _LocationIQGeocodeQuery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./LocationIQGeocodeQuery */ "./src/provider/locationiq/LocationIQGeocodeQuery.ts");
/* harmony import */ var _LocationIQProvider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./LocationIQProvider */ "./src/provider/locationiq/LocationIQProvider.ts");
/* harmony import */ var _LocationIQReverseQuery__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./LocationIQReverseQuery */ "./src/provider/locationiq/LocationIQReverseQuery.ts");









/***/ }),

/***/ "./src/provider/mapbox/MapboxGeocodeQuery.ts":
/*!***************************************************!*\
  !*** ./src/provider/mapbox/MapboxGeocodeQuery.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _query__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../query */ "./src/query/GeocodeQuery.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};

var MapboxGeocodeQuery = /** @class */ (function (_super) {
    __extends(MapboxGeocodeQuery, _super);
    function MapboxGeocodeQuery(_a) {
        var countryCodes = _a.countryCodes, proximity = _a.proximity, types = _a.types, fuzzyMatch = _a.fuzzyMatch, geocodeQueryObject = __rest(_a, ["countryCodes", "proximity", "types", "fuzzyMatch"]);
        var _this = _super.call(this, geocodeQueryObject) || this;
        _this.countryCodes = countryCodes;
        if (proximity && (!proximity.latitude || !proximity.longitude)) {
            throw new Error('The "proximity" parameter must be an object with the keys: "latitude", "longitude".');
        }
        _this.proximity = proximity;
        _this.types = types;
        _this.fuzzyMatch = fuzzyMatch;
        return _this;
    }
    MapboxGeocodeQuery.create = function (object) {
        return new this(object);
    };
    MapboxGeocodeQuery.prototype.toObject = function () {
        return __assign(__assign({}, _super.prototype.toObject.call(this)), { countryCodes: this.countryCodes, proximity: this.proximity, types: this.types, fuzzyMatch: this.fuzzyMatch });
    };
    MapboxGeocodeQuery.prototype.withCountryCodes = function (countryCodes) {
        return new MapboxGeocodeQuery(__assign(__assign({}, this.toObject()), { countryCodes: countryCodes }));
    };
    MapboxGeocodeQuery.prototype.getCountryCodes = function () {
        return this.countryCodes;
    };
    MapboxGeocodeQuery.prototype.withProximity = function (proximity) {
        return new MapboxGeocodeQuery(__assign(__assign({}, this.toObject()), { proximity: proximity }));
    };
    MapboxGeocodeQuery.prototype.getProximity = function () {
        return this.proximity;
    };
    MapboxGeocodeQuery.prototype.withTypes = function (types) {
        return new MapboxGeocodeQuery(__assign(__assign({}, this.toObject()), { types: types }));
    };
    MapboxGeocodeQuery.prototype.getTypes = function () {
        return this.types;
    };
    MapboxGeocodeQuery.prototype.withFuzzyMatch = function (fuzzyMatch) {
        return new MapboxGeocodeQuery(__assign(__assign({}, this.toObject()), { fuzzyMatch: fuzzyMatch }));
    };
    MapboxGeocodeQuery.prototype.getFuzzyMatch = function () {
        return this.fuzzyMatch;
    };
    return MapboxGeocodeQuery;
}(_query__WEBPACK_IMPORTED_MODULE_0__.default));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MapboxGeocodeQuery);


/***/ }),

/***/ "./src/provider/mapbox/MapboxGeocoded.ts":
/*!***********************************************!*\
  !*** ./src/provider/mapbox/MapboxGeocoded.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Geocoded__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Geocoded */ "./src/Geocoded.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};

var MapboxGeocoded = /** @class */ (function (_super) {
    __extends(MapboxGeocoded, _super);
    function MapboxGeocoded(_a) {
        var types = _a.types, geocodedObject = __rest(_a, ["types"]);
        var _this = _super.call(this, geocodedObject) || this;
        _this.types = types;
        return _this;
    }
    MapboxGeocoded.create = function (object) {
        return new this(object);
    };
    MapboxGeocoded.prototype.toObject = function () {
        return __assign(__assign({}, _super.prototype.toObject.call(this)), { types: this.types });
    };
    MapboxGeocoded.prototype.withTypes = function (types) {
        return new MapboxGeocoded(__assign(__assign({}, this.toObject()), { types: types }));
    };
    MapboxGeocoded.prototype.getTypes = function () {
        return this.types;
    };
    return MapboxGeocoded;
}(_Geocoded__WEBPACK_IMPORTED_MODULE_0__.default));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MapboxGeocoded);


/***/ }),

/***/ "./src/provider/mapbox/MapboxProvider.ts":
/*!***********************************************!*\
  !*** ./src/provider/mapbox/MapboxProvider.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MAPBOX_SOURCES": () => (/* binding */ MAPBOX_SOURCES),
/* harmony export */   "defaultMapboxProviderOptions": () => (/* binding */ defaultMapboxProviderOptions),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./.. */ "./src/provider/ProviderInterface.ts");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./.. */ "./src/provider/ProviderHelpers.ts");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./.. */ "./src/provider/mapbox/MapboxGeocodeQuery.ts");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./.. */ "./src/provider/mapbox/MapboxReverseQuery.ts");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./.. */ "./src/provider/mapbox/MapboxGeocoded.ts");
/* harmony import */ var _AdminLevel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../AdminLevel */ "./src/AdminLevel.ts");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};


// eslint-disable-next-line no-shadow
var MAPBOX_SOURCES;
(function (MAPBOX_SOURCES) {
    MAPBOX_SOURCES["SOURCE_PLACES"] = "mapbox.places";
    MAPBOX_SOURCES["SOURCE_PLACES_PERMANENT"] = "mapbox.places-permanent";
})(MAPBOX_SOURCES || (MAPBOX_SOURCES = {}));
var defaultMapboxProviderOptions = __assign(__assign({}, ___WEBPACK_IMPORTED_MODULE_0__.defaultProviderOptions), { apiKey: "", source: MAPBOX_SOURCES.SOURCE_PLACES });
var MapboxProvider = /** @class */ (function () {
    function MapboxProvider(_externalLoader, options) {
        if (options === void 0) { options = defaultMapboxProviderOptions; }
        this.externalLoader = _externalLoader;
        this.options = __assign(__assign({}, defaultMapboxProviderOptions), options);
        if (!this.options.apiKey) {
            throw new Error('An API key is required for the Mapbox provider. Please add it in the "apiKey" option.');
        }
        if (![
            MAPBOX_SOURCES.SOURCE_PLACES,
            MAPBOX_SOURCES.SOURCE_PLACES_PERMANENT,
        ].includes(this.options.source || "")) {
            throw new Error("The \"source\" option must either be \"" + MAPBOX_SOURCES.SOURCE_PLACES + "\" or \"" + MAPBOX_SOURCES.SOURCE_PLACES_PERMANENT + "\".");
        }
    }
    MapboxProvider.prototype.geocode = function (query, callback, errorCallback) {
        var _this = this;
        var _a, _b, _c, _d, _e, _f, _g;
        var geocodeQuery = ___WEBPACK_IMPORTED_MODULE_1__.default.getGeocodeQueryFromParameter(query, ___WEBPACK_IMPORTED_MODULE_2__.default);
        if (geocodeQuery.getIp()) {
            throw new Error("The Mapbox provider does not support IP geolocation, only location geocoding.");
        }
        this.externalLoader.setOptions({
            protocol: this.options.useSsl ? "https" : "http",
            host: "api.mapbox.com",
            pathname: "geocoding/v5/" + this.options.source + "/" + geocodeQuery.getText() + ".json",
        });
        var fuzzyMatch = geocodeQuery.getFuzzyMatch()
            ? "true"
            : "false";
        var params = this.withCommonParams({
            bbox: geocodeQuery.getBounds()
                ? ((_a = geocodeQuery.getBounds()) === null || _a === void 0 ? void 0 : _a.longitudeSW) + "," + ((_b = geocodeQuery.getBounds()) === null || _b === void 0 ? void 0 : _b.latitudeSW) + "," + ((_c = geocodeQuery.getBounds()) === null || _c === void 0 ? void 0 : _c.longitudeNE) + "," + ((_d = geocodeQuery.getBounds()) === null || _d === void 0 ? void 0 : _d.latitudeNE)
                : undefined,
            fuzzyMatch: geocodeQuery.getFuzzyMatch() !== undefined
                ? fuzzyMatch
                : undefined,
            proximity: geocodeQuery.getProximity()
                ? ((_e = geocodeQuery.getProximity()) === null || _e === void 0 ? void 0 : _e.longitude) + "," + ((_f = geocodeQuery.getProximity()) === null || _f === void 0 ? void 0 : _f.latitude)
                : undefined,
            types: geocodeQuery.getTypes()
                ? (_g = geocodeQuery.getTypes()) === null || _g === void 0 ? void 0 : _g.join(",")
                : undefined,
        }, geocodeQuery);
        if (!callback) {
            return new Promise(function (resolve, reject) {
                return _this.executeRequest(params, function (results) { return resolve(results); }, {}, {}, function (error) { return reject(error); });
            });
        }
        return this.executeRequest(params, callback, {}, {}, errorCallback);
    };
    MapboxProvider.prototype.geodecode = function (latitudeOrQuery, longitudeOrCallback, callbackOrErrorCallback, errorCallback) {
        var _this = this;
        var _a;
        var reverseQuery = ___WEBPACK_IMPORTED_MODULE_1__.default.getReverseQueryFromParameters(latitudeOrQuery, longitudeOrCallback, ___WEBPACK_IMPORTED_MODULE_3__.default);
        var reverseCallback = ___WEBPACK_IMPORTED_MODULE_1__.default.getCallbackFromParameters(longitudeOrCallback, callbackOrErrorCallback);
        var reverseErrorCallback = ___WEBPACK_IMPORTED_MODULE_1__.default.getErrorCallbackFromParameters(longitudeOrCallback, callbackOrErrorCallback, errorCallback);
        this.externalLoader.setOptions({
            protocol: this.options.useSsl ? "https" : "http",
            host: "api.mapbox.com",
            pathname: "geocoding/v5/" + this.options.source + "/" + reverseQuery.getCoordinates().longitude + "," + reverseQuery.getCoordinates().latitude + ".json",
        });
        var params = this.withCommonParams({
            reverseMode: reverseQuery.getReverseMode()
                ? reverseQuery.getReverseMode()
                : undefined,
            types: reverseQuery.getTypes()
                ? (_a = reverseQuery.getTypes()) === null || _a === void 0 ? void 0 : _a.join(",")
                : "address",
        }, reverseQuery);
        if (!reverseCallback) {
            return new Promise(function (resolve, reject) {
                return _this.executeRequest(params, function (results) { return resolve(results); }, {}, {}, function (error) { return reject(error); });
            });
        }
        return this.executeRequest(params, reverseCallback, {}, {}, reverseErrorCallback);
    };
    MapboxProvider.prototype.withCommonParams = function (params, query) {
        var _a, _b;
        return __assign(__assign({}, params), { access_token: this.options.apiKey || "", country: query.getCountryCodes()
                ? (_a = query.getCountryCodes()) === null || _a === void 0 ? void 0 : _a.join(",")
                : (_b = this.options.countryCodes) === null || _b === void 0 ? void 0 : _b.join(","), language: query.getLocale(), limit: query.getLimit().toString() });
    };
    MapboxProvider.prototype.executeRequest = function (params, callback, headers, body, errorCallback) {
        this.externalLoader.executeRequest(params, function (data) {
            callback(data.features.map(function (result) {
                return MapboxProvider.mapToGeocoded(result);
            }));
        }, headers, body, errorCallback);
    };
    MapboxProvider.mapToGeocoded = function (result) {
        var latitude = result.geometry.coordinates[1];
        var longitude = result.geometry.coordinates[0];
        var formattedAddress = result.place_name;
        var streetNumber = result.address;
        var streetName = result.text;
        var locality;
        var postalCode;
        var region;
        var country;
        var countryCode;
        var adminLevels = [];
        var types = result.place_type;
        var adminLevelCode;
        (result.context || []).forEach(function (feature) {
            var type = feature.id.split(".")[0];
            switch (type) {
                case "locality":
                    locality = feature.text;
                    break;
                case "place":
                    locality = feature.text;
                    adminLevels.push(_AdminLevel__WEBPACK_IMPORTED_MODULE_4__.default.create({
                        level: _AdminLevel__WEBPACK_IMPORTED_MODULE_4__.ADMIN_LEVEL_CODES.COUNTY_CODE,
                        name: locality,
                    }));
                    break;
                case "postcode":
                    postalCode = feature.text;
                    break;
                case "region":
                    region = feature.text;
                    adminLevelCode = undefined;
                    if (feature.short_code && feature.short_code.match(/[A-z]{2}-/)) {
                        adminLevelCode = feature.short_code.replace(/[A-z]{2}-/, "");
                    }
                    adminLevels.push(_AdminLevel__WEBPACK_IMPORTED_MODULE_4__.default.create({
                        level: _AdminLevel__WEBPACK_IMPORTED_MODULE_4__.ADMIN_LEVEL_CODES.STATE_CODE,
                        name: region,
                        code: adminLevelCode,
                    }));
                    break;
                case "country":
                    country = feature.text;
                    countryCode = feature.short_code;
                    break;
                default:
            }
        });
        var geocoded = ___WEBPACK_IMPORTED_MODULE_5__.default.create({
            coordinates: {
                latitude: latitude,
                longitude: longitude,
            },
            formattedAddress: formattedAddress,
            streetNumber: streetNumber,
            streetName: streetName,
            locality: locality,
            postalCode: postalCode,
            region: region,
            adminLevels: adminLevels,
            country: country,
            countryCode: countryCode,
            types: types,
        });
        if (result.bbox) {
            geocoded = geocoded.withBounds({
                latitudeSW: result.bbox[1],
                longitudeSW: result.bbox[0],
                latitudeNE: result.bbox[3],
                longitudeNE: result.bbox[2],
            });
        }
        return geocoded;
    };
    return MapboxProvider;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MapboxProvider);


/***/ }),

/***/ "./src/provider/mapbox/MapboxReverseQuery.ts":
/*!***************************************************!*\
  !*** ./src/provider/mapbox/MapboxReverseQuery.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _query__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../query */ "./src/query/ReverseQuery.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};

var MapboxReverseQuery = /** @class */ (function (_super) {
    __extends(MapboxReverseQuery, _super);
    function MapboxReverseQuery(_a) {
        var countryCodes = _a.countryCodes, reverseMode = _a.reverseMode, types = _a.types, reverseQueryObject = __rest(_a, ["countryCodes", "reverseMode", "types"]);
        var _this = _super.call(this, reverseQueryObject) || this;
        _this.countryCodes = countryCodes;
        _this.reverseMode = reverseMode;
        _this.types = types;
        return _this;
    }
    MapboxReverseQuery.create = function (object) {
        return new this(object);
    };
    MapboxReverseQuery.prototype.toObject = function () {
        return __assign(__assign({}, _super.prototype.toObject.call(this)), { countryCodes: this.countryCodes, reverseMode: this.reverseMode, types: this.types });
    };
    MapboxReverseQuery.prototype.withCountryCodes = function (countryCodes) {
        return new MapboxReverseQuery(__assign(__assign({}, this.toObject()), { countryCodes: countryCodes }));
    };
    MapboxReverseQuery.prototype.getCountryCodes = function () {
        return this.countryCodes;
    };
    MapboxReverseQuery.prototype.withReverseMode = function (reverseMode) {
        return new MapboxReverseQuery(__assign(__assign({}, this.toObject()), { reverseMode: reverseMode }));
    };
    MapboxReverseQuery.prototype.getReverseMode = function () {
        return this.reverseMode;
    };
    MapboxReverseQuery.prototype.withTypes = function (types) {
        return new MapboxReverseQuery(__assign(__assign({}, this.toObject()), { types: types }));
    };
    MapboxReverseQuery.prototype.getTypes = function () {
        return this.types;
    };
    return MapboxReverseQuery;
}(_query__WEBPACK_IMPORTED_MODULE_0__.default));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MapboxReverseQuery);


/***/ }),

/***/ "./src/provider/mapbox/index.ts":
/*!**************************************!*\
  !*** ./src/provider/mapbox/index.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MapboxGeocoded": () => (/* reexport safe */ _MapboxGeocoded__WEBPACK_IMPORTED_MODULE_0__.default),
/* harmony export */   "MapboxGeocodeQuery": () => (/* reexport safe */ _MapboxGeocodeQuery__WEBPACK_IMPORTED_MODULE_1__.default),
/* harmony export */   "MapboxProvider": () => (/* reexport safe */ _MapboxProvider__WEBPACK_IMPORTED_MODULE_2__.default),
/* harmony export */   "MAPBOX_SOURCES": () => (/* reexport safe */ _MapboxProvider__WEBPACK_IMPORTED_MODULE_2__.MAPBOX_SOURCES),
/* harmony export */   "defaultMapboxProviderOptions": () => (/* reexport safe */ _MapboxProvider__WEBPACK_IMPORTED_MODULE_2__.defaultMapboxProviderOptions),
/* harmony export */   "MapboxReverseQuery": () => (/* reexport safe */ _MapboxReverseQuery__WEBPACK_IMPORTED_MODULE_3__.default)
/* harmony export */ });
/* harmony import */ var _MapboxGeocoded__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MapboxGeocoded */ "./src/provider/mapbox/MapboxGeocoded.ts");
/* harmony import */ var _MapboxGeocodeQuery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MapboxGeocodeQuery */ "./src/provider/mapbox/MapboxGeocodeQuery.ts");
/* harmony import */ var _MapboxProvider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MapboxProvider */ "./src/provider/mapbox/MapboxProvider.ts");
/* harmony import */ var _MapboxReverseQuery__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./MapboxReverseQuery */ "./src/provider/mapbox/MapboxReverseQuery.ts");









/***/ }),

/***/ "./src/provider/mapquest/MapQuestGeocodeQuery.ts":
/*!*******************************************************!*\
  !*** ./src/provider/mapquest/MapQuestGeocodeQuery.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _query__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../query */ "./src/query/GeocodeQuery.ts");
/* harmony import */ var _Geocoded__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Geocoded */ "./src/Geocoded.ts");
/* harmony import */ var _AdminLevel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../AdminLevel */ "./src/AdminLevel.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};



var MapQuestGeocodeQuery = /** @class */ (function (_super) {
    __extends(MapQuestGeocodeQuery, _super);
    function MapQuestGeocodeQuery(_a) {
        var location = _a.location, geocodeQueryObject = __rest(_a, ["location"]);
        var _this = _super.call(this, __assign(__assign({}, geocodeQueryObject), { text: location ? "from_location" : geocodeQueryObject.text })) || this;
        if (!location) {
            return _this;
        }
        if ("getLatLng" in location) {
            _this.location = location.toObject();
            return _this;
        }
        if ("getLocality" in location) {
            _this.location = MapQuestGeocodeQuery.convertGeocodedToLocationObject(location);
            return _this;
        }
        var geocodedPropsNumber = 0;
        var mapQuestLocationPropsNumber = 0;
        var geocodedObject = _Geocoded__WEBPACK_IMPORTED_MODULE_0__.default.create({}).toObject();
        Object.keys(geocodedObject).forEach(function (prop) {
            if (prop in location) {
                geocodedPropsNumber += 1;
            }
        });
        [
            "street",
            "adminArea5",
            "city",
            "adminArea4",
            "county",
            "adminArea3",
            "state",
            "adminArea1",
            "country",
            "postalCode",
            "type",
        ].forEach(function (prop) {
            if (prop in location) {
                mapQuestLocationPropsNumber += 1;
            }
        });
        if (geocodedPropsNumber > mapQuestLocationPropsNumber) {
            _this.location = MapQuestGeocodeQuery.convertGeocodedToLocationObject(_Geocoded__WEBPACK_IMPORTED_MODULE_0__.default.create(location));
            return _this;
        }
        _this.location = location;
        return _this;
    }
    MapQuestGeocodeQuery.create = function (object) {
        return new this(object);
    };
    MapQuestGeocodeQuery.prototype.toObject = function () {
        return __assign(__assign({}, _super.prototype.toObject.call(this)), { location: this.location });
    };
    MapQuestGeocodeQuery.prototype.withLocation = function (location) {
        return new MapQuestGeocodeQuery(__assign(__assign({}, this.toObject()), { location: location }));
    };
    MapQuestGeocodeQuery.prototype.getLocation = function () {
        return this.location;
    };
    MapQuestGeocodeQuery.convertGeocodedToLocationObject = function (geocoded) {
        var location = {};
        var streetParts = [
            geocoded.getStreetNumber() || "",
            geocoded.getStreetName() || "",
        ];
        var street = streetParts.join(" ");
        if (street) {
            location.street = street;
        }
        if (geocoded.getLocality()) {
            location.city = geocoded.getLocality();
        }
        if (geocoded.getCountry()) {
            location.country = geocoded.getCountry();
        }
        if (geocoded.getPostalCode()) {
            location.postalCode = geocoded.getPostalCode();
        }
        geocoded.getAdminLevels().forEach(function (adminLevel) {
            if (adminLevel.getLevel() === _AdminLevel__WEBPACK_IMPORTED_MODULE_1__.ADMIN_LEVEL_CODES.STATE_CODE) {
                location.state = adminLevel.getCode() || adminLevel.getName();
            }
            if (adminLevel.getLevel() === _AdminLevel__WEBPACK_IMPORTED_MODULE_1__.ADMIN_LEVEL_CODES.COUNTY_CODE) {
                location.county = adminLevel.getCode() || adminLevel.getName();
            }
        });
        return location;
    };
    return MapQuestGeocodeQuery;
}(_query__WEBPACK_IMPORTED_MODULE_2__.default));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MapQuestGeocodeQuery);


/***/ }),

/***/ "./src/provider/mapquest/MapQuestGeocoded.ts":
/*!***************************************************!*\
  !*** ./src/provider/mapquest/MapQuestGeocoded.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Geocoded__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Geocoded */ "./src/Geocoded.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};

var MapQuestGeocoded = /** @class */ (function (_super) {
    __extends(MapQuestGeocoded, _super);
    function MapQuestGeocoded(_a) {
        var precision = _a.precision, precisionCode = _a.precisionCode, mapUrl = _a.mapUrl, attribution = _a.attribution, geocodedObject = __rest(_a, ["precision", "precisionCode", "mapUrl", "attribution"]);
        var _this = _super.call(this, geocodedObject) || this;
        _this.precision = precision;
        _this.precisionCode = precisionCode;
        _this.mapUrl = mapUrl;
        _this.attribution = attribution;
        return _this;
    }
    MapQuestGeocoded.create = function (object) {
        return new this(object);
    };
    MapQuestGeocoded.prototype.toObject = function () {
        return __assign(__assign({}, _super.prototype.toObject.call(this)), { precision: this.precision, precisionCode: this.precisionCode, mapUrl: this.mapUrl, attribution: this.attribution });
    };
    MapQuestGeocoded.prototype.withPrecision = function (precision) {
        return new MapQuestGeocoded(__assign(__assign({}, this.toObject()), { precision: precision }));
    };
    MapQuestGeocoded.prototype.getPrecision = function () {
        return this.precision;
    };
    MapQuestGeocoded.prototype.withPrecisionCode = function (precisionCode) {
        return new MapQuestGeocoded(__assign(__assign({}, this.toObject()), { precisionCode: precisionCode }));
    };
    MapQuestGeocoded.prototype.getPrecisionCode = function () {
        return this.precisionCode;
    };
    MapQuestGeocoded.prototype.withMapUrl = function (mapUrl) {
        return new MapQuestGeocoded(__assign(__assign({}, this.toObject()), { mapUrl: mapUrl }));
    };
    MapQuestGeocoded.prototype.getMapUrl = function () {
        return this.mapUrl;
    };
    MapQuestGeocoded.prototype.withAttribution = function (attribution) {
        return new MapQuestGeocoded(__assign(__assign({}, this.toObject()), { attribution: attribution }));
    };
    MapQuestGeocoded.prototype.getAttribution = function () {
        return this.attribution;
    };
    return MapQuestGeocoded;
}(_Geocoded__WEBPACK_IMPORTED_MODULE_0__.default));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MapQuestGeocoded);


/***/ }),

/***/ "./src/provider/mapquest/MapQuestLocation.ts":
/*!***************************************************!*\
  !*** ./src/provider/mapquest/MapQuestLocation.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
var MapQuestLocation = /** @class */ (function () {
    function MapQuestLocation(_a) {
        var latLng = _a.latLng, street = _a.street, adminArea1 = _a.adminArea1, country = _a.country, adminArea3 = _a.adminArea3, state = _a.state, adminArea4 = _a.adminArea4, county = _a.county, adminArea5 = _a.adminArea5, city = _a.city, postalCode = _a.postalCode, type = _a.type;
        this.latLng = latLng;
        this.street = street;
        this.adminArea1 = adminArea1;
        this.country = country;
        this.adminArea3 = adminArea3;
        this.state = state;
        this.adminArea4 = adminArea4;
        this.county = county;
        this.adminArea5 = adminArea5;
        this.city = city;
        this.postalCode = postalCode;
        this.type = type;
    }
    MapQuestLocation.create = function (object) {
        return new this(object);
    };
    MapQuestLocation.prototype.toObject = function () {
        return {
            latLng: this.latLng,
            street: this.street,
            adminArea1: this.adminArea1,
            country: this.country,
            adminArea3: this.adminArea3,
            state: this.state,
            adminArea4: this.adminArea4,
            county: this.county,
            adminArea5: this.adminArea5,
            city: this.city,
            postalCode: this.postalCode,
            type: this.type,
        };
    };
    MapQuestLocation.prototype.getLatLng = function () {
        return this.latLng;
    };
    MapQuestLocation.prototype.getStreet = function () {
        return this.street;
    };
    MapQuestLocation.prototype.getAdminArea1 = function () {
        return this.adminArea1;
    };
    MapQuestLocation.prototype.getCountry = function () {
        return this.country;
    };
    MapQuestLocation.prototype.getAdminArea3 = function () {
        return this.adminArea3;
    };
    MapQuestLocation.prototype.getState = function () {
        return this.state;
    };
    MapQuestLocation.prototype.getAdminArea4 = function () {
        return this.adminArea4;
    };
    MapQuestLocation.prototype.getCounty = function () {
        return this.county;
    };
    MapQuestLocation.prototype.getAdminArea5 = function () {
        return this.adminArea5;
    };
    MapQuestLocation.prototype.getCity = function () {
        return this.city;
    };
    MapQuestLocation.prototype.getPostalCode = function () {
        return this.postalCode;
    };
    MapQuestLocation.prototype.getType = function () {
        return this.type;
    };
    return MapQuestLocation;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MapQuestLocation);


/***/ }),

/***/ "./src/provider/mapquest/MapQuestProvider.ts":
/*!***************************************************!*\
  !*** ./src/provider/mapquest/MapQuestProvider.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "defaultMapQuestProviderOptions": () => (/* binding */ defaultMapQuestProviderOptions),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./.. */ "./src/provider/ProviderInterface.ts");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./.. */ "./src/provider/ProviderHelpers.ts");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./.. */ "./src/provider/mapquest/MapQuestGeocodeQuery.ts");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./.. */ "./src/provider/mapquest/MapQuestGeocoded.ts");
/* harmony import */ var _AdminLevel__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../AdminLevel */ "./src/AdminLevel.ts");
/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../error */ "./src/error/ResponseError.ts");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};



var defaultMapQuestProviderOptions = __assign(__assign({}, ___WEBPACK_IMPORTED_MODULE_0__.defaultProviderOptions), { apiKey: "", method: "GET", source: "mapquest" });
var MapQuestProvider = /** @class */ (function () {
    function MapQuestProvider(_externalLoader, options) {
        if (options === void 0) { options = defaultMapQuestProviderOptions; }
        this.externalLoader = _externalLoader;
        this.options = __assign(__assign({}, defaultMapQuestProviderOptions), options);
        if (!this.options.apiKey) {
            throw new Error('An API key is required for the MapQuest provider. Please add it in the "apiKey" option.');
        }
        if (!["GET", "POST"].includes(this.options.method || "")) {
            throw new Error('The "method" option must either be "GET" or "POST".');
        }
        if (!["mapquest", "nominatim"].includes(this.options.source || "")) {
            throw new Error('The "source" option must either be "mapquest" or "nominatim".');
        }
    }
    MapQuestProvider.prototype.geocode = function (query, callback, errorCallback) {
        var _this = this;
        var _a, _b, _c, _d, _e, _f, _g, _h;
        var geocodeQuery = ___WEBPACK_IMPORTED_MODULE_1__.default.getGeocodeQueryFromParameter(query, ___WEBPACK_IMPORTED_MODULE_2__.default);
        if (geocodeQuery.getIp()) {
            throw new Error("The MapQuest provider does not support IP geolocation, only location geocoding.");
        }
        this.externalLoader.setOptions({
            method: this.options.method,
            protocol: this.options.useSsl ? "https" : "http",
            host: this.options.source === "nominatim"
                ? "open.mapquestapi.com"
                : "www.mapquestapi.com",
            pathname: "geocoding/v1/address",
        });
        var requestParams = {
            boundingBox: geocodeQuery.getBounds()
                ? ((_a = geocodeQuery.getBounds()) === null || _a === void 0 ? void 0 : _a.latitudeNE) + "," + ((_b = geocodeQuery.getBounds()) === null || _b === void 0 ? void 0 : _b.longitudeSW) + "," + ((_c = geocodeQuery.getBounds()) === null || _c === void 0 ? void 0 : _c.latitudeSW) + "," + ((_d = geocodeQuery.getBounds()) === null || _d === void 0 ? void 0 : _d.longitudeNE)
                : undefined,
            maxResults: geocodeQuery.getLimit().toString(),
        };
        if (geocodeQuery.getLocation()) {
            requestParams = __assign(__assign({}, geocodeQuery.getLocation()), requestParams);
        }
        else {
            requestParams = __assign({ location: geocodeQuery.getText() }, requestParams);
        }
        requestParams = this.options.method === "GET" ? requestParams : {};
        var params = this.withCommonParams(requestParams);
        var body = this.options.method === "POST"
            ? {
                location: geocodeQuery.getLocation()
                    ? (geocodeQuery.getLocation())
                    : geocodeQuery.getText(),
                options: {
                    boundingBox: geocodeQuery.getBounds()
                        ? {
                            ul: {
                                lat: (_e = geocodeQuery.getBounds()) === null || _e === void 0 ? void 0 : _e.latitudeNE,
                                lng: (_f = geocodeQuery.getBounds()) === null || _f === void 0 ? void 0 : _f.longitudeSW,
                            },
                            lr: {
                                lat: (_g = geocodeQuery.getBounds()) === null || _g === void 0 ? void 0 : _g.latitudeSW,
                                lng: (_h = geocodeQuery.getBounds()) === null || _h === void 0 ? void 0 : _h.longitudeNE,
                            },
                        }
                        : undefined,
                    maxResults: geocodeQuery.getLimit().toString(),
                },
            }
            : {};
        if (!callback) {
            return new Promise(function (resolve, reject) {
                return _this.executeRequest(params, function (results) { return resolve(results); }, {}, body, function (error) { return reject(error); });
            });
        }
        return this.executeRequest(params, callback, {}, body, errorCallback);
    };
    MapQuestProvider.prototype.geodecode = function (latitudeOrQuery, longitudeOrCallback, callbackOrErrorCallback, errorCallback) {
        var _this = this;
        var reverseQuery = ___WEBPACK_IMPORTED_MODULE_1__.default.getReverseQueryFromParameters(latitudeOrQuery, longitudeOrCallback);
        var reverseCallback = ___WEBPACK_IMPORTED_MODULE_1__.default.getCallbackFromParameters(longitudeOrCallback, callbackOrErrorCallback);
        var reverseErrorCallback = ___WEBPACK_IMPORTED_MODULE_1__.default.getErrorCallbackFromParameters(longitudeOrCallback, callbackOrErrorCallback, errorCallback);
        this.externalLoader.setOptions({
            method: this.options.method,
            protocol: this.options.useSsl ? "https" : "http",
            host: this.options.source === "nominatim"
                ? "open.mapquestapi.com"
                : "www.mapquestapi.com",
            pathname: "geocoding/v1/reverse",
        });
        var requestParams = this.options.method === "GET"
            ? {
                location: reverseQuery.getCoordinates().latitude + "," + reverseQuery.getCoordinates().longitude,
            }
            : {};
        var params = this.withCommonParams(requestParams);
        var body = this.options.method === "POST"
            ? {
                location: {
                    latLng: {
                        lat: reverseQuery.getCoordinates().latitude,
                        lng: reverseQuery.getCoordinates().longitude,
                    },
                },
            }
            : {};
        if (!reverseCallback) {
            return new Promise(function (resolve, reject) {
                return _this.executeRequest(params, function (results) { return resolve(results); }, {}, body, function (error) { return reject(error); });
            });
        }
        return this.executeRequest(params, reverseCallback, {}, body, reverseErrorCallback);
    };
    MapQuestProvider.prototype.withCommonParams = function (params) {
        return __assign(__assign({}, params), { key: this.options.apiKey || "", jsonpCallback: this.options.useJsonp ? "callback" : undefined });
    };
    MapQuestProvider.prototype.executeRequest = function (params, callback, headers, body, errorCallback) {
        this.externalLoader.executeRequest(params, function (data) {
            if (data.info.statuscode !== 0) {
                var errorMessage_1 = "An error has occurred (" + data.info.statuscode + "): " + data.info.messages.join(" / ");
                if (errorCallback) {
                    errorCallback(new _error__WEBPACK_IMPORTED_MODULE_3__.default(errorMessage_1, data));
                    return;
                }
                setTimeout(function () {
                    throw new Error(errorMessage_1);
                });
                return;
            }
            callback(data.results[0].locations.map(function (result) {
                return MapQuestProvider.mapToGeocoded(result, data.info.copyright.text);
            }));
        }, headers, body, errorCallback);
    };
    MapQuestProvider.mapToGeocoded = function (result, attribution) {
        var latitude = result.latLng.lat;
        var longitude = result.latLng.lng;
        var streetName = result.street;
        var subLocality = result.adminArea6;
        var locality = result.adminArea5;
        var postalCode = result.postalCode;
        var region = result.adminArea4;
        var country = result.adminArea1;
        var countryCode = result.adminArea1;
        var precision = result.geocodeQuality;
        var precisionCode = result.geocodeQualityCode;
        var mapUrl = result.mapUrl;
        var geocoded = ___WEBPACK_IMPORTED_MODULE_4__.default.create({
            coordinates: {
                latitude: latitude,
                longitude: longitude,
            },
            streetName: streetName,
            subLocality: subLocality,
            locality: locality,
            postalCode: postalCode,
            region: region,
            country: country,
            countryCode: countryCode,
            attribution: attribution,
            precision: precision,
            precisionCode: precisionCode,
            mapUrl: mapUrl,
        });
        if (result.adminArea3) {
            geocoded.addAdminLevel(_AdminLevel__WEBPACK_IMPORTED_MODULE_5__.default.create({
                level: _AdminLevel__WEBPACK_IMPORTED_MODULE_5__.ADMIN_LEVEL_CODES.STATE_CODE,
                name: result.adminArea3,
                code: result.adminArea3.length === 2 ? result.adminArea3 : undefined,
            }));
        }
        if (result.adminArea4) {
            geocoded.addAdminLevel(_AdminLevel__WEBPACK_IMPORTED_MODULE_5__.default.create({
                level: _AdminLevel__WEBPACK_IMPORTED_MODULE_5__.ADMIN_LEVEL_CODES.COUNTY_CODE,
                name: result.adminArea4,
            }));
        }
        return geocoded;
    };
    return MapQuestProvider;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MapQuestProvider);


/***/ }),

/***/ "./src/provider/mapquest/index.ts":
/*!****************************************!*\
  !*** ./src/provider/mapquest/index.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MapQuestGeocoded": () => (/* reexport safe */ _MapQuestGeocoded__WEBPACK_IMPORTED_MODULE_0__.default),
/* harmony export */   "MapQuestGeocodeQuery": () => (/* reexport safe */ _MapQuestGeocodeQuery__WEBPACK_IMPORTED_MODULE_1__.default),
/* harmony export */   "MapQuestLocation": () => (/* reexport safe */ _MapQuestLocation__WEBPACK_IMPORTED_MODULE_2__.default),
/* harmony export */   "MapQuestProvider": () => (/* reexport safe */ _MapQuestProvider__WEBPACK_IMPORTED_MODULE_3__.default),
/* harmony export */   "defaultMapQuestProviderOptions": () => (/* reexport safe */ _MapQuestProvider__WEBPACK_IMPORTED_MODULE_3__.defaultMapQuestProviderOptions)
/* harmony export */ });
/* harmony import */ var _MapQuestGeocoded__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MapQuestGeocoded */ "./src/provider/mapquest/MapQuestGeocoded.ts");
/* harmony import */ var _MapQuestGeocodeQuery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MapQuestGeocodeQuery */ "./src/provider/mapquest/MapQuestGeocodeQuery.ts");
/* harmony import */ var _MapQuestLocation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MapQuestLocation */ "./src/provider/mapquest/MapQuestLocation.ts");
/* harmony import */ var _MapQuestProvider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./MapQuestProvider */ "./src/provider/mapquest/MapQuestProvider.ts");









/***/ }),

/***/ "./src/provider/nominatim/NominatimGeocodeQuery.ts":
/*!*********************************************************!*\
  !*** ./src/provider/nominatim/NominatimGeocodeQuery.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _query__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../query */ "./src/query/GeocodeQuery.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};

var NominatimGeocodeQuery = /** @class */ (function (_super) {
    __extends(NominatimGeocodeQuery, _super);
    function NominatimGeocodeQuery(_a) {
        var countryCodes = _a.countryCodes, excludePlaceIds = _a.excludePlaceIds, bounded = _a.bounded, bounds = _a.bounds, dedupe = _a.dedupe, shape = _a.shape, shapeThreshold = _a.shapeThreshold, geocodeQueryObject = __rest(_a, ["countryCodes", "excludePlaceIds", "bounded", "bounds", "dedupe", "shape", "shapeThreshold"]);
        var _this = _super.call(this, __assign({ bounds: bounds }, geocodeQueryObject)) || this;
        _this.countryCodes = countryCodes;
        _this.excludePlaceIds = excludePlaceIds;
        if (bounded && !bounds) {
            throw new Error('The "bounded" parameter can only be used with the "bounds" parameter.');
        }
        _this.bounded = bounded;
        _this.dedupe = dedupe;
        if (shape && !["geojson", "kml", "svg", "text"].includes(shape)) {
            throw new Error('The "shape" parameter can only have the following values: "geojson", "kml", "svg", "text".');
        }
        _this.shape = shape;
        _this.shapeThreshold = shapeThreshold;
        return _this;
    }
    NominatimGeocodeQuery.create = function (object) {
        return new this(object);
    };
    NominatimGeocodeQuery.prototype.toObject = function () {
        return __assign(__assign({}, _super.prototype.toObject.call(this)), { countryCodes: this.countryCodes, excludePlaceIds: this.excludePlaceIds, bounded: this.bounded, dedupe: this.dedupe, shape: this.shape, shapeThreshold: this.shapeThreshold });
    };
    NominatimGeocodeQuery.prototype.withCountryCodes = function (countryCodes) {
        return new NominatimGeocodeQuery(__assign(__assign({}, this.toObject()), { countryCodes: countryCodes }));
    };
    NominatimGeocodeQuery.prototype.getCountryCodes = function () {
        return this.countryCodes;
    };
    NominatimGeocodeQuery.prototype.withExcludePlaceIds = function (excludePlaceIds) {
        return new NominatimGeocodeQuery(__assign(__assign({}, this.toObject()), { excludePlaceIds: excludePlaceIds }));
    };
    NominatimGeocodeQuery.prototype.getExcludePlaceIds = function () {
        return this.excludePlaceIds;
    };
    NominatimGeocodeQuery.prototype.withBounded = function (bounded) {
        return new NominatimGeocodeQuery(__assign(__assign({}, this.toObject()), { bounded: bounded }));
    };
    NominatimGeocodeQuery.prototype.getBounded = function () {
        return this.bounded;
    };
    NominatimGeocodeQuery.prototype.withDedupe = function (dedupe) {
        return new NominatimGeocodeQuery(__assign(__assign({}, this.toObject()), { dedupe: dedupe }));
    };
    NominatimGeocodeQuery.prototype.getDedupe = function () {
        return this.dedupe;
    };
    NominatimGeocodeQuery.prototype.withShape = function (shape) {
        return new NominatimGeocodeQuery(__assign(__assign({}, this.toObject()), { shape: shape }));
    };
    NominatimGeocodeQuery.prototype.getShape = function () {
        return this.shape;
    };
    NominatimGeocodeQuery.prototype.withShapeThreshold = function (shapeThreshold) {
        return new NominatimGeocodeQuery(__assign(__assign({}, this.toObject()), { shapeThreshold: shapeThreshold }));
    };
    NominatimGeocodeQuery.prototype.getShapeThreshold = function () {
        return this.shapeThreshold;
    };
    return NominatimGeocodeQuery;
}(_query__WEBPACK_IMPORTED_MODULE_0__.default));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (NominatimGeocodeQuery);


/***/ }),

/***/ "./src/provider/nominatim/NominatimGeocoded.ts":
/*!*****************************************************!*\
  !*** ./src/provider/nominatim/NominatimGeocoded.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Geocoded__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Geocoded */ "./src/Geocoded.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};

var NominatimGeocoded = /** @class */ (function (_super) {
    __extends(NominatimGeocoded, _super);
    function NominatimGeocoded(_a) {
        var displayName = _a.displayName, osmId = _a.osmId, osmType = _a.osmType, categories = _a.categories, types = _a.types, attribution = _a.attribution, subLocalityLevels = _a.subLocalityLevels, shape = _a.shape, geocodedObject = __rest(_a, ["displayName", "osmId", "osmType", "categories", "types", "attribution", "subLocalityLevels", "shape"]);
        var _this = _super.call(this, geocodedObject) || this;
        _this.displayName = displayName;
        _this.osmId = osmId;
        _this.osmType = osmType;
        _this.categories = categories;
        _this.types = types;
        _this.attribution = attribution;
        _this.subLocalityLevels = subLocalityLevels || [];
        _this.shape = shape;
        return _this;
    }
    NominatimGeocoded.create = function (object) {
        return new this(object);
    };
    NominatimGeocoded.prototype.toObject = function () {
        return __assign(__assign({}, _super.prototype.toObject.call(this)), { displayName: this.displayName, osmId: this.osmId, osmType: this.osmType, categories: this.categories, types: this.types, attribution: this.attribution, subLocalityLevels: this.subLocalityLevels, shape: this.shape });
    };
    NominatimGeocoded.prototype.withDisplayName = function (displayName) {
        return new NominatimGeocoded(__assign(__assign({}, this.toObject()), { displayName: displayName }));
    };
    NominatimGeocoded.prototype.getDisplayName = function () {
        return this.displayName;
    };
    NominatimGeocoded.prototype.withOsmId = function (osmId) {
        return new NominatimGeocoded(__assign(__assign({}, this.toObject()), { osmId: osmId }));
    };
    NominatimGeocoded.prototype.getOsmId = function () {
        return this.osmId;
    };
    NominatimGeocoded.prototype.withOsmType = function (osmType) {
        return new NominatimGeocoded(__assign(__assign({}, this.toObject()), { osmType: osmType }));
    };
    NominatimGeocoded.prototype.getOsmType = function () {
        return this.osmType;
    };
    NominatimGeocoded.prototype.withCategories = function (categories) {
        return new NominatimGeocoded(__assign(__assign({}, this.toObject()), { categories: categories }));
    };
    NominatimGeocoded.prototype.getCategories = function () {
        return this.categories;
    };
    NominatimGeocoded.prototype.withTypes = function (types) {
        return new NominatimGeocoded(__assign(__assign({}, this.toObject()), { types: types }));
    };
    NominatimGeocoded.prototype.getTypes = function () {
        return this.types;
    };
    NominatimGeocoded.prototype.withAttribution = function (attribution) {
        return new NominatimGeocoded(__assign(__assign({}, this.toObject()), { attribution: attribution }));
    };
    NominatimGeocoded.prototype.getAttribution = function () {
        return this.attribution;
    };
    NominatimGeocoded.prototype.addSubLocalityLevel = function (subLocalityLevel) {
        this.subLocalityLevels.push(subLocalityLevel);
    };
    NominatimGeocoded.prototype.getSubLocalityLevels = function () {
        return this.subLocalityLevels;
    };
    NominatimGeocoded.prototype.withShape = function (shape) {
        return new NominatimGeocoded(__assign(__assign({}, this.toObject()), { shape: shape }));
    };
    NominatimGeocoded.prototype.getShape = function () {
        return this.shape;
    };
    return NominatimGeocoded;
}(_Geocoded__WEBPACK_IMPORTED_MODULE_0__.default));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (NominatimGeocoded);


/***/ }),

/***/ "./src/provider/nominatim/NominatimProvider.ts":
/*!*****************************************************!*\
  !*** ./src/provider/nominatim/NominatimProvider.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "defaultNominatimProviderOptions": () => (/* binding */ defaultNominatimProviderOptions),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./.. */ "./src/provider/ProviderInterface.ts");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./.. */ "./src/provider/ProviderHelpers.ts");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./.. */ "./src/provider/nominatim/NominatimGeocodeQuery.ts");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./.. */ "./src/provider/nominatim/NominatimReverseQuery.ts");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./.. */ "./src/provider/nominatim/NominatimGeocoded.ts");
/* harmony import */ var _AdminLevel__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../AdminLevel */ "./src/AdminLevel.ts");
/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../error */ "./src/error/ResponseError.ts");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};



var defaultNominatimProviderOptions = __assign(__assign({}, ___WEBPACK_IMPORTED_MODULE_0__.defaultProviderOptions), { host: "nominatim.openstreetmap.org", userAgent: "" });
var NominatimProvider = /** @class */ (function () {
    function NominatimProvider(_externalLoader, options) {
        if (options === void 0) { options = defaultNominatimProviderOptions; }
        this.externalLoader = _externalLoader;
        this.options = __assign(__assign({}, defaultNominatimProviderOptions), options);
        if (this.options.host === defaultNominatimProviderOptions.host &&
            !this.options.userAgent) {
            throw new Error('An User-Agent identifying your application is required for the OpenStreetMap / Nominatim provider when using the default host. Please add it in the "userAgent" option.');
        }
    }
    NominatimProvider.prototype.geocode = function (query, callback, errorCallback) {
        var _this = this;
        var _a, _b, _c, _d, _e, _f, _g, _h, _j;
        var geocodeQuery = ___WEBPACK_IMPORTED_MODULE_1__.default.getGeocodeQueryFromParameter(query, ___WEBPACK_IMPORTED_MODULE_2__.default);
        if (geocodeQuery.getIp()) {
            throw new Error("The OpenStreetMap / Nominatim provider does not support IP geolocation, only location geocoding.");
        }
        this.externalLoader.setOptions({
            protocol: this.options.useSsl ? "https" : "http",
            host: this.options.host,
            pathname: "search",
        });
        var params = this.withCommonParams({
            q: geocodeQuery.getText(),
            limit: geocodeQuery.getLimit().toString(),
            countrycodes: geocodeQuery.getCountryCodes()
                ? (_a = geocodeQuery.getCountryCodes()) === null || _a === void 0 ? void 0 : _a.join(",")
                : (_b = this.options.countryCodes) === null || _b === void 0 ? void 0 : _b.join(","),
            exclude_place_ids: (geocodeQuery).getExcludePlaceIds()
                ? (_c = geocodeQuery
                    .getExcludePlaceIds()) === null || _c === void 0 ? void 0 : _c.join(",")
                : undefined,
            viewbox: geocodeQuery.getBounds()
                ? ((_d = geocodeQuery.getBounds()) === null || _d === void 0 ? void 0 : _d.longitudeSW) + "," + ((_e = geocodeQuery.getBounds()) === null || _e === void 0 ? void 0 : _e.latitudeSW) + "," + ((_f = geocodeQuery.getBounds()) === null || _f === void 0 ? void 0 : _f.longitudeNE) + "," + ((_g = geocodeQuery.getBounds()) === null || _g === void 0 ? void 0 : _g.latitudeNE)
                : undefined,
            bounded: geocodeQuery.getBounded()
                ? (_h = geocodeQuery.getBounded()) === null || _h === void 0 ? void 0 : _h.toString()
                : undefined,
            dedupe: geocodeQuery.getDedupe()
                ? (_j = geocodeQuery.getDedupe()) === null || _j === void 0 ? void 0 : _j.toString()
                : undefined,
        }, geocodeQuery);
        if (!callback) {
            return new Promise(function (resolve, reject) {
                return _this.executeRequest(params, function (results) { return resolve(results); }, _this.getHeaders(), {}, function (error) { return reject(error); });
            });
        }
        return this.executeRequest(params, callback, this.getHeaders(), {}, errorCallback);
    };
    NominatimProvider.prototype.geodecode = function (latitudeOrQuery, longitudeOrCallback, callbackOrErrorCallback, errorCallback) {
        var _this = this;
        var _a;
        var reverseQuery = ___WEBPACK_IMPORTED_MODULE_1__.default.getReverseQueryFromParameters(latitudeOrQuery, longitudeOrCallback, ___WEBPACK_IMPORTED_MODULE_3__.default);
        var reverseCallback = ___WEBPACK_IMPORTED_MODULE_1__.default.getCallbackFromParameters(longitudeOrCallback, callbackOrErrorCallback);
        var reverseErrorCallback = ___WEBPACK_IMPORTED_MODULE_1__.default.getErrorCallbackFromParameters(longitudeOrCallback, callbackOrErrorCallback, errorCallback);
        this.externalLoader.setOptions({
            protocol: this.options.useSsl ? "https" : "http",
            host: this.options.host,
            pathname: "reverse",
        });
        var params = this.withCommonParams({
            lat: reverseQuery.getCoordinates().latitude.toString(),
            lon: reverseQuery.getCoordinates().longitude.toString(),
            zoom: ((_a = reverseQuery.getZoom()) === null || _a === void 0 ? void 0 : _a.toString()) || "18",
        }, reverseQuery);
        if (!reverseCallback) {
            return new Promise(function (resolve, reject) {
                return _this.executeRequest(params, function (results) { return resolve(results); }, _this.getHeaders(), {}, function (error) { return reject(error); });
            });
        }
        return this.executeRequest(params, reverseCallback, this.getHeaders(), {}, reverseErrorCallback);
    };
    NominatimProvider.prototype.withCommonParams = function (params, query) {
        var _a;
        return __assign(__assign({}, params), { format: "jsonv2", addressdetails: "1", polygon_geojson: query.getShape() && query.getShape() === "geojson" ? "1" : undefined, polygon_kml: query.getShape() && query.getShape() === "kml" ? "1" : undefined, polygon_svg: query.getShape() && query.getShape() === "svg" ? "1" : undefined, polygon_text: query.getShape() && query.getShape() === "text" ? "1" : undefined, polygon_threshold: query.getShapeThreshold()
                ? (_a = query.getShapeThreshold()) === null || _a === void 0 ? void 0 : _a.toString()
                : undefined, jsonpCallback: this.options.useJsonp ? "json_callback" : undefined, "accept-language": query.getLocale() });
    };
    NominatimProvider.prototype.getHeaders = function () {
        return {
            "User-Agent": this.options.userAgent || "",
            Referer: this.options.referer,
        };
    };
    NominatimProvider.prototype.executeRequest = function (params, callback, headers, body, errorCallback) {
        this.externalLoader.executeRequest(params, function (data) {
            var results = data;
            if (!Array.isArray(data)) {
                if (data.error) {
                    var errorMessage_1 = "An error has occurred: " + data.error;
                    if (errorCallback) {
                        errorCallback(new _error__WEBPACK_IMPORTED_MODULE_4__.default(errorMessage_1, data));
                        return;
                    }
                    setTimeout(function () {
                        throw new Error(errorMessage_1);
                    });
                    return;
                }
                results = [data];
            }
            callback(results.map(function (result) {
                return NominatimProvider.mapToGeocoded(result);
            }));
        }, headers, body, errorCallback);
    };
    NominatimProvider.mapToGeocoded = function (result) {
        var latitude = parseFloat(result.lat);
        var longitude = parseFloat(result.lon);
        var displayName = result.display_name;
        var streetNumber = result.address.house_number;
        var streetName = result.address.road || result.address.pedestrian;
        var subLocality = result.address.suburb;
        var locality;
        var postalCode = result.address.postcode
            ? result.address.postcode.split(";")[0]
            : undefined;
        var region = result.address.state;
        var country = result.address.country;
        var countryCode = result.address.country_code;
        var osmId = result.osm_id;
        var osmType = result.osm_type;
        var categories = [result.category];
        var types = [result.type];
        var attribution = result.licence;
        var shape = result.geojson || result.geokml || result.svg || result.geotext;
        var localityTypes = [
            "city",
            "town",
            "village",
            "hamlet",
        ];
        localityTypes.forEach(function (localityType) {
            if (result.address[localityType] && !locality) {
                locality = result.address[localityType];
            }
        });
        var geocoded = ___WEBPACK_IMPORTED_MODULE_5__.default.create({
            coordinates: {
                latitude: latitude,
                longitude: longitude,
            },
            displayName: displayName,
            streetNumber: streetNumber,
            streetName: streetName,
            subLocality: subLocality,
            locality: locality,
            postalCode: postalCode,
            region: region,
            country: country,
            countryCode: countryCode,
            osmId: osmId,
            osmType: osmType,
            categories: categories,
            types: types,
            attribution: attribution,
            shape: shape,
        });
        geocoded = geocoded.withBounds({
            latitudeSW: parseFloat(result.boundingbox[0]),
            longitudeSW: parseFloat(result.boundingbox[2]),
            latitudeNE: parseFloat(result.boundingbox[1]),
            longitudeNE: parseFloat(result.boundingbox[3]),
        });
        var adminLevels = ["state", "county"];
        adminLevels.forEach(function (adminLevel, level) {
            if (result.address[adminLevel]) {
                geocoded.addAdminLevel(_AdminLevel__WEBPACK_IMPORTED_MODULE_6__.default.create({
                    level: level + 1,
                    name: result.address[adminLevel] || "",
                }));
            }
        });
        var subLocalityLevels = [
            ["city_district", "district", "borough", "suburb", "subdivision"],
            ["hamlet", "croft", "isolated_dwelling"],
            ["neighbourhood", "allotments", "quarter"],
            [
                "city_block",
                "residental",
                "farm",
                "farmyard",
                "industrial",
                "commercial",
                "retail",
            ],
            ["road"],
            ["house_name"],
        ];
        subLocalityLevels.forEach(function (subLocalities, level) {
            subLocalities.forEach(function (subLocalityLevel) {
                if (result.address[subLocalityLevel]) {
                    geocoded.addSubLocalityLevel(_AdminLevel__WEBPACK_IMPORTED_MODULE_6__.default.create({
                        level: level + 1,
                        name: result.address[subLocalityLevel] || "",
                    }));
                }
            });
        });
        return geocoded;
    };
    return NominatimProvider;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (NominatimProvider);


/***/ }),

/***/ "./src/provider/nominatim/NominatimReverseQuery.ts":
/*!*********************************************************!*\
  !*** ./src/provider/nominatim/NominatimReverseQuery.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _query__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../query */ "./src/query/ReverseQuery.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};

var NominatimReverseQuery = /** @class */ (function (_super) {
    __extends(NominatimReverseQuery, _super);
    function NominatimReverseQuery(_a) {
        var zoom = _a.zoom, shape = _a.shape, shapeThreshold = _a.shapeThreshold, reverseQueryObject = __rest(_a, ["zoom", "shape", "shapeThreshold"]);
        var _this = _super.call(this, reverseQueryObject) || this;
        _this.zoom = zoom;
        if (shape && !["geojson", "kml", "svg", "text"].includes(shape)) {
            throw new Error('The "shape" parameter can only have the following values: "geojson", "kml", "svg", "text".');
        }
        _this.shape = shape;
        _this.shapeThreshold = shapeThreshold;
        return _this;
    }
    NominatimReverseQuery.create = function (object) {
        return new this(object);
    };
    NominatimReverseQuery.prototype.toObject = function () {
        return __assign(__assign({}, _super.prototype.toObject.call(this)), { zoom: this.zoom, shape: this.shape, shapeThreshold: this.shapeThreshold });
    };
    NominatimReverseQuery.prototype.withZoom = function (zoom) {
        return new NominatimReverseQuery(__assign(__assign({}, this.toObject()), { zoom: zoom }));
    };
    NominatimReverseQuery.prototype.getZoom = function () {
        return this.zoom;
    };
    NominatimReverseQuery.prototype.withShape = function (shape) {
        return new NominatimReverseQuery(__assign(__assign({}, this.toObject()), { shape: shape }));
    };
    NominatimReverseQuery.prototype.getShape = function () {
        return this.shape;
    };
    NominatimReverseQuery.prototype.withShapeThreshold = function (shapeThreshold) {
        return new NominatimReverseQuery(__assign(__assign({}, this.toObject()), { shapeThreshold: shapeThreshold }));
    };
    NominatimReverseQuery.prototype.getShapeThreshold = function () {
        return this.shapeThreshold;
    };
    return NominatimReverseQuery;
}(_query__WEBPACK_IMPORTED_MODULE_0__.default));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (NominatimReverseQuery);


/***/ }),

/***/ "./src/provider/nominatim/index.ts":
/*!*****************************************!*\
  !*** ./src/provider/nominatim/index.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "NominatimGeocoded": () => (/* reexport safe */ _NominatimGeocoded__WEBPACK_IMPORTED_MODULE_0__.default),
/* harmony export */   "OpenStreetMapGeocoded": () => (/* reexport safe */ _NominatimGeocoded__WEBPACK_IMPORTED_MODULE_0__.default),
/* harmony export */   "NominatimGeocodeQuery": () => (/* reexport safe */ _NominatimGeocodeQuery__WEBPACK_IMPORTED_MODULE_1__.default),
/* harmony export */   "OpenStreetMapGeocodeQuery": () => (/* reexport safe */ _NominatimGeocodeQuery__WEBPACK_IMPORTED_MODULE_1__.default),
/* harmony export */   "NominatimProvider": () => (/* reexport safe */ _NominatimProvider__WEBPACK_IMPORTED_MODULE_2__.default),
/* harmony export */   "OpenStreetMapProvider": () => (/* reexport safe */ _NominatimProvider__WEBPACK_IMPORTED_MODULE_2__.default),
/* harmony export */   "defaultNominatimProviderOptions": () => (/* reexport safe */ _NominatimProvider__WEBPACK_IMPORTED_MODULE_2__.defaultNominatimProviderOptions),
/* harmony export */   "defaultOpenStreetMapProviderOptions": () => (/* reexport safe */ _NominatimProvider__WEBPACK_IMPORTED_MODULE_2__.defaultNominatimProviderOptions),
/* harmony export */   "NominatimReverseQuery": () => (/* reexport safe */ _NominatimReverseQuery__WEBPACK_IMPORTED_MODULE_3__.default),
/* harmony export */   "OpenStreetMapReverseQuery": () => (/* reexport safe */ _NominatimReverseQuery__WEBPACK_IMPORTED_MODULE_3__.default)
/* harmony export */ });
/* harmony import */ var _NominatimGeocoded__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./NominatimGeocoded */ "./src/provider/nominatim/NominatimGeocoded.ts");
/* harmony import */ var _NominatimGeocodeQuery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./NominatimGeocodeQuery */ "./src/provider/nominatim/NominatimGeocodeQuery.ts");
/* harmony import */ var _NominatimProvider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./NominatimProvider */ "./src/provider/nominatim/NominatimProvider.ts");
/* harmony import */ var _NominatimReverseQuery__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./NominatimReverseQuery */ "./src/provider/nominatim/NominatimReverseQuery.ts");















/***/ }),

/***/ "./src/provider/opencage/OpenCageGeocodeQuery.ts":
/*!*******************************************************!*\
  !*** ./src/provider/opencage/OpenCageGeocodeQuery.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _query__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../query */ "./src/query/GeocodeQuery.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};

var OpenCageGeocodeQuery = /** @class */ (function (_super) {
    __extends(OpenCageGeocodeQuery, _super);
    function OpenCageGeocodeQuery(_a) {
        var countryCodes = _a.countryCodes, proximity = _a.proximity, minPrecision = _a.minPrecision, noRecord = _a.noRecord, geocodeQueryObject = __rest(_a, ["countryCodes", "proximity", "minPrecision", "noRecord"]);
        var _this = _super.call(this, geocodeQueryObject) || this;
        _this.countryCodes = countryCodes;
        if (proximity && (!proximity.latitude || !proximity.longitude)) {
            throw new Error('The "proximity" parameter must be an object with the keys: "latitude", "longitude".');
        }
        _this.proximity = proximity;
        if (minPrecision &&
            (minPrecision.toString() !==
                parseInt(minPrecision.toString(), 10).toString() ||
                minPrecision < 1 ||
                minPrecision > 10)) {
            throw new Error('The "minPrecision" parameter must be an integer from 1 to 10.');
        }
        _this.minPrecision = minPrecision;
        _this.noRecord = noRecord;
        return _this;
    }
    OpenCageGeocodeQuery.create = function (object) {
        return new this(object);
    };
    OpenCageGeocodeQuery.prototype.toObject = function () {
        return __assign(__assign({}, _super.prototype.toObject.call(this)), { countryCodes: this.countryCodes, proximity: this.proximity, minPrecision: this.minPrecision, noRecord: this.noRecord });
    };
    OpenCageGeocodeQuery.prototype.withCountryCodes = function (countryCodes) {
        return new OpenCageGeocodeQuery(__assign(__assign({}, this.toObject()), { countryCodes: countryCodes }));
    };
    OpenCageGeocodeQuery.prototype.getCountryCodes = function () {
        return this.countryCodes;
    };
    OpenCageGeocodeQuery.prototype.withProximity = function (proximity) {
        return new OpenCageGeocodeQuery(__assign(__assign({}, this.toObject()), { proximity: proximity }));
    };
    OpenCageGeocodeQuery.prototype.getProximity = function () {
        return this.proximity;
    };
    OpenCageGeocodeQuery.prototype.withMinPrecision = function (minPrecision) {
        return new OpenCageGeocodeQuery(__assign(__assign({}, this.toObject()), { minPrecision: minPrecision }));
    };
    OpenCageGeocodeQuery.prototype.getMinPrecision = function () {
        return this.minPrecision;
    };
    OpenCageGeocodeQuery.prototype.withNoRecord = function (noRecord) {
        return new OpenCageGeocodeQuery(__assign(__assign({}, this.toObject()), { noRecord: noRecord }));
    };
    OpenCageGeocodeQuery.prototype.getNoRecord = function () {
        return this.noRecord;
    };
    return OpenCageGeocodeQuery;
}(_query__WEBPACK_IMPORTED_MODULE_0__.default));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (OpenCageGeocodeQuery);


/***/ }),

/***/ "./src/provider/opencage/OpenCageGeocoded.ts":
/*!***************************************************!*\
  !*** ./src/provider/opencage/OpenCageGeocoded.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Geocoded__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Geocoded */ "./src/Geocoded.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};

var OpenCageGeocoded = /** @class */ (function (_super) {
    __extends(OpenCageGeocoded, _super);
    function OpenCageGeocoded(_a) {
        var callingCode = _a.callingCode, flag = _a.flag, precision = _a.precision, mgrs = _a.mgrs, maidenhead = _a.maidenhead, geohash = _a.geohash, what3words = _a.what3words, geocodedObject = __rest(_a, ["callingCode", "flag", "precision", "mgrs", "maidenhead", "geohash", "what3words"]);
        var _this = _super.call(this, geocodedObject) || this;
        _this.callingCode = callingCode;
        _this.flag = flag;
        _this.precision = precision;
        _this.mgrs = mgrs;
        _this.maidenhead = maidenhead;
        _this.geohash = geohash;
        _this.what3words = what3words;
        return _this;
    }
    OpenCageGeocoded.create = function (object) {
        return new this(object);
    };
    OpenCageGeocoded.prototype.toObject = function () {
        return __assign(__assign({}, _super.prototype.toObject.call(this)), { callingCode: this.callingCode, flag: this.flag, precision: this.precision, mgrs: this.mgrs, maidenhead: this.maidenhead, geohash: this.geohash, what3words: this.what3words });
    };
    OpenCageGeocoded.prototype.withCallingCode = function (callingCode) {
        return new OpenCageGeocoded(__assign(__assign({}, this.toObject()), { callingCode: callingCode }));
    };
    OpenCageGeocoded.prototype.getCallingCode = function () {
        return this.callingCode;
    };
    OpenCageGeocoded.prototype.withFlag = function (flag) {
        return new OpenCageGeocoded(__assign(__assign({}, this.toObject()), { flag: flag }));
    };
    OpenCageGeocoded.prototype.getFlag = function () {
        return this.flag;
    };
    OpenCageGeocoded.prototype.withPrecision = function (precision) {
        return new OpenCageGeocoded(__assign(__assign({}, this.toObject()), { precision: precision }));
    };
    OpenCageGeocoded.prototype.getPrecision = function () {
        return this.precision;
    };
    OpenCageGeocoded.prototype.withMgrs = function (mgrs) {
        return new OpenCageGeocoded(__assign(__assign({}, this.toObject()), { mgrs: mgrs }));
    };
    OpenCageGeocoded.prototype.getMgrs = function () {
        return this.mgrs;
    };
    OpenCageGeocoded.prototype.withMaidenhead = function (maidenhead) {
        return new OpenCageGeocoded(__assign(__assign({}, this.toObject()), { maidenhead: maidenhead }));
    };
    OpenCageGeocoded.prototype.getMaidenhead = function () {
        return this.maidenhead;
    };
    OpenCageGeocoded.prototype.withGeohash = function (geohash) {
        return new OpenCageGeocoded(__assign(__assign({}, this.toObject()), { geohash: geohash }));
    };
    OpenCageGeocoded.prototype.getGeohash = function () {
        return this.geohash;
    };
    OpenCageGeocoded.prototype.withWhat3words = function (what3words) {
        return new OpenCageGeocoded(__assign(__assign({}, this.toObject()), { what3words: what3words }));
    };
    OpenCageGeocoded.prototype.getWhat3words = function () {
        return this.what3words;
    };
    return OpenCageGeocoded;
}(_Geocoded__WEBPACK_IMPORTED_MODULE_0__.default));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (OpenCageGeocoded);


/***/ }),

/***/ "./src/provider/opencage/OpenCageProvider.ts":
/*!***************************************************!*\
  !*** ./src/provider/opencage/OpenCageProvider.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "defaultOpenCageProviderOptions": () => (/* binding */ defaultOpenCageProviderOptions),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./.. */ "./src/provider/ProviderInterface.ts");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./.. */ "./src/provider/ProviderHelpers.ts");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./.. */ "./src/provider/opencage/OpenCageGeocodeQuery.ts");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./.. */ "./src/provider/opencage/OpenCageReverseQuery.ts");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./.. */ "./src/provider/opencage/OpenCageGeocoded.ts");
/* harmony import */ var _AdminLevel__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../AdminLevel */ "./src/AdminLevel.ts");
/* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../error */ "./src/error/ResponseError.ts");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};



var defaultOpenCageProviderOptions = __assign(__assign({}, ___WEBPACK_IMPORTED_MODULE_0__.defaultProviderOptions), { apiKey: "" });
var OpenCageProvider = /** @class */ (function () {
    function OpenCageProvider(_externalLoader, options) {
        if (options === void 0) { options = defaultOpenCageProviderOptions; }
        this.externalLoader = _externalLoader;
        this.options = __assign(__assign({}, defaultOpenCageProviderOptions), options);
        if (!this.options.apiKey) {
            throw new Error('An API key is required for the OpenCage provider. Please add it in the "apiKey" option.');
        }
    }
    OpenCageProvider.prototype.geocode = function (query, callback, errorCallback) {
        var _this = this;
        var _a, _b, _c, _d, _e, _f;
        var geocodeQuery = ___WEBPACK_IMPORTED_MODULE_1__.default.getGeocodeQueryFromParameter(query, ___WEBPACK_IMPORTED_MODULE_2__.default);
        if (geocodeQuery.getIp()) {
            throw new Error("The OpenCage provider does not support IP geolocation, only location geocoding.");
        }
        this.externalLoader.setOptions({
            protocol: this.options.useSsl ? "https" : "http",
            host: "api.opencagedata.com",
            pathname: "geocode/v1/json",
        });
        var params = this.withCommonParams({
            q: geocodeQuery.getText() || "",
            bounds: geocodeQuery.getBounds()
                ? ((_a = geocodeQuery.getBounds()) === null || _a === void 0 ? void 0 : _a.longitudeSW) + "," + ((_b = geocodeQuery.getBounds()) === null || _b === void 0 ? void 0 : _b.latitudeSW) + "," + ((_c = geocodeQuery.getBounds()) === null || _c === void 0 ? void 0 : _c.longitudeNE) + "," + ((_d = geocodeQuery.getBounds()) === null || _d === void 0 ? void 0 : _d.latitudeNE)
                : undefined,
            proximity: geocodeQuery.getProximity()
                ? ((_e = geocodeQuery.getProximity()) === null || _e === void 0 ? void 0 : _e.latitude) + "," + ((_f = geocodeQuery.getProximity()) === null || _f === void 0 ? void 0 : _f.longitude)
                : undefined,
        }, geocodeQuery);
        if (!callback) {
            return new Promise(function (resolve, reject) {
                return _this.executeRequest(params, function (results) { return resolve(results); }, {}, {}, function (error) { return reject(error); });
            });
        }
        return this.executeRequest(params, callback, {}, {}, errorCallback);
    };
    OpenCageProvider.prototype.geodecode = function (latitudeOrQuery, longitudeOrCallback, callbackOrErrorCallback, errorCallback) {
        var _this = this;
        var reverseQuery = ___WEBPACK_IMPORTED_MODULE_1__.default.getReverseQueryFromParameters(latitudeOrQuery, longitudeOrCallback, ___WEBPACK_IMPORTED_MODULE_3__.default);
        var reverseCallback = ___WEBPACK_IMPORTED_MODULE_1__.default.getCallbackFromParameters(longitudeOrCallback, callbackOrErrorCallback);
        var reverseErrorCallback = ___WEBPACK_IMPORTED_MODULE_1__.default.getErrorCallbackFromParameters(longitudeOrCallback, callbackOrErrorCallback, errorCallback);
        this.externalLoader.setOptions({
            protocol: this.options.useSsl ? "https" : "http",
            host: "api.opencagedata.com",
            pathname: "geocode/v1/json",
        });
        var params = this.withCommonParams({
            q: reverseQuery.getCoordinates().latitude + "," + reverseQuery.getCoordinates().longitude,
        }, reverseQuery);
        if (!reverseCallback) {
            return new Promise(function (resolve, reject) {
                return _this.executeRequest(params, function (results) { return resolve(results); }, {}, {}, function (error) { return reject(error); });
            });
        }
        return this.executeRequest(params, reverseCallback, {}, {}, reverseErrorCallback);
    };
    OpenCageProvider.prototype.withCommonParams = function (params, query) {
        var _a, _b, _c, _d;
        return __assign(__assign({}, params), { key: this.options.apiKey || "", countrycode: query.getCountryCodes()
                ? (_a = query.getCountryCodes()) === null || _a === void 0 ? void 0 : _a.join(",")
                : (_b = this.options.countryCodes) === null || _b === void 0 ? void 0 : _b.join(","), language: query.getLocale(), limit: query.getLimit().toString(), min_confidence: (_c = query.getMinPrecision()) === null || _c === void 0 ? void 0 : _c.toString(), no_record: (_d = query.getNoRecord()) === null || _d === void 0 ? void 0 : _d.toString(), jsonpCallback: this.options.useJsonp ? "jsonp" : undefined });
    };
    OpenCageProvider.prototype.executeRequest = function (params, callback, headers, body, errorCallback) {
        this.externalLoader.executeRequest(params, function (data) {
            callback(data.results.map(function (result) {
                return OpenCageProvider.mapToGeocoded(result);
            }));
        }, headers, body, function (error) {
            var response = error.getResponse();
            response.json().then(function (data) {
                if (data.status) {
                    var errorMessage_1;
                    switch (data.status.code) {
                        case 400:
                            errorMessage_1 = "Invalid request (400): " + data.status.message;
                            break;
                        case 401:
                            errorMessage_1 = "Unable to authenticate (401): " + data.status.message;
                            break;
                        case 402:
                            errorMessage_1 = "Quota exceeded (402): " + data.status.message;
                            break;
                        case 403:
                            errorMessage_1 = "Forbidden (403): " + data.status.message;
                            break;
                        case 404:
                            errorMessage_1 = "Invalid API endpoint (404): " + data.status.message;
                            break;
                        case 405:
                            errorMessage_1 = "Method not allowed (405): " + data.status.message;
                            break;
                        case 408:
                            errorMessage_1 = "Timeout (408): " + data.status.message;
                            break;
                        case 410:
                            errorMessage_1 = "Request too long (410): " + data.status.message;
                            break;
                        case 429:
                            errorMessage_1 = "Too many requests (429): " + data.status.message;
                            break;
                        case 503:
                            errorMessage_1 = "Internal server error (503): " + data.status.message;
                            break;
                        default:
                            errorMessage_1 = "Error (" + data.status.code + "): " + data.status.message;
                    }
                    if (errorCallback) {
                        errorCallback(new _error__WEBPACK_IMPORTED_MODULE_4__.default(errorMessage_1, data));
                        return;
                    }
                    setTimeout(function () {
                        throw new Error(errorMessage_1);
                    });
                }
            });
        });
    };
    OpenCageProvider.mapToGeocoded = function (result) {
        var _a;
        var latitude = result.geometry.lat;
        var longitude = result.geometry.lng;
        var formattedAddress = result.formatted;
        var streetNumber = result.components.house_number;
        var postalCode = result.components.postcode;
        var region = result.components.state;
        var country = result.components.country;
        var countryCode = result.components.country_code;
        var timezone = result.annotations.timezone.name;
        var callingCode = result.annotations.callingcode;
        var flag = result.annotations.flag;
        var precision = result.confidence;
        var mgrs = result.annotations.MGRS;
        var maidenhead = result.annotations.Maidenhead;
        var geohash = result.annotations.geohash;
        var what3words = (_a = result.annotations.what3words) === null || _a === void 0 ? void 0 : _a.words;
        var streetName = result.components.road ||
            result.components.footway ||
            result.components.street ||
            result.components.street_name ||
            result.components.residential ||
            result.components.path ||
            result.components.pedestrian ||
            result.components.road_reference ||
            result.components.road_reference_intl;
        var subLocality = result.components.neighbourhood ||
            result.components.suburb ||
            result.components.city_district ||
            result.components.district ||
            result.components.quarter ||
            result.components.houses ||
            result.components.subdivision;
        var locality = result.components.city ||
            result.components.town ||
            result.components.municipality ||
            result.components.village ||
            result.components.hamlet ||
            result.components.locality ||
            result.components.croft;
        var geocoded = ___WEBPACK_IMPORTED_MODULE_5__.default.create({
            coordinates: {
                latitude: latitude,
                longitude: longitude,
            },
            formattedAddress: formattedAddress,
            streetNumber: streetNumber,
            streetName: streetName,
            subLocality: subLocality,
            locality: locality,
            postalCode: postalCode,
            region: region,
            country: country,
            countryCode: countryCode,
            timezone: timezone,
            callingCode: callingCode,
            flag: flag,
            precision: precision,
            mgrs: mgrs,
            maidenhead: maidenhead,
            geohash: geohash,
            what3words: what3words,
        });
        if (result.bounds) {
            geocoded = geocoded.withBounds({
                latitudeSW: result.bounds.southwest.lat,
                longitudeSW: result.bounds.southwest.lng,
                latitudeNE: result.bounds.northeast.lat,
                longitudeNE: result.bounds.northeast.lng,
            });
        }
        var adminLevels = [
            { nameKey: "state", codeKey: "state_code" },
            { nameKey: "county", codeKey: "county_code" },
        ];
        adminLevels.forEach(function (_a, level) {
            var nameKey = _a.nameKey, codeKey = _a.codeKey;
            if (result.components[nameKey]) {
                geocoded.addAdminLevel(_AdminLevel__WEBPACK_IMPORTED_MODULE_6__.default.create({
                    level: level + 1,
                    name: result.components[nameKey] || "",
                    code: result.components[codeKey] || undefined,
                }));
            }
        });
        return geocoded;
    };
    return OpenCageProvider;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (OpenCageProvider);


/***/ }),

/***/ "./src/provider/opencage/OpenCageReverseQuery.ts":
/*!*******************************************************!*\
  !*** ./src/provider/opencage/OpenCageReverseQuery.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _query__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../query */ "./src/query/ReverseQuery.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};

var OpenCageReverseQuery = /** @class */ (function (_super) {
    __extends(OpenCageReverseQuery, _super);
    function OpenCageReverseQuery(_a) {
        var countryCodes = _a.countryCodes, minPrecision = _a.minPrecision, noRecord = _a.noRecord, reverseQueryObject = __rest(_a, ["countryCodes", "minPrecision", "noRecord"]);
        var _this = _super.call(this, reverseQueryObject) || this;
        _this.countryCodes = countryCodes;
        if (minPrecision &&
            (minPrecision.toString() !==
                parseInt(minPrecision.toString(), 10).toString() ||
                minPrecision < 1 ||
                minPrecision > 10)) {
            throw new Error('The "minPrecision" parameter must be an integer from 1 to 10.');
        }
        _this.minPrecision = minPrecision;
        _this.noRecord = noRecord;
        return _this;
    }
    OpenCageReverseQuery.create = function (object) {
        return new this(object);
    };
    OpenCageReverseQuery.prototype.toObject = function () {
        return __assign(__assign({}, _super.prototype.toObject.call(this)), { countryCodes: this.countryCodes, minPrecision: this.minPrecision, noRecord: this.noRecord });
    };
    OpenCageReverseQuery.prototype.withCountryCodes = function (countryCodes) {
        return new OpenCageReverseQuery(__assign(__assign({}, this.toObject()), { countryCodes: countryCodes }));
    };
    OpenCageReverseQuery.prototype.getCountryCodes = function () {
        return this.countryCodes;
    };
    OpenCageReverseQuery.prototype.withMinPrecision = function (minPrecision) {
        return new OpenCageReverseQuery(__assign(__assign({}, this.toObject()), { minPrecision: minPrecision }));
    };
    OpenCageReverseQuery.prototype.getMinPrecision = function () {
        return this.minPrecision;
    };
    OpenCageReverseQuery.prototype.withNoRecord = function (noRecord) {
        return new OpenCageReverseQuery(__assign(__assign({}, this.toObject()), { noRecord: noRecord }));
    };
    OpenCageReverseQuery.prototype.getNoRecord = function () {
        return this.noRecord;
    };
    return OpenCageReverseQuery;
}(_query__WEBPACK_IMPORTED_MODULE_0__.default));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (OpenCageReverseQuery);


/***/ }),

/***/ "./src/provider/opencage/index.ts":
/*!****************************************!*\
  !*** ./src/provider/opencage/index.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "OpenCageGeocoded": () => (/* reexport safe */ _OpenCageGeocoded__WEBPACK_IMPORTED_MODULE_0__.default),
/* harmony export */   "OpenCageGeocodeQuery": () => (/* reexport safe */ _OpenCageGeocodeQuery__WEBPACK_IMPORTED_MODULE_1__.default),
/* harmony export */   "OpenCageProvider": () => (/* reexport safe */ _OpenCageProvider__WEBPACK_IMPORTED_MODULE_2__.default),
/* harmony export */   "defaultOpenCageProviderOptions": () => (/* reexport safe */ _OpenCageProvider__WEBPACK_IMPORTED_MODULE_2__.defaultOpenCageProviderOptions),
/* harmony export */   "OpenCageReverseQuery": () => (/* reexport safe */ _OpenCageReverseQuery__WEBPACK_IMPORTED_MODULE_3__.default)
/* harmony export */ });
/* harmony import */ var _OpenCageGeocoded__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./OpenCageGeocoded */ "./src/provider/opencage/OpenCageGeocoded.ts");
/* harmony import */ var _OpenCageGeocodeQuery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./OpenCageGeocodeQuery */ "./src/provider/opencage/OpenCageGeocodeQuery.ts");
/* harmony import */ var _OpenCageProvider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./OpenCageProvider */ "./src/provider/opencage/OpenCageProvider.ts");
/* harmony import */ var _OpenCageReverseQuery__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./OpenCageReverseQuery */ "./src/provider/opencage/OpenCageReverseQuery.ts");









/***/ }),

/***/ "./src/provider/yandex/YandexGeocodeQuery.ts":
/*!***************************************************!*\
  !*** ./src/provider/yandex/YandexGeocodeQuery.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _query__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../query */ "./src/query/GeocodeQuery.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};

var YandexGeocodeQuery = /** @class */ (function (_super) {
    __extends(YandexGeocodeQuery, _super);
    function YandexGeocodeQuery(_a) {
        var bounded = _a.bounded, proximity = _a.proximity, span = _a.span, skip = _a.skip, bounds = _a.bounds, geocodeQueryObject = __rest(_a, ["bounded", "proximity", "span", "skip", "bounds"]);
        var _this = _super.call(this, __assign({ bounds: bounds }, geocodeQueryObject)) || this;
        if (bounded && (!bounds || !proximity)) {
            throw new Error('The "bounded" parameter can only be used with the "bounds" or "proximity" parameter.');
        }
        _this.bounded = bounded;
        if (proximity && (!proximity.latitude || !proximity.longitude)) {
            throw new Error('The "proximity" parameter must be an object with the keys: "latitude", "longitude".');
        }
        _this.proximity = proximity;
        if (span && !proximity) {
            throw new Error('The "proximity" parameter must be defined to use the "span" parameter.');
        }
        if (span && (!span.spanLatitude || !span.spanLongitude)) {
            throw new Error('The "span" parameter must be an object with the keys: "spanLatitude", "spanLongitude".');
        }
        _this.span = span;
        if (bounds && proximity) {
            throw new Error('The "bounds" and "proximity" parameters cannot be used at the same time.');
        }
        _this.skip = skip;
        return _this;
    }
    YandexGeocodeQuery.create = function (object) {
        return new this(object);
    };
    YandexGeocodeQuery.prototype.toObject = function () {
        return __assign(__assign({}, _super.prototype.toObject.call(this)), { bounded: this.bounded, proximity: this.proximity, span: this.span, skip: this.skip });
    };
    YandexGeocodeQuery.prototype.withBounded = function (bounded) {
        return new YandexGeocodeQuery(__assign(__assign({}, this.toObject()), { bounded: bounded }));
    };
    YandexGeocodeQuery.prototype.getBounded = function () {
        return this.bounded;
    };
    YandexGeocodeQuery.prototype.withProximity = function (proximity) {
        return new YandexGeocodeQuery(__assign(__assign({}, this.toObject()), { proximity: proximity }));
    };
    YandexGeocodeQuery.prototype.getProximity = function () {
        return this.proximity;
    };
    YandexGeocodeQuery.prototype.withSpan = function (span) {
        return new YandexGeocodeQuery(__assign(__assign({}, this.toObject()), { span: span }));
    };
    YandexGeocodeQuery.prototype.getSpan = function () {
        return this.span;
    };
    YandexGeocodeQuery.prototype.withSkip = function (skip) {
        return new YandexGeocodeQuery(__assign(__assign({}, this.toObject()), { skip: skip }));
    };
    YandexGeocodeQuery.prototype.getSkip = function () {
        return this.skip;
    };
    return YandexGeocodeQuery;
}(_query__WEBPACK_IMPORTED_MODULE_0__.default));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (YandexGeocodeQuery);


/***/ }),

/***/ "./src/provider/yandex/YandexGeocoded.ts":
/*!***********************************************!*\
  !*** ./src/provider/yandex/YandexGeocoded.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Geocoded__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Geocoded */ "./src/Geocoded.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};

var YandexGeocoded = /** @class */ (function (_super) {
    __extends(YandexGeocoded, _super);
    function YandexGeocoded(_a) {
        var types = _a.types, precision = _a.precision, geocodedObject = __rest(_a, ["types", "precision"]);
        var _this = _super.call(this, geocodedObject) || this;
        _this.types = types;
        _this.precision = precision;
        return _this;
    }
    YandexGeocoded.create = function (object) {
        return new this(object);
    };
    YandexGeocoded.prototype.toObject = function () {
        return __assign(__assign({}, _super.prototype.toObject.call(this)), { types: this.types, precision: this.precision });
    };
    YandexGeocoded.prototype.withTypes = function (types) {
        return new YandexGeocoded(__assign(__assign({}, this.toObject()), { types: types }));
    };
    YandexGeocoded.prototype.getTypes = function () {
        return this.types;
    };
    YandexGeocoded.prototype.withPrecision = function (precision) {
        return new YandexGeocoded(__assign(__assign({}, this.toObject()), { precision: precision }));
    };
    YandexGeocoded.prototype.getPrecision = function () {
        return this.precision;
    };
    return YandexGeocoded;
}(_Geocoded__WEBPACK_IMPORTED_MODULE_0__.default));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (YandexGeocoded);


/***/ }),

/***/ "./src/provider/yandex/YandexProvider.ts":
/*!***********************************************!*\
  !*** ./src/provider/yandex/YandexProvider.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "defaultYandexProviderOptions": () => (/* binding */ defaultYandexProviderOptions),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./.. */ "./src/provider/ProviderInterface.ts");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./.. */ "./src/provider/ProviderHelpers.ts");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./.. */ "./src/provider/yandex/YandexGeocodeQuery.ts");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./.. */ "./src/provider/yandex/YandexReverseQuery.ts");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./.. */ "./src/provider/yandex/YandexGeocoded.ts");
/* harmony import */ var _AdminLevel__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../AdminLevel */ "./src/AdminLevel.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils */ "./src/utils.ts");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};



var defaultYandexProviderOptions = __assign(__assign({}, ___WEBPACK_IMPORTED_MODULE_0__.defaultProviderOptions), { apiKey: "" });
var YandexProvider = /** @class */ (function () {
    function YandexProvider(_externalLoader, options) {
        if (options === void 0) { options = defaultYandexProviderOptions; }
        this.externalLoader = _externalLoader;
        this.options = __assign(__assign({}, defaultYandexProviderOptions), options);
        if (!this.options.apiKey) {
            throw new Error('An API key is required for the Yandex provider. Please add it in the "apiKey" option.');
        }
    }
    YandexProvider.prototype.geocode = function (query, callback, errorCallback) {
        var _this = this;
        var _a, _b, _c, _d, _e, _f, _g, _h;
        var geocodeQuery = ___WEBPACK_IMPORTED_MODULE_1__.default.getGeocodeQueryFromParameter(query, ___WEBPACK_IMPORTED_MODULE_2__.default);
        if (geocodeQuery.getIp()) {
            throw new Error("The Yandex provider does not support IP geolocation, only location geocoding.");
        }
        this.externalLoader.setOptions({
            protocol: this.options.useSsl ? "https" : "http",
            host: "geocode-maps.yandex.ru",
            pathname: "1.x",
        });
        var rspn;
        if (geocodeQuery.getBounded() === false) {
            rspn = "0";
        }
        else if (geocodeQuery.getBounded() === true) {
            rspn = "1";
        }
        var params = this.withCommonParams({
            geocode: geocodeQuery.getText() || "",
            rspn: rspn,
            ll: geocodeQuery.getProximity()
                ? ((_a = geocodeQuery.getProximity()) === null || _a === void 0 ? void 0 : _a.longitude) + "," + ((_b = geocodeQuery.getProximity()) === null || _b === void 0 ? void 0 : _b.latitude)
                : undefined,
            spn: geocodeQuery.getSpan()
                ? ((_c = geocodeQuery.getSpan()) === null || _c === void 0 ? void 0 : _c.spanLongitude) + "," + ((_d = geocodeQuery.getSpan()) === null || _d === void 0 ? void 0 : _d.spanLatitude)
                : undefined,
            bbox: geocodeQuery.getBounds()
                ? ((_e = geocodeQuery.getBounds()) === null || _e === void 0 ? void 0 : _e.longitudeSW) + "," + ((_f = geocodeQuery.getBounds()) === null || _f === void 0 ? void 0 : _f.latitudeSW) + "~" + ((_g = geocodeQuery.getBounds()) === null || _g === void 0 ? void 0 : _g.longitudeNE) + "," + ((_h = geocodeQuery.getBounds()) === null || _h === void 0 ? void 0 : _h.latitudeNE)
                : undefined,
        }, geocodeQuery);
        if (!callback) {
            return new Promise(function (resolve, reject) {
                return _this.executeRequest(params, function (results) { return resolve(results); }, {}, {}, function (error) { return reject(error); });
            });
        }
        return this.executeRequest(params, callback, {}, {}, errorCallback);
    };
    YandexProvider.prototype.geodecode = function (latitudeOrQuery, longitudeOrCallback, callbackOrErrorCallback, errorCallback) {
        var _this = this;
        var _a;
        var reverseQuery = ___WEBPACK_IMPORTED_MODULE_1__.default.getReverseQueryFromParameters(latitudeOrQuery, longitudeOrCallback, ___WEBPACK_IMPORTED_MODULE_3__.default);
        var reverseCallback = ___WEBPACK_IMPORTED_MODULE_1__.default.getCallbackFromParameters(longitudeOrCallback, callbackOrErrorCallback);
        var reverseErrorCallback = ___WEBPACK_IMPORTED_MODULE_1__.default.getErrorCallbackFromParameters(longitudeOrCallback, callbackOrErrorCallback, errorCallback);
        this.externalLoader.setOptions({
            protocol: this.options.useSsl ? "https" : "http",
            host: "geocode-maps.yandex.ru",
            pathname: "1.x",
        });
        var params = this.withCommonParams({
            geocode: reverseQuery.getCoordinates().longitude + "," + reverseQuery.getCoordinates().latitude,
            kind: reverseQuery.getTypes()
                ? (_a = reverseQuery.getTypes()) === null || _a === void 0 ? void 0 : _a[0]
                : undefined,
        }, reverseQuery);
        if (!reverseCallback) {
            return new Promise(function (resolve, reject) {
                return _this.executeRequest(params, function (results) { return resolve(results); }, {}, {}, function (error) { return reject(error); });
            });
        }
        return this.executeRequest(params, reverseCallback, {}, {}, reverseErrorCallback);
    };
    YandexProvider.prototype.withCommonParams = function (params, query) {
        var _a;
        return __assign(__assign({}, params), { apikey: this.options.apiKey, format: "json", lang: query.getLocale(), results: query.getLimit().toString(), skip: (_a = query.getSkip()) === null || _a === void 0 ? void 0 : _a.toString(), jsonpCallback: this.options.useJsonp ? "callback" : undefined });
    };
    YandexProvider.prototype.executeRequest = function (params, callback, headers, body, errorCallback) {
        this.externalLoader.executeRequest(params, function (data) {
            callback(data.response.GeoObjectCollection.featureMember.map(function (result) {
                return YandexProvider.mapToGeocoded(result.GeoObject);
            }));
        }, headers, body, errorCallback);
    };
    YandexProvider.mapToGeocoded = function (result) {
        var point = result.Point.pos.split(" ");
        var latitude = parseFloat(point[1]);
        var longitude = parseFloat(point[0]);
        var addressDetails = (0,_utils__WEBPACK_IMPORTED_MODULE_4__.flattenObject)(result.metaDataProperty.GeocoderMetaData.AddressDetails);
        var streetNumber = addressDetails.PremiseNumber;
        var streetName = addressDetails.ThoroughfareName;
        var subLocality = addressDetails.DependentLocalityName;
        var locality = addressDetails.LocalityName;
        var region = addressDetails.AdministrativeAreaName;
        var country = addressDetails.CountryName;
        var countryCode = addressDetails.CountryNameCode;
        var types = [result.metaDataProperty.GeocoderMetaData.kind];
        var precision = result.metaDataProperty.GeocoderMetaData.precision;
        var geocoded = ___WEBPACK_IMPORTED_MODULE_5__.default.create({
            coordinates: {
                latitude: latitude,
                longitude: longitude,
            },
            streetNumber: streetNumber,
            streetName: streetName,
            subLocality: subLocality,
            locality: locality,
            region: region,
            country: country,
            countryCode: countryCode,
            types: types,
            precision: precision,
        });
        var adminLevels = ["AdministrativeAreaName", "SubAdministrativeAreaName"];
        adminLevels.forEach(function (adminLevel, level) {
            if (addressDetails[adminLevel]) {
                geocoded.addAdminLevel(_AdminLevel__WEBPACK_IMPORTED_MODULE_6__.default.create({
                    level: level + 1,
                    name: addressDetails[adminLevel] || "",
                }));
            }
        });
        var lowerCorner = result.boundedBy.Envelope.lowerCorner.split(" ");
        var upperCorner = result.boundedBy.Envelope.upperCorner.split(" ");
        geocoded = geocoded.withBounds({
            latitudeSW: parseFloat(lowerCorner[1]),
            longitudeSW: parseFloat(lowerCorner[0]),
            latitudeNE: parseFloat(upperCorner[1]),
            longitudeNE: parseFloat(upperCorner[0]),
        });
        return geocoded;
    };
    return YandexProvider;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (YandexProvider);


/***/ }),

/***/ "./src/provider/yandex/YandexReverseQuery.ts":
/*!***************************************************!*\
  !*** ./src/provider/yandex/YandexReverseQuery.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _query__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../query */ "./src/query/ReverseQuery.ts");
var __extends = (undefined && undefined.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        if (typeof b !== "function" && b !== null)
            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __rest = (undefined && undefined.__rest) || function (s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
};

var YandexReverseQuery = /** @class */ (function (_super) {
    __extends(YandexReverseQuery, _super);
    function YandexReverseQuery(_a) {
        var types = _a.types, skip = _a.skip, reverseQueryObject = __rest(_a, ["types", "skip"]);
        var _this = _super.call(this, reverseQueryObject) || this;
        if (types && types.length > 1) {
            throw new Error('The "types" parameter must contain only one location type.');
        }
        _this.types = types;
        _this.skip = skip;
        return _this;
    }
    YandexReverseQuery.create = function (object) {
        return new this(object);
    };
    YandexReverseQuery.prototype.toObject = function () {
        return __assign(__assign({}, _super.prototype.toObject.call(this)), { types: this.types, skip: this.skip });
    };
    YandexReverseQuery.prototype.withTypes = function (types) {
        return new YandexReverseQuery(__assign(__assign({}, this.toObject()), { types: types }));
    };
    YandexReverseQuery.prototype.getTypes = function () {
        return this.types;
    };
    YandexReverseQuery.prototype.withSkip = function (skip) {
        return new YandexReverseQuery(__assign(__assign({}, this.toObject()), { skip: skip }));
    };
    YandexReverseQuery.prototype.getSkip = function () {
        return this.skip;
    };
    return YandexReverseQuery;
}(_query__WEBPACK_IMPORTED_MODULE_0__.default));
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (YandexReverseQuery);


/***/ }),

/***/ "./src/provider/yandex/index.ts":
/*!**************************************!*\
  !*** ./src/provider/yandex/index.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "YandexGeocoded": () => (/* reexport safe */ _YandexGeocoded__WEBPACK_IMPORTED_MODULE_0__.default),
/* harmony export */   "YandexGeocodeQuery": () => (/* reexport safe */ _YandexGeocodeQuery__WEBPACK_IMPORTED_MODULE_1__.default),
/* harmony export */   "YandexProvider": () => (/* reexport safe */ _YandexProvider__WEBPACK_IMPORTED_MODULE_2__.default),
/* harmony export */   "defaultYandexProviderOptions": () => (/* reexport safe */ _YandexProvider__WEBPACK_IMPORTED_MODULE_2__.defaultYandexProviderOptions),
/* harmony export */   "YandexReverseQuery": () => (/* reexport safe */ _YandexReverseQuery__WEBPACK_IMPORTED_MODULE_3__.default)
/* harmony export */ });
/* harmony import */ var _YandexGeocoded__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./YandexGeocoded */ "./src/provider/yandex/YandexGeocoded.ts");
/* harmony import */ var _YandexGeocodeQuery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./YandexGeocodeQuery */ "./src/provider/yandex/YandexGeocodeQuery.ts");
/* harmony import */ var _YandexProvider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./YandexProvider */ "./src/provider/yandex/YandexProvider.ts");
/* harmony import */ var _YandexReverseQuery__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./YandexReverseQuery */ "./src/provider/yandex/YandexReverseQuery.ts");









/***/ }),

/***/ "./src/query/GeocodeQuery.ts":
/*!***********************************!*\
  !*** ./src/query/GeocodeQuery.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _provider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../provider */ "./src/provider/ProviderInterface.ts");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};

var GeocodeQuery = /** @class */ (function () {
    function GeocodeQuery(_a) {
        var text = _a.text, ip = _a.ip, bounds = _a.bounds, locale = _a.locale, _b = _a.limit, limit = _b === void 0 ? _provider__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_RESULT_LIMIT : _b;
        this.limit = _provider__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_RESULT_LIMIT;
        this.text = text;
        this.ip = ip;
        if (!text && !ip) {
            throw new Error('Either "text" or "ip" parameter is required.');
        }
        if (bounds &&
            (!bounds.latitudeSW ||
                !bounds.longitudeSW ||
                !bounds.latitudeNE ||
                !bounds.longitudeNE)) {
            throw new Error('The "bounds" parameter must be an object with the keys: "latitudeSW", "longitudeSW", "latitudeNE", "longitudeNE".');
        }
        this.bounds = bounds;
        this.locale = locale;
        this.limit = limit;
    }
    GeocodeQuery.create = function (object) {
        return new this(object);
    };
    GeocodeQuery.prototype.toObject = function () {
        return {
            text: this.text,
            ip: this.ip,
            bounds: this.bounds,
            locale: this.locale,
            limit: this.limit,
        };
    };
    GeocodeQuery.prototype.withText = function (text) {
        return this.constructor.create(__assign(__assign({}, this.toObject()), { text: text }));
    };
    GeocodeQuery.prototype.withIp = function (ip) {
        return this.constructor.create(__assign(__assign({}, this.toObject()), { ip: ip }));
    };
    GeocodeQuery.prototype.withBounds = function (bounds) {
        return this.constructor.create(__assign(__assign({}, this.toObject()), { bounds: bounds }));
    };
    GeocodeQuery.prototype.withLocale = function (locale) {
        return this.constructor.create(__assign(__assign({}, this.toObject()), { locale: locale }));
    };
    GeocodeQuery.prototype.withLimit = function (limit) {
        return this.constructor.create(__assign(__assign({}, this.toObject()), { limit: limit }));
    };
    GeocodeQuery.prototype.getText = function () {
        return this.text;
    };
    GeocodeQuery.prototype.getIp = function () {
        return this.ip;
    };
    GeocodeQuery.prototype.getBounds = function () {
        return this.bounds;
    };
    GeocodeQuery.prototype.getLocale = function () {
        return this.locale;
    };
    GeocodeQuery.prototype.getLimit = function () {
        return this.limit;
    };
    return GeocodeQuery;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GeocodeQuery);


/***/ }),

/***/ "./src/query/ReverseQuery.ts":
/*!***********************************!*\
  !*** ./src/query/ReverseQuery.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _provider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../provider */ "./src/provider/ProviderInterface.ts");
var __assign = (undefined && undefined.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};

var ReverseQuery = /** @class */ (function () {
    function ReverseQuery(_a) {
        var coordinates = _a.coordinates, locale = _a.locale, _b = _a.limit, limit = _b === void 0 ? _provider__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_RESULT_LIMIT : _b;
        this.limit = _provider__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_RESULT_LIMIT;
        if (coordinates && (!coordinates.latitude || !coordinates.longitude)) {
            throw new Error('The "coordinates" parameter must be an object with the keys: "latitude", "longitude".');
        }
        this.coordinates = coordinates;
        this.locale = locale;
        this.limit = limit;
    }
    ReverseQuery.create = function (object) {
        return new this(object);
    };
    ReverseQuery.prototype.toObject = function () {
        return {
            coordinates: this.coordinates,
            locale: this.locale,
            limit: this.limit,
        };
    };
    ReverseQuery.prototype.withCoordinates = function (coordinates) {
        return this.constructor.create(__assign(__assign({}, this.toObject()), { coordinates: coordinates }));
    };
    ReverseQuery.prototype.withLocale = function (locale) {
        return this.constructor.create(__assign(__assign({}, this.toObject()), { locale: locale }));
    };
    ReverseQuery.prototype.withLimit = function (limit) {
        return this.constructor.create(__assign(__assign({}, this.toObject()), { limit: limit }));
    };
    ReverseQuery.prototype.getCoordinates = function () {
        return this.coordinates;
    };
    ReverseQuery.prototype.getLocale = function () {
        return this.locale;
    };
    ReverseQuery.prototype.getLimit = function () {
        return this.limit;
    };
    return ReverseQuery;
}());
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ReverseQuery);


/***/ }),

/***/ "./src/query/index.ts":
/*!****************************!*\
  !*** ./src/query/index.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GeocodeQuery": () => (/* reexport safe */ _GeocodeQuery__WEBPACK_IMPORTED_MODULE_0__.default),
/* harmony export */   "ReverseQuery": () => (/* reexport safe */ _ReverseQuery__WEBPACK_IMPORTED_MODULE_1__.default)
/* harmony export */ });
/* harmony import */ var _GeocodeQuery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GeocodeQuery */ "./src/query/GeocodeQuery.ts");
/* harmony import */ var _ReverseQuery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ReverseQuery */ "./src/query/ReverseQuery.ts");






/***/ }),

/***/ "./src/utils.ts":
/*!**********************!*\
  !*** ./src/utils.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "isBrowser": () => (/* binding */ isBrowser),
/* harmony export */   "filterUndefinedObjectValues": () => (/* binding */ filterUndefinedObjectValues),
/* harmony export */   "flattenObject": () => (/* binding */ flattenObject),
/* harmony export */   "decodeUrlSafeBase64": () => (/* binding */ decodeUrlSafeBase64),
/* harmony export */   "encodeUrlSafeBase64": () => (/* binding */ encodeUrlSafeBase64),
/* harmony export */   "decodeBase64": () => (/* binding */ decodeBase64),
/* harmony export */   "isIpv4": () => (/* binding */ isIpv4),
/* harmony export */   "isIpv6": () => (/* binding */ isIpv6),
/* harmony export */   "getRequireFunc": () => (/* binding */ getRequireFunc)
/* harmony export */ });
var isBrowser = function () { return typeof window !== "undefined"; };
var filterUndefinedObjectValues = function (object) {
    return Object.keys(object).reduce(function (acc, key) {
        var filtered = acc;
        var value = object[key];
        if (value !== undefined) {
            filtered[key] = value;
        }
        return filtered;
    }, {});
};
var flattenObject = function (object) {
    var flattened = {};
    var isNested = function (value) {
        var isArray = Array.isArray(value);
        var type = Object.prototype.toString.call(value);
        var isObject = type === "[object Object]" || type === "[object Array]";
        if (!isArray && isObject && Object.keys(value).length) {
            return true;
        }
        return false;
    };
    var step = function (nestedObject) {
        Object.keys(nestedObject).forEach(function (key) {
            var value = nestedObject[key];
            if (undefined === value) {
                return;
            }
            if (isNested(value)) {
                step(value);
                return;
            }
            flattened[key] = value;
        });
    };
    step(object);
    return flattened;
};
/**
 * Decode from URL-safe base64 to true base64.
 */
var decodeUrlSafeBase64 = function (safe) {
    return safe.replace(/-/g, "+").replace(/_/g, "/");
};
/**
 * Encode from true base64 to URL-safe base64.
 */
var encodeUrlSafeBase64 = function (base64) {
    return base64.replace(/\+/g, "-").replace(/\//g, "_");
};
var decodeBase64 = function (base64) {
    if (isBrowser()) {
        throw new Error("decodeBase64 can only be used in a Node environment.");
    }
    return Buffer.from(base64, "base64").toString();
};
// From https://github.com/sindresorhus/ip-regex
var ipv4RegExp = "(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}";
var isIpv4 = function (ip) {
    return new RegExp("^" + ipv4RegExp + "$").test(ip);
};
// From https://github.com/sindresorhus/ip-regex
var ipv6Seg = "[a-fA-F\\d]{1,4}";
var ipv6RegExp = "((?:" + ipv6Seg + ":){7}(?:" + ipv6Seg + "|:)|(?:" + ipv6Seg + ":){6}(?:" + ipv4RegExp + "|:" + ipv6Seg + "|:)|(?:" + ipv6Seg + ":){5}(?::" + ipv4RegExp + "|(:" + ipv6Seg + "){1,2}|:)|(?:" + ipv6Seg + ":){4}(?:(:" + ipv6Seg + "){0,1}:" + ipv4RegExp + "|(:" + ipv6Seg + "){1,3}|:)|(?:" + ipv6Seg + ":){3}(?:(:" + ipv6Seg + "){0,2}:" + ipv4RegExp + "|(:" + ipv6Seg + "){1,4}|:)|(?:" + ipv6Seg + ":){2}(?:(:" + ipv6Seg + "){0,3}:" + ipv4RegExp + "|(:" + ipv6Seg + "){1,5}|:)|(?:" + ipv6Seg + ":){1}(?:(:" + ipv6Seg + "){0,4}:" + ipv4RegExp + "|(:" + ipv6Seg + "){1,6}|:)|(?::((?::" + ipv6Seg + "){0,5}:" + ipv4RegExp + "|(?::" + ipv6Seg + "){1,7}|:)))(%[0-9a-zA-Z]{1,})?";
var isIpv6 = function (ip) {
    return new RegExp("^" + ipv6RegExp + "$").test(ip);
};
// eslint-disable-next-line @typescript-eslint/ban-types
var getRequireFunc = function () {
    // eslint-disable-next-line camelcase
    return typeof require === "function"
        ? // eslint-disable-next-line camelcase
            require
        : __webpack_require__("./src sync recursive");
};


/***/ }),

/***/ "./src sync recursive":
/*!*******************!*\
  !*** ./src/ sync ***!
  \*******************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "./src sync recursive";
module.exports = webpackEmptyContext;

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
var __webpack_exports__ = {};
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BingGeocoded": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.BingGeocoded),
/* harmony export */   "BingProvider": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.BingProvider),
/* harmony export */   "ChainProvider": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.ChainProvider),
/* harmony export */   "DEFAULT_RESULT_LIMIT": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_RESULT_LIMIT),
/* harmony export */   "GeoPluginGeocoded": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.GeoPluginGeocoded),
/* harmony export */   "GeoPluginProvider": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.GeoPluginProvider),
/* harmony export */   "GoogleMapsGeocodeQuery": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.GoogleMapsGeocodeQuery),
/* harmony export */   "GoogleMapsGeocoded": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.GoogleMapsGeocoded),
/* harmony export */   "GoogleMapsProvider": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.GoogleMapsProvider),
/* harmony export */   "GoogleMapsReverseQuery": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.GoogleMapsReverseQuery),
/* harmony export */   "LocationIQGeocodeQuery": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.LocationIQGeocodeQuery),
/* harmony export */   "LocationIQGeocoded": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.LocationIQGeocoded),
/* harmony export */   "LocationIQProvider": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.LocationIQProvider),
/* harmony export */   "LocationIQReverseQuery": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.LocationIQReverseQuery),
/* harmony export */   "MAPBOX_SOURCES": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.MAPBOX_SOURCES),
/* harmony export */   "MapQuestGeocodeQuery": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.MapQuestGeocodeQuery),
/* harmony export */   "MapQuestGeocoded": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.MapQuestGeocoded),
/* harmony export */   "MapQuestLocation": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.MapQuestLocation),
/* harmony export */   "MapQuestProvider": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.MapQuestProvider),
/* harmony export */   "MapboxGeocodeQuery": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.MapboxGeocodeQuery),
/* harmony export */   "MapboxGeocoded": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.MapboxGeocoded),
/* harmony export */   "MapboxProvider": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.MapboxProvider),
/* harmony export */   "MapboxReverseQuery": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.MapboxReverseQuery),
/* harmony export */   "NominatimGeocodeQuery": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.NominatimGeocodeQuery),
/* harmony export */   "NominatimGeocoded": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.NominatimGeocoded),
/* harmony export */   "NominatimProvider": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.NominatimProvider),
/* harmony export */   "NominatimReverseQuery": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.NominatimReverseQuery),
/* harmony export */   "OpenCageGeocodeQuery": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.OpenCageGeocodeQuery),
/* harmony export */   "OpenCageGeocoded": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.OpenCageGeocoded),
/* harmony export */   "OpenCageProvider": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.OpenCageProvider),
/* harmony export */   "OpenCageReverseQuery": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.OpenCageReverseQuery),
/* harmony export */   "OpenStreetMapGeocodeQuery": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.OpenStreetMapGeocodeQuery),
/* harmony export */   "OpenStreetMapGeocoded": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.OpenStreetMapGeocoded),
/* harmony export */   "OpenStreetMapProvider": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.OpenStreetMapProvider),
/* harmony export */   "OpenStreetMapReverseQuery": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.OpenStreetMapReverseQuery),
/* harmony export */   "ProviderHelpers": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.ProviderHelpers),
/* harmony export */   "YandexGeocodeQuery": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.YandexGeocodeQuery),
/* harmony export */   "YandexGeocoded": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.YandexGeocoded),
/* harmony export */   "YandexProvider": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.YandexProvider),
/* harmony export */   "YandexReverseQuery": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.YandexReverseQuery),
/* harmony export */   "defaultBingProviderOptions": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.defaultBingProviderOptions),
/* harmony export */   "defaultChainProviderOptions": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.defaultChainProviderOptions),
/* harmony export */   "defaultLocationIQProviderOptions": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.defaultLocationIQProviderOptions),
/* harmony export */   "defaultMapQuestProviderOptions": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.defaultMapQuestProviderOptions),
/* harmony export */   "defaultMapboxProviderOptions": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.defaultMapboxProviderOptions),
/* harmony export */   "defaultNominatimProviderOptions": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.defaultNominatimProviderOptions),
/* harmony export */   "defaultOpenCageProviderOptions": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.defaultOpenCageProviderOptions),
/* harmony export */   "defaultOpenStreetMapProviderOptions": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.defaultOpenStreetMapProviderOptions),
/* harmony export */   "defaultProviderOptions": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.defaultProviderOptions),
/* harmony export */   "defaultYandexProviderOptions": () => (/* reexport safe */ _provider__WEBPACK_IMPORTED_MODULE_0__.defaultYandexProviderOptions),
/* harmony export */   "GeocodeQuery": () => (/* reexport safe */ _query__WEBPACK_IMPORTED_MODULE_1__.GeocodeQuery),
/* harmony export */   "ReverseQuery": () => (/* reexport safe */ _query__WEBPACK_IMPORTED_MODULE_1__.ReverseQuery),
/* harmony export */   "decodeBase64": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_2__.decodeBase64),
/* harmony export */   "decodeUrlSafeBase64": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_2__.decodeUrlSafeBase64),
/* harmony export */   "encodeUrlSafeBase64": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_2__.encodeUrlSafeBase64),
/* harmony export */   "filterUndefinedObjectValues": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_2__.filterUndefinedObjectValues),
/* harmony export */   "flattenObject": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_2__.flattenObject),
/* harmony export */   "getRequireFunc": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_2__.getRequireFunc),
/* harmony export */   "isBrowser": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_2__.isBrowser),
/* harmony export */   "isIpv4": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_2__.isIpv4),
/* harmony export */   "isIpv6": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_2__.isIpv6),
/* harmony export */   "AdminLevel": () => (/* reexport safe */ _AdminLevel__WEBPACK_IMPORTED_MODULE_3__.default),
/* harmony export */   "ADMIN_LEVEL_CODES": () => (/* reexport safe */ _AdminLevel__WEBPACK_IMPORTED_MODULE_3__.ADMIN_LEVEL_CODES),
/* harmony export */   "ExternalLoader": () => (/* reexport safe */ _ExternalLoader__WEBPACK_IMPORTED_MODULE_4__.default),
/* harmony export */   "Geocoded": () => (/* reexport safe */ _Geocoded__WEBPACK_IMPORTED_MODULE_5__.default),
/* harmony export */   "GeocoderProviderFactory": () => (/* reexport safe */ _GeocoderProviderFactory__WEBPACK_IMPORTED_MODULE_6__.default),
/* harmony export */   "GeoJsonDumper": () => (/* reexport safe */ _GeoJsonDumper__WEBPACK_IMPORTED_MODULE_7__.default),
/* harmony export */   "default": () => (/* reexport safe */ _UniversalGeocoder__WEBPACK_IMPORTED_MODULE_8__.default)
/* harmony export */ });
/* harmony import */ var _provider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./provider */ "./src/provider/index.ts");
/* harmony import */ var _query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./query */ "./src/query/index.ts");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils */ "./src/utils.ts");
/* harmony import */ var _AdminLevel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./AdminLevel */ "./src/AdminLevel.ts");
/* harmony import */ var _ExternalLoader__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ExternalLoader */ "./src/ExternalLoader.ts");
/* harmony import */ var _Geocoded__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Geocoded */ "./src/Geocoded.ts");
/* harmony import */ var _GeocoderProviderFactory__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./GeocoderProviderFactory */ "./src/GeocoderProviderFactory.ts");
/* harmony import */ var _GeoJsonDumper__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./GeoJsonDumper */ "./src/GeoJsonDumper.ts");
/* harmony import */ var _UniversalGeocoder__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./UniversalGeocoder */ "./src/UniversalGeocoder.ts");















})();

// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!***********************!*\
  !*** ./src/global.ts ***!
  \***********************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _UniversalGeocoder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./UniversalGeocoder */ "./src/UniversalGeocoder.ts");
/* harmony import */ var _GeoJsonDumper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./GeoJsonDumper */ "./src/GeoJsonDumper.ts");


var container = typeof window === "object" ? window : {};
container.UniversalGeocoder = _UniversalGeocoder__WEBPACK_IMPORTED_MODULE_0__.default;
container.GeoJsonDumper = _GeoJsonDumper__WEBPACK_IMPORTED_MODULE_1__.default;

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly91bml2ZXJzYWwtZ2VvY29kZXIvLi9ub2RlX21vZHVsZXMvY3Jvc3MtZmV0Y2gvZGlzdC9icm93c2VyLXBvbnlmaWxsLmpzIiwid2VicGFjazovL3VuaXZlcnNhbC1nZW9jb2Rlci8uL3NyYy9BZG1pbkxldmVsLnRzIiwid2VicGFjazovL3VuaXZlcnNhbC1nZW9jb2Rlci8uL3NyYy9FeHRlcm5hbExvYWRlci50cyIsIndlYnBhY2s6Ly91bml2ZXJzYWwtZ2VvY29kZXIvLi9zcmMvR2VvSnNvbkR1bXBlci50cyIsIndlYnBhY2s6Ly91bml2ZXJzYWwtZ2VvY29kZXIvLi9zcmMvR2VvY29kZWQudHMiLCJ3ZWJwYWNrOi8vdW5pdmVyc2FsLWdlb2NvZGVyLy4vc3JjL0dlb2NvZGVyUHJvdmlkZXJGYWN0b3J5LnRzIiwid2VicGFjazovL3VuaXZlcnNhbC1nZW9jb2Rlci8uL3NyYy9Vbml2ZXJzYWxHZW9jb2Rlci50cyIsIndlYnBhY2s6Ly91bml2ZXJzYWwtZ2VvY29kZXIvLi9zcmMvZXJyb3IvUmVzcG9uc2VFcnJvci50cyIsIndlYnBhY2s6Ly91bml2ZXJzYWwtZ2VvY29kZXIvLi9zcmMvcHJvdmlkZXIvQ2hhaW5Qcm92aWRlci50cyIsIndlYnBhY2s6Ly91bml2ZXJzYWwtZ2VvY29kZXIvLi9zcmMvcHJvdmlkZXIvUHJvdmlkZXJIZWxwZXJzLnRzIiwid2VicGFjazovL3VuaXZlcnNhbC1nZW9jb2Rlci8uL3NyYy9wcm92aWRlci9Qcm92aWRlckludGVyZmFjZS50cyIsIndlYnBhY2s6Ly91bml2ZXJzYWwtZ2VvY29kZXIvLi9zcmMvcHJvdmlkZXIvYmluZy9CaW5nR2VvY29kZWQudHMiLCJ3ZWJwYWNrOi8vdW5pdmVyc2FsLWdlb2NvZGVyLy4vc3JjL3Byb3ZpZGVyL2JpbmcvQmluZ1Byb3ZpZGVyLnRzIiwid2VicGFjazovL3VuaXZlcnNhbC1nZW9jb2Rlci8uL3NyYy9wcm92aWRlci9iaW5nL2luZGV4LnRzIiwid2VicGFjazovL3VuaXZlcnNhbC1nZW9jb2Rlci8uL3NyYy9wcm92aWRlci9nZW9wbHVnaW4vR2VvUGx1Z2luR2VvY29kZWQudHMiLCJ3ZWJwYWNrOi8vdW5pdmVyc2FsLWdlb2NvZGVyLy4vc3JjL3Byb3ZpZGVyL2dlb3BsdWdpbi9HZW9QbHVnaW5Qcm92aWRlci50cyIsIndlYnBhY2s6Ly91bml2ZXJzYWwtZ2VvY29kZXIvLi9zcmMvcHJvdmlkZXIvZ2VvcGx1Z2luL2luZGV4LnRzIiwid2VicGFjazovL3VuaXZlcnNhbC1nZW9jb2Rlci8uL3NyYy9wcm92aWRlci9nb29nbGVtYXBzL0dvb2dsZU1hcHNHZW9jb2RlUXVlcnkudHMiLCJ3ZWJwYWNrOi8vdW5pdmVyc2FsLWdlb2NvZGVyLy4vc3JjL3Byb3ZpZGVyL2dvb2dsZW1hcHMvR29vZ2xlTWFwc0dlb2NvZGVkLnRzIiwid2VicGFjazovL3VuaXZlcnNhbC1nZW9jb2Rlci8uL3NyYy9wcm92aWRlci9nb29nbGVtYXBzL0dvb2dsZU1hcHNQcm92aWRlci50cyIsIndlYnBhY2s6Ly91bml2ZXJzYWwtZ2VvY29kZXIvLi9zcmMvcHJvdmlkZXIvZ29vZ2xlbWFwcy9Hb29nbGVNYXBzUmV2ZXJzZVF1ZXJ5LnRzIiwid2VicGFjazovL3VuaXZlcnNhbC1nZW9jb2Rlci8uL3NyYy9wcm92aWRlci9nb29nbGVtYXBzL2luZGV4LnRzIiwid2VicGFjazovL3VuaXZlcnNhbC1nZW9jb2Rlci8uL3NyYy9wcm92aWRlci9pbmRleC50cyIsIndlYnBhY2s6Ly91bml2ZXJzYWwtZ2VvY29kZXIvLi9zcmMvcHJvdmlkZXIvbG9jYXRpb25pcS9Mb2NhdGlvbklRR2VvY29kZVF1ZXJ5LnRzIiwid2VicGFjazovL3VuaXZlcnNhbC1nZW9jb2Rlci8uL3NyYy9wcm92aWRlci9sb2NhdGlvbmlxL0xvY2F0aW9uSVFHZW9jb2RlZC50cyIsIndlYnBhY2s6Ly91bml2ZXJzYWwtZ2VvY29kZXIvLi9zcmMvcHJvdmlkZXIvbG9jYXRpb25pcS9Mb2NhdGlvbklRUHJvdmlkZXIudHMiLCJ3ZWJwYWNrOi8vdW5pdmVyc2FsLWdlb2NvZGVyLy4vc3JjL3Byb3ZpZGVyL2xvY2F0aW9uaXEvTG9jYXRpb25JUVJldmVyc2VRdWVyeS50cyIsIndlYnBhY2s6Ly91bml2ZXJzYWwtZ2VvY29kZXIvLi9zcmMvcHJvdmlkZXIvbG9jYXRpb25pcS9pbmRleC50cyIsIndlYnBhY2s6Ly91bml2ZXJzYWwtZ2VvY29kZXIvLi9zcmMvcHJvdmlkZXIvbWFwYm94L01hcGJveEdlb2NvZGVRdWVyeS50cyIsIndlYnBhY2s6Ly91bml2ZXJzYWwtZ2VvY29kZXIvLi9zcmMvcHJvdmlkZXIvbWFwYm94L01hcGJveEdlb2NvZGVkLnRzIiwid2VicGFjazovL3VuaXZlcnNhbC1nZW9jb2Rlci8uL3NyYy9wcm92aWRlci9tYXBib3gvTWFwYm94UHJvdmlkZXIudHMiLCJ3ZWJwYWNrOi8vdW5pdmVyc2FsLWdlb2NvZGVyLy4vc3JjL3Byb3ZpZGVyL21hcGJveC9NYXBib3hSZXZlcnNlUXVlcnkudHMiLCJ3ZWJwYWNrOi8vdW5pdmVyc2FsLWdlb2NvZGVyLy4vc3JjL3Byb3ZpZGVyL21hcGJveC9pbmRleC50cyIsIndlYnBhY2s6Ly91bml2ZXJzYWwtZ2VvY29kZXIvLi9zcmMvcHJvdmlkZXIvbWFwcXVlc3QvTWFwUXVlc3RHZW9jb2RlUXVlcnkudHMiLCJ3ZWJwYWNrOi8vdW5pdmVyc2FsLWdlb2NvZGVyLy4vc3JjL3Byb3ZpZGVyL21hcHF1ZXN0L01hcFF1ZXN0R2VvY29kZWQudHMiLCJ3ZWJwYWNrOi8vdW5pdmVyc2FsLWdlb2NvZGVyLy4vc3JjL3Byb3ZpZGVyL21hcHF1ZXN0L01hcFF1ZXN0TG9jYXRpb24udHMiLCJ3ZWJwYWNrOi8vdW5pdmVyc2FsLWdlb2NvZGVyLy4vc3JjL3Byb3ZpZGVyL21hcHF1ZXN0L01hcFF1ZXN0UHJvdmlkZXIudHMiLCJ3ZWJwYWNrOi8vdW5pdmVyc2FsLWdlb2NvZGVyLy4vc3JjL3Byb3ZpZGVyL21hcHF1ZXN0L2luZGV4LnRzIiwid2VicGFjazovL3VuaXZlcnNhbC1nZW9jb2Rlci8uL3NyYy9wcm92aWRlci9ub21pbmF0aW0vTm9taW5hdGltR2VvY29kZVF1ZXJ5LnRzIiwid2VicGFjazovL3VuaXZlcnNhbC1nZW9jb2Rlci8uL3NyYy9wcm92aWRlci9ub21pbmF0aW0vTm9taW5hdGltR2VvY29kZWQudHMiLCJ3ZWJwYWNrOi8vdW5pdmVyc2FsLWdlb2NvZGVyLy4vc3JjL3Byb3ZpZGVyL25vbWluYXRpbS9Ob21pbmF0aW1Qcm92aWRlci50cyIsIndlYnBhY2s6Ly91bml2ZXJzYWwtZ2VvY29kZXIvLi9zcmMvcHJvdmlkZXIvbm9taW5hdGltL05vbWluYXRpbVJldmVyc2VRdWVyeS50cyIsIndlYnBhY2s6Ly91bml2ZXJzYWwtZ2VvY29kZXIvLi9zcmMvcHJvdmlkZXIvbm9taW5hdGltL2luZGV4LnRzIiwid2VicGFjazovL3VuaXZlcnNhbC1nZW9jb2Rlci8uL3NyYy9wcm92aWRlci9vcGVuY2FnZS9PcGVuQ2FnZUdlb2NvZGVRdWVyeS50cyIsIndlYnBhY2s6Ly91bml2ZXJzYWwtZ2VvY29kZXIvLi9zcmMvcHJvdmlkZXIvb3BlbmNhZ2UvT3BlbkNhZ2VHZW9jb2RlZC50cyIsIndlYnBhY2s6Ly91bml2ZXJzYWwtZ2VvY29kZXIvLi9zcmMvcHJvdmlkZXIvb3BlbmNhZ2UvT3BlbkNhZ2VQcm92aWRlci50cyIsIndlYnBhY2s6Ly91bml2ZXJzYWwtZ2VvY29kZXIvLi9zcmMvcHJvdmlkZXIvb3BlbmNhZ2UvT3BlbkNhZ2VSZXZlcnNlUXVlcnkudHMiLCJ3ZWJwYWNrOi8vdW5pdmVyc2FsLWdlb2NvZGVyLy4vc3JjL3Byb3ZpZGVyL29wZW5jYWdlL2luZGV4LnRzIiwid2VicGFjazovL3VuaXZlcnNhbC1nZW9jb2Rlci8uL3NyYy9wcm92aWRlci95YW5kZXgvWWFuZGV4R2VvY29kZVF1ZXJ5LnRzIiwid2VicGFjazovL3VuaXZlcnNhbC1nZW9jb2Rlci8uL3NyYy9wcm92aWRlci95YW5kZXgvWWFuZGV4R2VvY29kZWQudHMiLCJ3ZWJwYWNrOi8vdW5pdmVyc2FsLWdlb2NvZGVyLy4vc3JjL3Byb3ZpZGVyL3lhbmRleC9ZYW5kZXhQcm92aWRlci50cyIsIndlYnBhY2s6Ly91bml2ZXJzYWwtZ2VvY29kZXIvLi9zcmMvcHJvdmlkZXIveWFuZGV4L1lhbmRleFJldmVyc2VRdWVyeS50cyIsIndlYnBhY2s6Ly91bml2ZXJzYWwtZ2VvY29kZXIvLi9zcmMvcHJvdmlkZXIveWFuZGV4L2luZGV4LnRzIiwid2VicGFjazovL3VuaXZlcnNhbC1nZW9jb2Rlci8uL3NyYy9xdWVyeS9HZW9jb2RlUXVlcnkudHMiLCJ3ZWJwYWNrOi8vdW5pdmVyc2FsLWdlb2NvZGVyLy4vc3JjL3F1ZXJ5L1JldmVyc2VRdWVyeS50cyIsIndlYnBhY2s6Ly91bml2ZXJzYWwtZ2VvY29kZXIvLi9zcmMvcXVlcnkvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vdW5pdmVyc2FsLWdlb2NvZGVyLy4vc3JjL3V0aWxzLnRzIiwid2VicGFjazovL3VuaXZlcnNhbC1nZW9jb2Rlci8uL3NyY3xzeW5jIiwid2VicGFjazovL3VuaXZlcnNhbC1nZW9jb2Rlci93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly91bml2ZXJzYWwtZ2VvY29kZXIvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vdW5pdmVyc2FsLWdlb2NvZGVyL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly91bml2ZXJzYWwtZ2VvY29kZXIvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly91bml2ZXJzYWwtZ2VvY29kZXIvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly91bml2ZXJzYWwtZ2VvY29kZXIvLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vdW5pdmVyc2FsLWdlb2NvZGVyLy4vc3JjL2dsb2JhbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsbUJBQW1CLGlCQUFpQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQSx1REFBdUQ7QUFDdkQsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNULDhFQUE4RTtBQUM5RTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw4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O1dBQ0E7V0FDQSxFOzs7OztXQ1BBLHdGOzs7OztXQ0FBO1dBQ0E7V0FDQTtXQUNBLHNEQUFzRCxrQkFBa0I7V0FDeEU7V0FDQSwrQ0FBK0MsY0FBYztXQUM3RCxFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ055QjtBQUNIO0FBQ0E7QUFDNkI7QUFDeEI7QUFDZ0M7QUFDNUI7QUFDZ0I7QUFDdEI7QUFDb0Q7QUFDckM7QUFDaUI7QUFDM0I7QUFDYzs7Ozs7Ozs7Ozs7OztBQ2JNO0FBQ1I7QUFjMUMsSUFBTSxTQUFTLEdBQ2IsT0FBTyxNQUFNLEtBQUssUUFBUSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFFLEVBQWdCLENBQUM7QUFFMUQsU0FBUyxDQUFDLGlCQUFpQixHQUFHLHVEQUFpQixDQUFDO0FBQ2hELFNBQVMsQ0FBQyxhQUFhLEdBQUcsbURBQWEsQ0FBQyIsImZpbGUiOiJ1bml2ZXJzYWwtZ2VvY29kZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZ2xvYmFsID0gdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHRoaXM7XG52YXIgX19zZWxmX18gPSAoZnVuY3Rpb24gKCkge1xuZnVuY3Rpb24gRigpIHtcbnRoaXMuZmV0Y2ggPSBmYWxzZTtcbnRoaXMuRE9NRXhjZXB0aW9uID0gZ2xvYmFsLkRPTUV4Y2VwdGlvblxufVxuRi5wcm90b3R5cGUgPSBnbG9iYWw7XG5yZXR1cm4gbmV3IEYoKTtcbn0pKCk7XG4oZnVuY3Rpb24oc2VsZikge1xuXG52YXIgaXJyZWxldmFudCA9IChmdW5jdGlvbiAoZXhwb3J0cykge1xuXG4gIHZhciBzdXBwb3J0ID0ge1xuICAgIHNlYXJjaFBhcmFtczogJ1VSTFNlYXJjaFBhcmFtcycgaW4gc2VsZixcbiAgICBpdGVyYWJsZTogJ1N5bWJvbCcgaW4gc2VsZiAmJiAnaXRlcmF0b3InIGluIFN5bWJvbCxcbiAgICBibG9iOlxuICAgICAgJ0ZpbGVSZWFkZXInIGluIHNlbGYgJiZcbiAgICAgICdCbG9iJyBpbiBzZWxmICYmXG4gICAgICAoZnVuY3Rpb24oKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbmV3IEJsb2IoKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH0pKCksXG4gICAgZm9ybURhdGE6ICdGb3JtRGF0YScgaW4gc2VsZixcbiAgICBhcnJheUJ1ZmZlcjogJ0FycmF5QnVmZmVyJyBpbiBzZWxmXG4gIH07XG5cbiAgZnVuY3Rpb24gaXNEYXRhVmlldyhvYmopIHtcbiAgICByZXR1cm4gb2JqICYmIERhdGFWaWV3LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKG9iailcbiAgfVxuXG4gIGlmIChzdXBwb3J0LmFycmF5QnVmZmVyKSB7XG4gICAgdmFyIHZpZXdDbGFzc2VzID0gW1xuICAgICAgJ1tvYmplY3QgSW50OEFycmF5XScsXG4gICAgICAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgICAnW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgSW50MTZBcnJheV0nLFxuICAgICAgJ1tvYmplY3QgVWludDE2QXJyYXldJyxcbiAgICAgICdbb2JqZWN0IEludDMyQXJyYXldJyxcbiAgICAgICdbb2JqZWN0IFVpbnQzMkFycmF5XScsXG4gICAgICAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICAgICdbb2JqZWN0IEZsb2F0NjRBcnJheV0nXG4gICAgXTtcblxuICAgIHZhciBpc0FycmF5QnVmZmVyVmlldyA9XG4gICAgICBBcnJheUJ1ZmZlci5pc1ZpZXcgfHxcbiAgICAgIGZ1bmN0aW9uKG9iaikge1xuICAgICAgICByZXR1cm4gb2JqICYmIHZpZXdDbGFzc2VzLmluZGV4T2YoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikpID4gLTFcbiAgICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBub3JtYWxpemVOYW1lKG5hbWUpIHtcbiAgICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICBuYW1lID0gU3RyaW5nKG5hbWUpO1xuICAgIH1cbiAgICBpZiAoL1teYS16MC05XFwtIyQlJicqKy5eX2B8fl0vaS50ZXN0KG5hbWUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIGNoYXJhY3RlciBpbiBoZWFkZXIgZmllbGQgbmFtZScpXG4gICAgfVxuICAgIHJldHVybiBuYW1lLnRvTG93ZXJDYXNlKClcbiAgfVxuXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZVZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHZhbHVlID0gU3RyaW5nKHZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlXG4gIH1cblxuICAvLyBCdWlsZCBhIGRlc3RydWN0aXZlIGl0ZXJhdG9yIGZvciB0aGUgdmFsdWUgbGlzdFxuICBmdW5jdGlvbiBpdGVyYXRvckZvcihpdGVtcykge1xuICAgIHZhciBpdGVyYXRvciA9IHtcbiAgICAgIG5leHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBpdGVtcy5zaGlmdCgpO1xuICAgICAgICByZXR1cm4ge2RvbmU6IHZhbHVlID09PSB1bmRlZmluZWQsIHZhbHVlOiB2YWx1ZX1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKHN1cHBvcnQuaXRlcmFibGUpIHtcbiAgICAgIGl0ZXJhdG9yW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBpdGVyYXRvclxuICB9XG5cbiAgZnVuY3Rpb24gSGVhZGVycyhoZWFkZXJzKSB7XG4gICAgdGhpcy5tYXAgPSB7fTtcblxuICAgIGlmIChoZWFkZXJzIGluc3RhbmNlb2YgSGVhZGVycykge1xuICAgICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICAgIHRoaXMuYXBwZW5kKG5hbWUsIHZhbHVlKTtcbiAgICAgIH0sIHRoaXMpO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShoZWFkZXJzKSkge1xuICAgICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKGhlYWRlcikge1xuICAgICAgICB0aGlzLmFwcGVuZChoZWFkZXJbMF0sIGhlYWRlclsxXSk7XG4gICAgICB9LCB0aGlzKTtcbiAgICB9IGVsc2UgaWYgKGhlYWRlcnMpIHtcbiAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGhlYWRlcnMpLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgICAgICB0aGlzLmFwcGVuZChuYW1lLCBoZWFkZXJzW25hbWVdKTtcbiAgICAgIH0sIHRoaXMpO1xuICAgIH1cbiAgfVxuXG4gIEhlYWRlcnMucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgbmFtZSA9IG5vcm1hbGl6ZU5hbWUobmFtZSk7XG4gICAgdmFsdWUgPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSk7XG4gICAgdmFyIG9sZFZhbHVlID0gdGhpcy5tYXBbbmFtZV07XG4gICAgdGhpcy5tYXBbbmFtZV0gPSBvbGRWYWx1ZSA/IG9sZFZhbHVlICsgJywgJyArIHZhbHVlIDogdmFsdWU7XG4gIH07XG5cbiAgSGVhZGVycy5wcm90b3R5cGVbJ2RlbGV0ZSddID0gZnVuY3Rpb24obmFtZSkge1xuICAgIGRlbGV0ZSB0aGlzLm1hcFtub3JtYWxpemVOYW1lKG5hbWUpXTtcbiAgfTtcblxuICBIZWFkZXJzLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbihuYW1lKSB7XG4gICAgbmFtZSA9IG5vcm1hbGl6ZU5hbWUobmFtZSk7XG4gICAgcmV0dXJuIHRoaXMuaGFzKG5hbWUpID8gdGhpcy5tYXBbbmFtZV0gOiBudWxsXG4gIH07XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24obmFtZSkge1xuICAgIHJldHVybiB0aGlzLm1hcC5oYXNPd25Qcm9wZXJ0eShub3JtYWxpemVOYW1lKG5hbWUpKVxuICB9O1xuXG4gIEhlYWRlcnMucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV0gPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSk7XG4gIH07XG5cbiAgSGVhZGVycy5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uKGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzLm1hcCkge1xuICAgICAgaWYgKHRoaXMubWFwLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdGhpcy5tYXBbbmFtZV0sIG5hbWUsIHRoaXMpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBIZWFkZXJzLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGl0ZW1zID0gW107XG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICBpdGVtcy5wdXNoKG5hbWUpO1xuICAgIH0pO1xuICAgIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbiAgfTtcblxuICBIZWFkZXJzLnByb3RvdHlwZS52YWx1ZXMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgaXRlbXMgPSBbXTtcbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGl0ZW1zLnB1c2godmFsdWUpO1xuICAgIH0pO1xuICAgIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbiAgfTtcblxuICBIZWFkZXJzLnByb3RvdHlwZS5lbnRyaWVzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGl0ZW1zID0gW107XG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICBpdGVtcy5wdXNoKFtuYW1lLCB2YWx1ZV0pO1xuICAgIH0pO1xuICAgIHJldHVybiBpdGVyYXRvckZvcihpdGVtcylcbiAgfTtcblxuICBpZiAoc3VwcG9ydC5pdGVyYWJsZSkge1xuICAgIEhlYWRlcnMucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBIZWFkZXJzLnByb3RvdHlwZS5lbnRyaWVzO1xuICB9XG5cbiAgZnVuY3Rpb24gY29uc3VtZWQoYm9keSkge1xuICAgIGlmIChib2R5LmJvZHlVc2VkKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFR5cGVFcnJvcignQWxyZWFkeSByZWFkJykpXG4gICAgfVxuICAgIGJvZHkuYm9keVVzZWQgPSB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gZmlsZVJlYWRlclJlYWR5KHJlYWRlcikge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVzb2x2ZShyZWFkZXIucmVzdWx0KTtcbiAgICAgIH07XG4gICAgICByZWFkZXIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QocmVhZGVyLmVycm9yKTtcbiAgICAgIH07XG4gICAgfSlcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRCbG9iQXNBcnJheUJ1ZmZlcihibG9iKSB7XG4gICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgdmFyIHByb21pc2UgPSBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKTtcbiAgICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoYmxvYik7XG4gICAgcmV0dXJuIHByb21pc2VcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRCbG9iQXNUZXh0KGJsb2IpIHtcbiAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICB2YXIgcHJvbWlzZSA9IGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpO1xuICAgIHJlYWRlci5yZWFkQXNUZXh0KGJsb2IpO1xuICAgIHJldHVybiBwcm9taXNlXG4gIH1cblxuICBmdW5jdGlvbiByZWFkQXJyYXlCdWZmZXJBc1RleHQoYnVmKSB7XG4gICAgdmFyIHZpZXcgPSBuZXcgVWludDhBcnJheShidWYpO1xuICAgIHZhciBjaGFycyA9IG5ldyBBcnJheSh2aWV3Lmxlbmd0aCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZpZXcubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNoYXJzW2ldID0gU3RyaW5nLmZyb21DaGFyQ29kZSh2aWV3W2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIGNoYXJzLmpvaW4oJycpXG4gIH1cblxuICBmdW5jdGlvbiBidWZmZXJDbG9uZShidWYpIHtcbiAgICBpZiAoYnVmLnNsaWNlKSB7XG4gICAgICByZXR1cm4gYnVmLnNsaWNlKDApXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB2aWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmLmJ5dGVMZW5ndGgpO1xuICAgICAgdmlldy5zZXQobmV3IFVpbnQ4QXJyYXkoYnVmKSk7XG4gICAgICByZXR1cm4gdmlldy5idWZmZXJcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBCb2R5KCkge1xuICAgIHRoaXMuYm9keVVzZWQgPSBmYWxzZTtcblxuICAgIHRoaXMuX2luaXRCb2R5ID0gZnVuY3Rpb24oYm9keSkge1xuICAgICAgdGhpcy5fYm9keUluaXQgPSBib2R5O1xuICAgICAgaWYgKCFib2R5KSB7XG4gICAgICAgIHRoaXMuX2JvZHlUZXh0ID0gJyc7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuICAgICAgICB0aGlzLl9ib2R5VGV4dCA9IGJvZHk7XG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYmxvYiAmJiBCbG9iLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlCbG9iID0gYm9keTtcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5mb3JtRGF0YSAmJiBGb3JtRGF0YS5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICB0aGlzLl9ib2R5Rm9ybURhdGEgPSBib2R5O1xuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LnNlYXJjaFBhcmFtcyAmJiBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5LnRvU3RyaW5nKCk7XG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYXJyYXlCdWZmZXIgJiYgc3VwcG9ydC5ibG9iICYmIGlzRGF0YVZpZXcoYm9keSkpIHtcbiAgICAgICAgdGhpcy5fYm9keUFycmF5QnVmZmVyID0gYnVmZmVyQ2xvbmUoYm9keS5idWZmZXIpO1xuICAgICAgICAvLyBJRSAxMC0xMSBjYW4ndCBoYW5kbGUgYSBEYXRhVmlldyBib2R5LlxuICAgICAgICB0aGlzLl9ib2R5SW5pdCA9IG5ldyBCbG9iKFt0aGlzLl9ib2R5QXJyYXlCdWZmZXJdKTtcbiAgICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5hcnJheUJ1ZmZlciAmJiAoQXJyYXlCdWZmZXIucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkgfHwgaXNBcnJheUJ1ZmZlclZpZXcoYm9keSkpKSB7XG4gICAgICAgIHRoaXMuX2JvZHlBcnJheUJ1ZmZlciA9IGJ1ZmZlckNsb25lKGJvZHkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5ID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGJvZHkpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCAndGV4dC9wbGFpbjtjaGFyc2V0PVVURi04Jyk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUJsb2IgJiYgdGhpcy5fYm9keUJsb2IudHlwZSkge1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsIHRoaXMuX2JvZHlCbG9iLnR5cGUpO1xuICAgICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuc2VhcmNoUGFyYW1zICYmIFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmIChzdXBwb3J0LmJsb2IpIHtcbiAgICAgIHRoaXMuYmxvYiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKTtcbiAgICAgICAgaWYgKHJlamVjdGVkKSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdGVkXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fYm9keUJsb2IpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlCbG9iKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3RoaXMuX2JvZHlBcnJheUJ1ZmZlcl0pKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlGb3JtRGF0YSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY291bGQgbm90IHJlYWQgRm9ybURhdGEgYm9keSBhcyBibG9iJylcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFt0aGlzLl9ib2R5VGV4dF0pKVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB0aGlzLmFycmF5QnVmZmVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpIHtcbiAgICAgICAgICByZXR1cm4gY29uc3VtZWQodGhpcykgfHwgUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcilcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5ibG9iKCkudGhlbihyZWFkQmxvYkFzQXJyYXlCdWZmZXIpXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgdGhpcy50ZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKTtcbiAgICAgIGlmIChyZWplY3RlZCkge1xuICAgICAgICByZXR1cm4gcmVqZWN0ZWRcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2JvZHlCbG9iKSB7XG4gICAgICAgIHJldHVybiByZWFkQmxvYkFzVGV4dCh0aGlzLl9ib2R5QmxvYilcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVhZEFycmF5QnVmZmVyQXNUZXh0KHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikpXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlGb3JtRGF0YSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCByZWFkIEZvcm1EYXRhIGJvZHkgYXMgdGV4dCcpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlUZXh0KVxuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAoc3VwcG9ydC5mb3JtRGF0YSkge1xuICAgICAgdGhpcy5mb3JtRGF0YSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50ZXh0KCkudGhlbihkZWNvZGUpXG4gICAgICB9O1xuICAgIH1cblxuICAgIHRoaXMuanNvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oSlNPTi5wYXJzZSlcbiAgICB9O1xuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIC8vIEhUVFAgbWV0aG9kcyB3aG9zZSBjYXBpdGFsaXphdGlvbiBzaG91bGQgYmUgbm9ybWFsaXplZFxuICB2YXIgbWV0aG9kcyA9IFsnREVMRVRFJywgJ0dFVCcsICdIRUFEJywgJ09QVElPTlMnLCAnUE9TVCcsICdQVVQnXTtcblxuICBmdW5jdGlvbiBub3JtYWxpemVNZXRob2QobWV0aG9kKSB7XG4gICAgdmFyIHVwY2FzZWQgPSBtZXRob2QudG9VcHBlckNhc2UoKTtcbiAgICByZXR1cm4gbWV0aG9kcy5pbmRleE9mKHVwY2FzZWQpID4gLTEgPyB1cGNhc2VkIDogbWV0aG9kXG4gIH1cblxuICBmdW5jdGlvbiBSZXF1ZXN0KGlucHV0LCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgdmFyIGJvZHkgPSBvcHRpb25zLmJvZHk7XG5cbiAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBSZXF1ZXN0KSB7XG4gICAgICBpZiAoaW5wdXQuYm9keVVzZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQWxyZWFkeSByZWFkJylcbiAgICAgIH1cbiAgICAgIHRoaXMudXJsID0gaW5wdXQudXJsO1xuICAgICAgdGhpcy5jcmVkZW50aWFscyA9IGlucHV0LmNyZWRlbnRpYWxzO1xuICAgICAgaWYgKCFvcHRpb25zLmhlYWRlcnMpIHtcbiAgICAgICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMoaW5wdXQuaGVhZGVycyk7XG4gICAgICB9XG4gICAgICB0aGlzLm1ldGhvZCA9IGlucHV0Lm1ldGhvZDtcbiAgICAgIHRoaXMubW9kZSA9IGlucHV0Lm1vZGU7XG4gICAgICB0aGlzLnNpZ25hbCA9IGlucHV0LnNpZ25hbDtcbiAgICAgIGlmICghYm9keSAmJiBpbnB1dC5fYm9keUluaXQgIT0gbnVsbCkge1xuICAgICAgICBib2R5ID0gaW5wdXQuX2JvZHlJbml0O1xuICAgICAgICBpbnB1dC5ib2R5VXNlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudXJsID0gU3RyaW5nKGlucHV0KTtcbiAgICB9XG5cbiAgICB0aGlzLmNyZWRlbnRpYWxzID0gb3B0aW9ucy5jcmVkZW50aWFscyB8fCB0aGlzLmNyZWRlbnRpYWxzIHx8ICdzYW1lLW9yaWdpbic7XG4gICAgaWYgKG9wdGlvbnMuaGVhZGVycyB8fCAhdGhpcy5oZWFkZXJzKSB7XG4gICAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhvcHRpb25zLmhlYWRlcnMpO1xuICAgIH1cbiAgICB0aGlzLm1ldGhvZCA9IG5vcm1hbGl6ZU1ldGhvZChvcHRpb25zLm1ldGhvZCB8fCB0aGlzLm1ldGhvZCB8fCAnR0VUJyk7XG4gICAgdGhpcy5tb2RlID0gb3B0aW9ucy5tb2RlIHx8IHRoaXMubW9kZSB8fCBudWxsO1xuICAgIHRoaXMuc2lnbmFsID0gb3B0aW9ucy5zaWduYWwgfHwgdGhpcy5zaWduYWw7XG4gICAgdGhpcy5yZWZlcnJlciA9IG51bGw7XG5cbiAgICBpZiAoKHRoaXMubWV0aG9kID09PSAnR0VUJyB8fCB0aGlzLm1ldGhvZCA9PT0gJ0hFQUQnKSAmJiBib2R5KSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdCb2R5IG5vdCBhbGxvd2VkIGZvciBHRVQgb3IgSEVBRCByZXF1ZXN0cycpXG4gICAgfVxuICAgIHRoaXMuX2luaXRCb2R5KGJvZHkpO1xuICB9XG5cbiAgUmVxdWVzdC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IFJlcXVlc3QodGhpcywge2JvZHk6IHRoaXMuX2JvZHlJbml0fSlcbiAgfTtcblxuICBmdW5jdGlvbiBkZWNvZGUoYm9keSkge1xuICAgIHZhciBmb3JtID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgYm9keVxuICAgICAgLnRyaW0oKVxuICAgICAgLnNwbGl0KCcmJylcbiAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uKGJ5dGVzKSB7XG4gICAgICAgIGlmIChieXRlcykge1xuICAgICAgICAgIHZhciBzcGxpdCA9IGJ5dGVzLnNwbGl0KCc9Jyk7XG4gICAgICAgICAgdmFyIG5hbWUgPSBzcGxpdC5zaGlmdCgpLnJlcGxhY2UoL1xcKy9nLCAnICcpO1xuICAgICAgICAgIHZhciB2YWx1ZSA9IHNwbGl0LmpvaW4oJz0nKS5yZXBsYWNlKC9cXCsvZywgJyAnKTtcbiAgICAgICAgICBmb3JtLmFwcGVuZChkZWNvZGVVUklDb21wb25lbnQobmFtZSksIGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICByZXR1cm4gZm9ybVxuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VIZWFkZXJzKHJhd0hlYWRlcnMpIHtcbiAgICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG4gICAgLy8gUmVwbGFjZSBpbnN0YW5jZXMgb2YgXFxyXFxuIGFuZCBcXG4gZm9sbG93ZWQgYnkgYXQgbGVhc3Qgb25lIHNwYWNlIG9yIGhvcml6b250YWwgdGFiIHdpdGggYSBzcGFjZVxuICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM3MjMwI3NlY3Rpb24tMy4yXG4gICAgdmFyIHByZVByb2Nlc3NlZEhlYWRlcnMgPSByYXdIZWFkZXJzLnJlcGxhY2UoL1xccj9cXG5bXFx0IF0rL2csICcgJyk7XG4gICAgcHJlUHJvY2Vzc2VkSGVhZGVycy5zcGxpdCgvXFxyP1xcbi8pLmZvckVhY2goZnVuY3Rpb24obGluZSkge1xuICAgICAgdmFyIHBhcnRzID0gbGluZS5zcGxpdCgnOicpO1xuICAgICAgdmFyIGtleSA9IHBhcnRzLnNoaWZ0KCkudHJpbSgpO1xuICAgICAgaWYgKGtleSkge1xuICAgICAgICB2YXIgdmFsdWUgPSBwYXJ0cy5qb2luKCc6JykudHJpbSgpO1xuICAgICAgICBoZWFkZXJzLmFwcGVuZChrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gaGVhZGVyc1xuICB9XG5cbiAgQm9keS5jYWxsKFJlcXVlc3QucHJvdG90eXBlKTtcblxuICBmdW5jdGlvbiBSZXNwb25zZShib2R5SW5pdCwgb3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cblxuICAgIHRoaXMudHlwZSA9ICdkZWZhdWx0JztcbiAgICB0aGlzLnN0YXR1cyA9IG9wdGlvbnMuc3RhdHVzID09PSB1bmRlZmluZWQgPyAyMDAgOiBvcHRpb25zLnN0YXR1cztcbiAgICB0aGlzLm9rID0gdGhpcy5zdGF0dXMgPj0gMjAwICYmIHRoaXMuc3RhdHVzIDwgMzAwO1xuICAgIHRoaXMuc3RhdHVzVGV4dCA9ICdzdGF0dXNUZXh0JyBpbiBvcHRpb25zID8gb3B0aW9ucy5zdGF0dXNUZXh0IDogJ09LJztcbiAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhvcHRpb25zLmhlYWRlcnMpO1xuICAgIHRoaXMudXJsID0gb3B0aW9ucy51cmwgfHwgJyc7XG4gICAgdGhpcy5faW5pdEJvZHkoYm9keUluaXQpO1xuICB9XG5cbiAgQm9keS5jYWxsKFJlc3BvbnNlLnByb3RvdHlwZSk7XG5cbiAgUmVzcG9uc2UucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZSh0aGlzLl9ib2R5SW5pdCwge1xuICAgICAgc3RhdHVzOiB0aGlzLnN0YXR1cyxcbiAgICAgIHN0YXR1c1RleHQ6IHRoaXMuc3RhdHVzVGV4dCxcbiAgICAgIGhlYWRlcnM6IG5ldyBIZWFkZXJzKHRoaXMuaGVhZGVycyksXG4gICAgICB1cmw6IHRoaXMudXJsXG4gICAgfSlcbiAgfTtcblxuICBSZXNwb25zZS5lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciByZXNwb25zZSA9IG5ldyBSZXNwb25zZShudWxsLCB7c3RhdHVzOiAwLCBzdGF0dXNUZXh0OiAnJ30pO1xuICAgIHJlc3BvbnNlLnR5cGUgPSAnZXJyb3InO1xuICAgIHJldHVybiByZXNwb25zZVxuICB9O1xuXG4gIHZhciByZWRpcmVjdFN0YXR1c2VzID0gWzMwMSwgMzAyLCAzMDMsIDMwNywgMzA4XTtcblxuICBSZXNwb25zZS5yZWRpcmVjdCA9IGZ1bmN0aW9uKHVybCwgc3RhdHVzKSB7XG4gICAgaWYgKHJlZGlyZWN0U3RhdHVzZXMuaW5kZXhPZihzdGF0dXMpID09PSAtMSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0ludmFsaWQgc3RhdHVzIGNvZGUnKVxuICAgIH1cblxuICAgIHJldHVybiBuZXcgUmVzcG9uc2UobnVsbCwge3N0YXR1czogc3RhdHVzLCBoZWFkZXJzOiB7bG9jYXRpb246IHVybH19KVxuICB9O1xuXG4gIGV4cG9ydHMuRE9NRXhjZXB0aW9uID0gc2VsZi5ET01FeGNlcHRpb247XG4gIHRyeSB7XG4gICAgbmV3IGV4cG9ydHMuRE9NRXhjZXB0aW9uKCk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGV4cG9ydHMuRE9NRXhjZXB0aW9uID0gZnVuY3Rpb24obWVzc2FnZSwgbmFtZSkge1xuICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICB2YXIgZXJyb3IgPSBFcnJvcihtZXNzYWdlKTtcbiAgICAgIHRoaXMuc3RhY2sgPSBlcnJvci5zdGFjaztcbiAgICB9O1xuICAgIGV4cG9ydHMuRE9NRXhjZXB0aW9uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKTtcbiAgICBleHBvcnRzLkRPTUV4Y2VwdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBleHBvcnRzLkRPTUV4Y2VwdGlvbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZldGNoKGlucHV0LCBpbml0KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIHJlcXVlc3QgPSBuZXcgUmVxdWVzdChpbnB1dCwgaW5pdCk7XG5cbiAgICAgIGlmIChyZXF1ZXN0LnNpZ25hbCAmJiByZXF1ZXN0LnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgIHJldHVybiByZWplY3QobmV3IGV4cG9ydHMuRE9NRXhjZXB0aW9uKCdBYm9ydGVkJywgJ0Fib3J0RXJyb3InKSlcbiAgICAgIH1cblxuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgICBmdW5jdGlvbiBhYm9ydFhocigpIHtcbiAgICAgICAgeGhyLmFib3J0KCk7XG4gICAgICB9XG5cbiAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgc3RhdHVzOiB4aHIuc3RhdHVzLFxuICAgICAgICAgIHN0YXR1c1RleHQ6IHhoci5zdGF0dXNUZXh0LFxuICAgICAgICAgIGhlYWRlcnM6IHBhcnNlSGVhZGVycyh4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkgfHwgJycpXG4gICAgICAgIH07XG4gICAgICAgIG9wdGlvbnMudXJsID0gJ3Jlc3BvbnNlVVJMJyBpbiB4aHIgPyB4aHIucmVzcG9uc2VVUkwgOiBvcHRpb25zLmhlYWRlcnMuZ2V0KCdYLVJlcXVlc3QtVVJMJyk7XG4gICAgICAgIHZhciBib2R5ID0gJ3Jlc3BvbnNlJyBpbiB4aHIgPyB4aHIucmVzcG9uc2UgOiB4aHIucmVzcG9uc2VUZXh0O1xuICAgICAgICByZXNvbHZlKG5ldyBSZXNwb25zZShib2R5LCBvcHRpb25zKSk7XG4gICAgICB9O1xuXG4gICAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QobmV3IFR5cGVFcnJvcignTmV0d29yayByZXF1ZXN0IGZhaWxlZCcpKTtcbiAgICAgIH07XG5cbiAgICAgIHhoci5vbnRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnKSk7XG4gICAgICB9O1xuXG4gICAgICB4aHIub25hYm9ydCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZWplY3QobmV3IGV4cG9ydHMuRE9NRXhjZXB0aW9uKCdBYm9ydGVkJywgJ0Fib3J0RXJyb3InKSk7XG4gICAgICB9O1xuXG4gICAgICB4aHIub3BlbihyZXF1ZXN0Lm1ldGhvZCwgcmVxdWVzdC51cmwsIHRydWUpO1xuXG4gICAgICBpZiAocmVxdWVzdC5jcmVkZW50aWFscyA9PT0gJ2luY2x1ZGUnKSB7XG4gICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChyZXF1ZXN0LmNyZWRlbnRpYWxzID09PSAnb21pdCcpIHtcbiAgICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoJ3Jlc3BvbnNlVHlwZScgaW4geGhyICYmIHN1cHBvcnQuYmxvYikge1xuICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2Jsb2InO1xuICAgICAgfVxuXG4gICAgICByZXF1ZXN0LmhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihuYW1lLCB2YWx1ZSk7XG4gICAgICB9KTtcblxuICAgICAgaWYgKHJlcXVlc3Quc2lnbmFsKSB7XG4gICAgICAgIHJlcXVlc3Quc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgYWJvcnRYaHIpO1xuXG4gICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAvLyBET05FIChzdWNjZXNzIG9yIGZhaWx1cmUpXG4gICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7XG4gICAgICAgICAgICByZXF1ZXN0LnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIGFib3J0WGhyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHhoci5zZW5kKHR5cGVvZiByZXF1ZXN0Ll9ib2R5SW5pdCA9PT0gJ3VuZGVmaW5lZCcgPyBudWxsIDogcmVxdWVzdC5fYm9keUluaXQpO1xuICAgIH0pXG4gIH1cblxuICBmZXRjaC5wb2x5ZmlsbCA9IHRydWU7XG5cbiAgaWYgKCFzZWxmLmZldGNoKSB7XG4gICAgc2VsZi5mZXRjaCA9IGZldGNoO1xuICAgIHNlbGYuSGVhZGVycyA9IEhlYWRlcnM7XG4gICAgc2VsZi5SZXF1ZXN0ID0gUmVxdWVzdDtcbiAgICBzZWxmLlJlc3BvbnNlID0gUmVzcG9uc2U7XG4gIH1cblxuICBleHBvcnRzLkhlYWRlcnMgPSBIZWFkZXJzO1xuICBleHBvcnRzLlJlcXVlc3QgPSBSZXF1ZXN0O1xuICBleHBvcnRzLlJlc3BvbnNlID0gUmVzcG9uc2U7XG4gIGV4cG9ydHMuZmV0Y2ggPSBmZXRjaDtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG4gIHJldHVybiBleHBvcnRzO1xuXG59KHt9KSk7XG59KShfX3NlbGZfXyk7XG5fX3NlbGZfXy5mZXRjaC5wb255ZmlsbCA9IHRydWU7XG4vLyBSZW1vdmUgXCJwb2x5ZmlsbFwiIHByb3BlcnR5IGFkZGVkIGJ5IHdoYXR3Zy1mZXRjaFxuZGVsZXRlIF9fc2VsZl9fLmZldGNoLnBvbHlmaWxsO1xuLy8gQ2hvb3NlIGJldHdlZW4gbmF0aXZlIGltcGxlbWVudGF0aW9uIChnbG9iYWwpIG9yIGN1c3RvbSBpbXBsZW1lbnRhdGlvbiAoX19zZWxmX18pXG4vLyB2YXIgY3R4ID0gZ2xvYmFsLmZldGNoID8gZ2xvYmFsIDogX19zZWxmX187XG52YXIgY3R4ID0gX19zZWxmX187IC8vIHRoaXMgbGluZSBkaXNhYmxlIHNlcnZpY2Ugd29ya2VyIHN1cHBvcnQgdGVtcG9yYXJpbHlcbmV4cG9ydHMgPSBjdHguZmV0Y2ggLy8gVG8gZW5hYmxlOiBpbXBvcnQgZmV0Y2ggZnJvbSAnY3Jvc3MtZmV0Y2gnXG5leHBvcnRzLmRlZmF1bHQgPSBjdHguZmV0Y2ggLy8gRm9yIFR5cGVTY3JpcHQgY29uc3VtZXJzIHdpdGhvdXQgZXNNb2R1bGVJbnRlcm9wLlxuZXhwb3J0cy5mZXRjaCA9IGN0eC5mZXRjaCAvLyBUbyBlbmFibGU6IGltcG9ydCB7ZmV0Y2h9IGZyb20gJ2Nyb3NzLWZldGNoJ1xuZXhwb3J0cy5IZWFkZXJzID0gY3R4LkhlYWRlcnNcbmV4cG9ydHMuUmVxdWVzdCA9IGN0eC5SZXF1ZXN0XG5leHBvcnRzLlJlc3BvbnNlID0gY3R4LlJlc3BvbnNlXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNcbiIsImV4cG9ydCBpbnRlcmZhY2UgQWRtaW5MZXZlbE9iamVjdCB7XG4gIHJlYWRvbmx5IGxldmVsOiBudW1iZXI7XG4gIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcbiAgcmVhZG9ubHkgY29kZT86IHN0cmluZztcbn1cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNoYWRvd1xuZXhwb3J0IGVudW0gQURNSU5fTEVWRUxfQ09ERVMge1xuICBTVEFURV9DT0RFID0gMSxcbiAgQ09VTlRZX0NPREUgPSAyLFxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBZG1pbkxldmVsIHtcbiAgcHJpdmF0ZSByZWFkb25seSBsZXZlbDogbnVtYmVyO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgY29kZT86IHN0cmluZztcblxuICBwcml2YXRlIGNvbnN0cnVjdG9yKHsgbGV2ZWwsIG5hbWUsIGNvZGUgfTogQWRtaW5MZXZlbE9iamVjdCkge1xuICAgIHRoaXMubGV2ZWwgPSBsZXZlbDtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMuY29kZSA9IGNvZGU7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGNyZWF0ZShvYmplY3Q6IEFkbWluTGV2ZWxPYmplY3QpOiBBZG1pbkxldmVsIHtcbiAgICByZXR1cm4gbmV3IHRoaXMob2JqZWN0KTtcbiAgfVxuXG4gIHB1YmxpYyB0b09iamVjdCgpOiBBZG1pbkxldmVsT2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgbGV2ZWw6IHRoaXMubGV2ZWwsXG4gICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICBjb2RlOiB0aGlzLmNvZGUsXG4gICAgfTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRMZXZlbCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmxldmVsO1xuICB9XG5cbiAgcHVibGljIGdldE5hbWUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5uYW1lO1xuICB9XG5cbiAgcHVibGljIGdldENvZGUoKTogdW5kZWZpbmVkIHwgc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5jb2RlO1xuICB9XG59XG4iLCJpbXBvcnQgZmV0Y2ggZnJvbSBcImNyb3NzLWZldGNoXCI7XG5pbXBvcnQgeyBFcnJvckNhbGxiYWNrIH0gZnJvbSBcInByb3ZpZGVyXCI7XG5pbXBvcnQgeyBSZXNwb25zZUVycm9yIH0gZnJvbSBcImVycm9yXCI7XG5pbXBvcnQgeyBpc0Jyb3dzZXIsIGZpbHRlclVuZGVmaW5lZE9iamVjdFZhbHVlcyB9IGZyb20gXCJ1dGlsc1wiO1xuaW1wb3J0IHsgUGFydGlhbFNvbWUgfSBmcm9tIFwidHlwZXNcIjtcblxuZXhwb3J0IGludGVyZmFjZSBFeHRlcm5hbExvYWRlck9wdGlvbnMge1xuICByZWFkb25seSBwcm90b2NvbDogc3RyaW5nO1xuICByZWFkb25seSBob3N0Pzogc3RyaW5nO1xuICByZWFkb25seSBwYXRobmFtZT86IHN0cmluZztcbiAgcmVhZG9ubHkgbWV0aG9kOiBcIkdFVFwiIHwgXCJQT1NUXCI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXh0ZXJuYWxMb2FkZXJCb2R5IHtcbiAgW3BhcmFtOiBzdHJpbmddOiBFeHRlcm5hbExvYWRlckJvZHkgfCBzdHJpbmcgfCBudW1iZXIgfCB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXh0ZXJuYWxMb2FkZXJQYXJhbXMge1xuICBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAganNvbnBDYWxsYmFjaz86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFeHRlcm5hbExvYWRlckhlYWRlcnMge1xuICBbaGVhZGVyOiBzdHJpbmddOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG59XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG50eXBlIFJlc3BvbnNlQ2FsbGJhY2sgPSAocmVzcG9uc2U6IGFueSkgPT4gdm9pZDtcblxuZXhwb3J0IGludGVyZmFjZSBFeHRlcm5hbExvYWRlckludGVyZmFjZSB7XG4gIHNldE9wdGlvbnMob3B0aW9uczogUGFydGlhbFNvbWU8RXh0ZXJuYWxMb2FkZXJPcHRpb25zLCBcIm1ldGhvZFwiPik6IHZvaWQ7XG4gIGdldE9wdGlvbnMoKTogRXh0ZXJuYWxMb2FkZXJPcHRpb25zO1xuICBleGVjdXRlUmVxdWVzdChcbiAgICBwYXJhbXM6IEV4dGVybmFsTG9hZGVyUGFyYW1zLFxuICAgIGNhbGxiYWNrOiBSZXNwb25zZUNhbGxiYWNrLFxuICAgIGhlYWRlcnM/OiBFeHRlcm5hbExvYWRlckhlYWRlcnMsXG4gICAgYm9keT86IEV4dGVybmFsTG9hZGVyQm9keSxcbiAgICBlcnJvckNhbGxiYWNrPzogRXJyb3JDYWxsYmFja1xuICApOiB2b2lkO1xufVxuXG5jb25zdCBkZWZhdWx0T3B0aW9uczogRXh0ZXJuYWxMb2FkZXJPcHRpb25zID0ge1xuICBwcm90b2NvbDogXCJodHRwXCIsXG4gIG1ldGhvZDogXCJHRVRcIixcbn07XG5cbi8qKlxuICogTG9hZCBkYXRhIGZyb20gZXh0ZXJuYWwgZ2VvY29kaW5nIGVuZ2luZXMuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEV4dGVybmFsTG9hZGVyIGltcGxlbWVudHMgRXh0ZXJuYWxMb2FkZXJJbnRlcmZhY2Uge1xuICBwcml2YXRlIG9wdGlvbnM6IEV4dGVybmFsTG9hZGVyT3B0aW9ucyA9IGRlZmF1bHRPcHRpb25zO1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihcbiAgICBvcHRpb25zOiBQYXJ0aWFsU29tZTxFeHRlcm5hbExvYWRlck9wdGlvbnMsIFwibWV0aG9kXCI+ID0gZGVmYXVsdE9wdGlvbnNcbiAgKSB7XG4gICAgdGhpcy5zZXRPcHRpb25zKG9wdGlvbnMpO1xuICB9XG5cbiAgcHVibGljIHNldE9wdGlvbnMoXG4gICAgb3B0aW9uczogUGFydGlhbFNvbWU8RXh0ZXJuYWxMb2FkZXJPcHRpb25zLCBcIm1ldGhvZFwiPlxuICApOiB2b2lkIHtcbiAgICB0aGlzLm9wdGlvbnMgPSB7IC4uLmRlZmF1bHRPcHRpb25zLCAuLi5vcHRpb25zIH07XG4gIH1cblxuICBwdWJsaWMgZ2V0T3B0aW9ucygpOiBFeHRlcm5hbExvYWRlck9wdGlvbnMge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnM7XG4gIH1cblxuICBwdWJsaWMgZXhlY3V0ZVJlcXVlc3QoXG4gICAgcGFyYW1zOiBFeHRlcm5hbExvYWRlclBhcmFtcyxcbiAgICBjYWxsYmFjazogUmVzcG9uc2VDYWxsYmFjayxcbiAgICBleHRlcm5hbExvYWRlckhlYWRlcnM/OiBFeHRlcm5hbExvYWRlckhlYWRlcnMsXG4gICAgYm9keT86IEV4dGVybmFsTG9hZGVyQm9keSxcbiAgICBlcnJvckNhbGxiYWNrPzogRXJyb3JDYWxsYmFja1xuICApOiB2b2lkIHtcbiAgICBjb25zdCB7IHByb3RvY29sLCBob3N0LCBwYXRobmFtZSwgbWV0aG9kIH0gPSB0aGlzLm9wdGlvbnM7XG5cbiAgICBpZiAoIWhvc3QpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkEgaG9zdCBpcyByZXF1aXJlZCBmb3IgdGhlIGV4dGVybmFsIGxvYWRlci5cIik7XG4gICAgfVxuICAgIGlmICghcGF0aG5hbWUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkEgcGF0aG5hbWUgaXMgcmVxdWlyZWQgZm9yIHRoZSBleHRlcm5hbCBsb2FkZXIuXCIpO1xuICAgIH1cblxuICAgIGNvbnN0IHJlcXVlc3RVcmwgPSBuZXcgVVJMKGAke3Byb3RvY29sfTovLyR7aG9zdH0vJHtwYXRobmFtZX1gKTtcblxuICAgIGNvbnN0IHsganNvbnBDYWxsYmFjaywgLi4ucmVxdWVzdFBhcmFtcyB9ID0gcGFyYW1zO1xuXG4gICAgY29uc3QgZmlsdGVyZWRSZXF1ZXN0UGFyYW1zID0gZmlsdGVyVW5kZWZpbmVkT2JqZWN0VmFsdWVzKHJlcXVlc3RQYXJhbXMpO1xuICAgIE9iamVjdC5rZXlzKGZpbHRlcmVkUmVxdWVzdFBhcmFtcykuZm9yRWFjaCgocGFyYW1LZXkpID0+XG4gICAgICByZXF1ZXN0VXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoXG4gICAgICAgIHBhcmFtS2V5LFxuICAgICAgICBmaWx0ZXJlZFJlcXVlc3RQYXJhbXNbcGFyYW1LZXldID8/IFwiXCJcbiAgICAgIClcbiAgICApO1xuXG4gICAgaWYgKGpzb25wQ2FsbGJhY2spIHtcbiAgICAgIEV4dGVybmFsTG9hZGVyLnJ1bkpzb25wQ2FsbGJhY2socmVxdWVzdFVybCwgY2FsbGJhY2ssIGpzb25wQ2FsbGJhY2spO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGhlYWRlcnMgPSBmaWx0ZXJVbmRlZmluZWRPYmplY3RWYWx1ZXMoZXh0ZXJuYWxMb2FkZXJIZWFkZXJzIHx8IHt9KTtcbiAgICBmZXRjaChyZXF1ZXN0VXJsLnRvU3RyaW5nKCksIHtcbiAgICAgIGhlYWRlcnMsXG4gICAgICBtZXRob2QsXG4gICAgICBib2R5OiBtZXRob2QgPT09IFwiUE9TVFwiID8gSlNPTi5zdHJpbmdpZnkoYm9keSkgOiB1bmRlZmluZWQsXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgIHRocm93IG5ldyBSZXNwb25zZUVycm9yKFxuICAgICAgICAgICAgYFJlY2VpdmVkIEhUVFAgc3RhdHVzIGNvZGUgJHtyZXNwb25zZS5zdGF0dXN9IHdoZW4gYXR0ZW1wdGluZyBnZW9jb2RpbmcgcmVxdWVzdC5gLFxuICAgICAgICAgICAgcmVzcG9uc2VcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICB9KVxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgIC50aGVuKChkYXRhOiBhbnkpID0+IGNhbGxiYWNrKGRhdGEpKVxuICAgICAgLmNhdGNoKChlcnJvcjogRXJyb3IgfCBSZXNwb25zZUVycm9yKSA9PiB7XG4gICAgICAgIGlmIChlcnJvckNhbGxiYWNrICYmIGVycm9yIGluc3RhbmNlb2YgUmVzcG9uc2VFcnJvcikge1xuICAgICAgICAgIGVycm9yQ2FsbGJhY2soZXJyb3IpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIHJ1bkpzb25wQ2FsbGJhY2soXG4gICAgcmVxdWVzdFVybDogVVJMLFxuICAgIGNhbGxiYWNrOiBSZXNwb25zZUNhbGxiYWNrLFxuICAgIGpzb25wQ2FsbGJhY2s6IHN0cmluZ1xuICApOiB2b2lkIHtcbiAgICBpZiAoIWlzQnJvd3NlcigpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdcImpzb25wQ2FsbGJhY2tcIiBwYXJhbWV0ZXIgY2FuIG9ubHkgYmUgdXNlZCBpbiBhIGJyb3dzZXIgZW52aXJvbm1lbnQuJ1xuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXF1ZXN0VXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoXG4gICAgICBqc29ucENhbGxiYWNrLFxuICAgICAgRXh0ZXJuYWxMb2FkZXIuZ2VuZXJhdGVKc29ucENhbGxiYWNrKGNhbGxiYWNrKVxuICAgICk7XG5cbiAgICAvLyBDcmVhdGUgYSBuZXcgc2NyaXB0IGVsZW1lbnQuXG4gICAgY29uc3Qgc2NyaXB0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XG5cbiAgICAvLyBTZXQgaXRzIHNvdXJjZSB0byB0aGUgSlNPTlAgQVBJLlxuICAgIHNjcmlwdEVsZW1lbnQuc3JjID0gcmVxdWVzdFVybC50b1N0cmluZygpO1xuXG4gICAgLy8gU3RpY2sgdGhlIHNjcmlwdCBlbGVtZW50IGluIHRoZSBwYWdlIDxoZWFkPi5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF0uYXBwZW5kQ2hpbGQoc2NyaXB0RWxlbWVudCk7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGVzIHJhbmRvbWx5LW5hbWVkIGZ1bmN0aW9uIHRvIHVzZSBhcyBhIGNhbGxiYWNrIGZvciBKU09OUCByZXF1ZXN0cy5cbiAgICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vT3NjYXJHb2Rzb24vSlNPTlBcbiAgICovXG4gIHByaXZhdGUgc3RhdGljIGdlbmVyYXRlSnNvbnBDYWxsYmFjayhjYWxsYmFjazogUmVzcG9uc2VDYWxsYmFjayk6IHN0cmluZyB7XG4gICAgLy8gVXNlIHRpbWVzdGFtcCArIGEgcmFuZG9tIGZhY3RvciB0byBhY2NvdW50IGZvciBhIGxvdCBvZiByZXF1ZXN0cyBpbiBhIHNob3J0IHRpbWUuXG4gICAgLy8gZS5nLiBqc29ucDEzOTQ1NzE3NzUxNjEuXG4gICAgY29uc3QgdGltZXN0YW1wID0gRGF0ZS5ub3coKTtcbiAgICBjb25zdCBnZW5lcmF0ZWRGdW5jdGlvbiA9IGBqc29ucCR7TWF0aC5yb3VuZChcbiAgICAgIHRpbWVzdGFtcCArIE1hdGgucmFuZG9tKCkgKiAxMDAwMDAxXG4gICAgKX1gO1xuXG4gICAgLy8gR2VuZXJhdGUgdGhlIHRlbXAgSlNPTlAgZnVuY3Rpb24gdXNpbmcgdGhlIG5hbWUgYWJvdmUuXG4gICAgLy8gRmlyc3QsIGNhbGwgdGhlIGZ1bmN0aW9uIHRoZSB1c2VyIGRlZmluZWQgaW4gdGhlIGNhbGxiYWNrIHBhcmFtIFtjYWxsYmFjayhqc29uKV0uXG4gICAgLy8gVGhlbiBkZWxldGUgdGhlIGdlbmVyYXRlZCBmdW5jdGlvbiBmcm9tIHRoZSB3aW5kb3cgW2RlbGV0ZSB3aW5kb3dbZ2VuZXJhdGVkRnVuY3Rpb25dXS5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICg8YW55PndpbmRvdylbZ2VuZXJhdGVkRnVuY3Rpb25dID0gKGpzb246IHN0cmluZykgPT4ge1xuICAgICAgY2FsbGJhY2soanNvbik7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgZGVsZXRlICg8YW55PndpbmRvdylbZ2VuZXJhdGVkRnVuY3Rpb25dO1xuICAgIH07XG5cbiAgICByZXR1cm4gZ2VuZXJhdGVkRnVuY3Rpb247XG4gIH1cbn1cbiIsIi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tdW5yZXNvbHZlZFxuaW1wb3J0IHR5cGUgeyBGZWF0dXJlIH0gZnJvbSBcImdlb2pzb25cIjtcbmltcG9ydCBHZW9jb2RlZCBmcm9tIFwiR2VvY29kZWRcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2VvSnNvbkR1bXBlciB7XG4gIHByaXZhdGUgc3RhdGljIGJhc2VHZW9Kc29uOiBGZWF0dXJlID0ge1xuICAgIHR5cGU6IFwiRmVhdHVyZVwiLFxuICAgIHByb3BlcnRpZXM6IHt9LFxuICAgIGdlb21ldHJ5OiB7XG4gICAgICB0eXBlOiBcIlBvaW50XCIsXG4gICAgICBjb29yZGluYXRlczogWzAsIDBdLFxuICAgIH0sXG4gIH07XG5cbiAgcHVibGljIHN0YXRpYyBkdW1wKGdlb2NvZGVkOiBHZW9jb2RlZCk6IEZlYXR1cmUge1xuICAgIGxldCByZXN1bHQgPSBHZW9Kc29uRHVtcGVyLmJhc2VHZW9Kc29uO1xuICAgIGNvbnN0IHtcbiAgICAgIGNvb3JkaW5hdGVzLFxuICAgICAgYm91bmRzLFxuICAgICAgYWRtaW5MZXZlbHMsXG4gICAgICAuLi5nZW9jb2RlZFByb3BlcnRpZXNcbiAgICB9ID0gZ2VvY29kZWQudG9PYmplY3QoKTtcblxuICAgIGxldCBwcm9wZXJ0aWVzOiB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgW3Byb3BlcnR5OiBzdHJpbmddOiBhbnk7XG4gICAgfSA9IHsgLi4uZ2VvY29kZWRQcm9wZXJ0aWVzIH07XG4gICAgT2JqZWN0LmtleXMocHJvcGVydGllcykuZm9yRWFjaChcbiAgICAgIChwcm9wZXJ0eSkgPT5cbiAgICAgICAgcHJvcGVydGllc1twcm9wZXJ0eV0gPT09IHVuZGVmaW5lZCAmJiBkZWxldGUgcHJvcGVydGllc1twcm9wZXJ0eV1cbiAgICApO1xuXG4gICAgaWYgKGFkbWluTGV2ZWxzICYmIGFkbWluTGV2ZWxzLmxlbmd0aCA+IDApIHtcbiAgICAgIHByb3BlcnRpZXMgPSB7XG4gICAgICAgIC4uLnByb3BlcnRpZXMsXG4gICAgICAgIGFkbWluTGV2ZWxzOiBhZG1pbkxldmVscy5tYXAoKGFkbWluTGV2ZWwpID0+IGFkbWluTGV2ZWwudG9PYmplY3QoKSksXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJlc3VsdCA9IHsgLi4ucmVzdWx0LCBwcm9wZXJ0aWVzIH07XG5cbiAgICBpZiAoY29vcmRpbmF0ZXMpIHtcbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgLi4ucmVzdWx0LFxuICAgICAgICAuLi57XG4gICAgICAgICAgZ2VvbWV0cnk6IHtcbiAgICAgICAgICAgIC4uLnJlc3VsdC5nZW9tZXRyeSxcbiAgICAgICAgICAgIHR5cGU6IFwiUG9pbnRcIixcbiAgICAgICAgICAgIGNvb3JkaW5hdGVzOiBbXG4gICAgICAgICAgICAgIHBhcnNlRmxvYXQoY29vcmRpbmF0ZXMubG9uZ2l0dWRlLnRvU3RyaW5nKCkpLFxuICAgICAgICAgICAgICBwYXJzZUZsb2F0KGNvb3JkaW5hdGVzLmxhdGl0dWRlLnRvU3RyaW5nKCkpLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAoYm91bmRzKSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIC4uLnJlc3VsdCxcbiAgICAgICAgYmJveDogW1xuICAgICAgICAgIHBhcnNlRmxvYXQoYm91bmRzLmxvbmdpdHVkZVNXLnRvU3RyaW5nKCkpLFxuICAgICAgICAgIHBhcnNlRmxvYXQoYm91bmRzLmxhdGl0dWRlU1cudG9TdHJpbmcoKSksXG4gICAgICAgICAgcGFyc2VGbG9hdChib3VuZHMubG9uZ2l0dWRlTkUudG9TdHJpbmcoKSksXG4gICAgICAgICAgcGFyc2VGbG9hdChib3VuZHMubGF0aXR1ZGVORS50b1N0cmluZygpKSxcbiAgICAgICAgXSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxufVxuIiwiaW1wb3J0IEFkbWluTGV2ZWwgZnJvbSBcIkFkbWluTGV2ZWxcIjtcbmltcG9ydCB7IEJvdW5kaW5nQm94LCBDb29yZGluYXRlcyB9IGZyb20gXCJ0eXBlc1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIEdlb2NvZGVkT2JqZWN0IHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgcmVhZG9ubHkgW3Byb3BlcnR5OiBzdHJpbmddOiBhbnk7XG4gIHJlYWRvbmx5IGNvb3JkaW5hdGVzPzogQ29vcmRpbmF0ZXM7XG4gIHJlYWRvbmx5IGJvdW5kcz86IEJvdW5kaW5nQm94O1xuICByZWFkb25seSBmb3JtYXR0ZWRBZGRyZXNzPzogc3RyaW5nO1xuICByZWFkb25seSBzdHJlZXROdW1iZXI/OiBzdHJpbmc7XG4gIHJlYWRvbmx5IHN0cmVldE5hbWU/OiBzdHJpbmc7XG4gIHJlYWRvbmx5IHN1YkxvY2FsaXR5Pzogc3RyaW5nO1xuICByZWFkb25seSBsb2NhbGl0eT86IHN0cmluZztcbiAgcmVhZG9ubHkgcG9zdGFsQ29kZT86IHN0cmluZztcbiAgcmVhZG9ubHkgcmVnaW9uPzogc3RyaW5nO1xuICByZWFkb25seSBhZG1pbkxldmVscz86IEFkbWluTGV2ZWxbXTtcbiAgcmVhZG9ubHkgY291bnRyeT86IHN0cmluZztcbiAgcmVhZG9ubHkgY291bnRyeUNvZGU/OiBzdHJpbmc7XG4gIHJlYWRvbmx5IHRpbWV6b25lPzogc3RyaW5nO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHZW9jb2RlZCB7XG4gIHByaXZhdGUgcmVhZG9ubHkgY29vcmRpbmF0ZXM/OiBDb29yZGluYXRlcztcblxuICBwcml2YXRlIHJlYWRvbmx5IGJvdW5kcz86IEJvdW5kaW5nQm94O1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgZm9ybWF0dGVkQWRkcmVzcz86IHN0cmluZztcblxuICBwcml2YXRlIHJlYWRvbmx5IHN0cmVldE51bWJlcj86IHN0cmluZztcblxuICBwcml2YXRlIHJlYWRvbmx5IHN0cmVldE5hbWU/OiBzdHJpbmc7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBzdWJMb2NhbGl0eT86IHN0cmluZztcblxuICBwcml2YXRlIHJlYWRvbmx5IGxvY2FsaXR5Pzogc3RyaW5nO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgcG9zdGFsQ29kZT86IHN0cmluZztcblxuICBwcml2YXRlIHJlYWRvbmx5IHJlZ2lvbj86IHN0cmluZztcblxuICBwcml2YXRlIHJlYWRvbmx5IGFkbWluTGV2ZWxzOiBBZG1pbkxldmVsW107XG5cbiAgcHJpdmF0ZSByZWFkb25seSBjb3VudHJ5Pzogc3RyaW5nO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgY291bnRyeUNvZGU/OiBzdHJpbmc7XG5cbiAgcHJpdmF0ZSByZWFkb25seSB0aW1lem9uZT86IHN0cmluZztcblxuICBwcm90ZWN0ZWQgY29uc3RydWN0b3Ioe1xuICAgIGNvb3JkaW5hdGVzLFxuICAgIGJvdW5kcyxcbiAgICBmb3JtYXR0ZWRBZGRyZXNzLFxuICAgIHN0cmVldE51bWJlcixcbiAgICBzdHJlZXROYW1lLFxuICAgIHN1YkxvY2FsaXR5LFxuICAgIGxvY2FsaXR5LFxuICAgIHBvc3RhbENvZGUsXG4gICAgcmVnaW9uLFxuICAgIGFkbWluTGV2ZWxzLFxuICAgIGNvdW50cnksXG4gICAgY291bnRyeUNvZGUsXG4gICAgdGltZXpvbmUsXG4gIH06IEdlb2NvZGVkT2JqZWN0KSB7XG4gICAgdGhpcy5jb29yZGluYXRlcyA9IGNvb3JkaW5hdGVzO1xuICAgIHRoaXMuYm91bmRzID0gYm91bmRzO1xuICAgIHRoaXMuZm9ybWF0dGVkQWRkcmVzcyA9IGZvcm1hdHRlZEFkZHJlc3M7XG4gICAgdGhpcy5zdHJlZXROdW1iZXIgPSBzdHJlZXROdW1iZXI7XG4gICAgdGhpcy5zdHJlZXROYW1lID0gc3RyZWV0TmFtZTtcbiAgICB0aGlzLnN1YkxvY2FsaXR5ID0gc3ViTG9jYWxpdHk7XG4gICAgdGhpcy5sb2NhbGl0eSA9IGxvY2FsaXR5O1xuICAgIHRoaXMucG9zdGFsQ29kZSA9IHBvc3RhbENvZGU7XG4gICAgdGhpcy5yZWdpb24gPSByZWdpb247XG4gICAgdGhpcy5hZG1pbkxldmVscyA9IGFkbWluTGV2ZWxzIHx8IFtdO1xuICAgIHRoaXMuY291bnRyeSA9IGNvdW50cnk7XG4gICAgdGhpcy5jb3VudHJ5Q29kZSA9IGNvdW50cnlDb2RlO1xuICAgIHRoaXMudGltZXpvbmUgPSB0aW1lem9uZTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgY3JlYXRlKG9iamVjdDogR2VvY29kZWRPYmplY3QpOiBHZW9jb2RlZCB7XG4gICAgcmV0dXJuIG5ldyB0aGlzKG9iamVjdCk7XG4gIH1cblxuICBwdWJsaWMgdG9PYmplY3QoKTogR2VvY29kZWRPYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICBjb29yZGluYXRlczogdGhpcy5jb29yZGluYXRlcyxcbiAgICAgIGJvdW5kczogdGhpcy5ib3VuZHMsXG4gICAgICBmb3JtYXR0ZWRBZGRyZXNzOiB0aGlzLmZvcm1hdHRlZEFkZHJlc3MsXG4gICAgICBzdHJlZXROdW1iZXI6IHRoaXMuc3RyZWV0TnVtYmVyLFxuICAgICAgc3RyZWV0TmFtZTogdGhpcy5zdHJlZXROYW1lLFxuICAgICAgc3ViTG9jYWxpdHk6IHRoaXMuc3ViTG9jYWxpdHksXG4gICAgICBsb2NhbGl0eTogdGhpcy5sb2NhbGl0eSxcbiAgICAgIHBvc3RhbENvZGU6IHRoaXMucG9zdGFsQ29kZSxcbiAgICAgIHJlZ2lvbjogdGhpcy5yZWdpb24sXG4gICAgICBhZG1pbkxldmVsczogdGhpcy5hZG1pbkxldmVscyxcbiAgICAgIGNvdW50cnk6IHRoaXMuY291bnRyeSxcbiAgICAgIGNvdW50cnlDb2RlOiB0aGlzLmNvdW50cnlDb2RlLFxuICAgICAgdGltZXpvbmU6IHRoaXMudGltZXpvbmUsXG4gICAgfTtcbiAgfVxuXG4gIHB1YmxpYyB3aXRoQm91bmRzKGJvdW5kczogQm91bmRpbmdCb3gpOiBHZW9jb2RlZCB7XG4gICAgcmV0dXJuICg8dHlwZW9mIEdlb2NvZGVkPnRoaXMuY29uc3RydWN0b3IpLmNyZWF0ZSh7XG4gICAgICAuLi50aGlzLnRvT2JqZWN0KCksXG4gICAgICBib3VuZHMsXG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgd2l0aENvb3JkaW5hdGVzKGNvb3JkaW5hdGVzOiBDb29yZGluYXRlcyk6IEdlb2NvZGVkIHtcbiAgICByZXR1cm4gKDx0eXBlb2YgR2VvY29kZWQ+dGhpcy5jb25zdHJ1Y3RvcikuY3JlYXRlKHtcbiAgICAgIC4uLnRoaXMudG9PYmplY3QoKSxcbiAgICAgIGNvb3JkaW5hdGVzLFxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGdldENvb3JkaW5hdGVzKCk6IHVuZGVmaW5lZCB8IENvb3JkaW5hdGVzIHtcbiAgICByZXR1cm4gdGhpcy5jb29yZGluYXRlcztcbiAgfVxuXG4gIHB1YmxpYyBnZXRCb3VuZHMoKTogdW5kZWZpbmVkIHwgQm91bmRpbmdCb3gge1xuICAgIHJldHVybiB0aGlzLmJvdW5kcztcbiAgfVxuXG4gIHB1YmxpYyBnZXRGb3JtYXR0ZWRBZGRyZXNzKCk6IHVuZGVmaW5lZCB8IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuZm9ybWF0dGVkQWRkcmVzcztcbiAgfVxuXG4gIHB1YmxpYyBnZXRTdHJlZXROdW1iZXIoKTogdW5kZWZpbmVkIHwgc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5zdHJlZXROdW1iZXI7XG4gIH1cblxuICBwdWJsaWMgZ2V0U3RyZWV0TmFtZSgpOiB1bmRlZmluZWQgfCBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLnN0cmVldE5hbWU7XG4gIH1cblxuICBwdWJsaWMgZ2V0U3ViTG9jYWxpdHkoKTogdW5kZWZpbmVkIHwgc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5zdWJMb2NhbGl0eTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRMb2NhbGl0eSgpOiB1bmRlZmluZWQgfCBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmxvY2FsaXR5O1xuICB9XG5cbiAgcHVibGljIGdldFBvc3RhbENvZGUoKTogdW5kZWZpbmVkIHwgc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5wb3N0YWxDb2RlO1xuICB9XG5cbiAgcHVibGljIGdldFJlZ2lvbigpOiB1bmRlZmluZWQgfCBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLnJlZ2lvbjtcbiAgfVxuXG4gIHB1YmxpYyBhZGRBZG1pbkxldmVsKGFkbWluTGV2ZWw6IEFkbWluTGV2ZWwpOiB2b2lkIHtcbiAgICB0aGlzLmFkbWluTGV2ZWxzLnB1c2goYWRtaW5MZXZlbCk7XG4gIH1cblxuICBwdWJsaWMgZ2V0QWRtaW5MZXZlbHMoKTogQWRtaW5MZXZlbFtdIHtcbiAgICByZXR1cm4gdGhpcy5hZG1pbkxldmVscztcbiAgfVxuXG4gIHB1YmxpYyBnZXRDb3VudHJ5KCk6IHVuZGVmaW5lZCB8IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuY291bnRyeTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRDb3VudHJ5Q29kZSgpOiB1bmRlZmluZWQgfCBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmNvdW50cnlDb2RlO1xuICB9XG5cbiAgcHVibGljIGdldFRpbWV6b25lKCk6IHVuZGVmaW5lZCB8IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMudGltZXpvbmU7XG4gIH1cbn1cbiIsImltcG9ydCB7XG4gIEJpbmdQcm92aWRlcixcbiAgQmluZ1Byb3ZpZGVyT3B0aW9uc0ludGVyZmFjZSxcbiAgQ2hhaW5Qcm92aWRlcixcbiAgQ2hhaW5Qcm92aWRlck9wdGlvbnNJbnRlcmZhY2UsXG4gIEdlb1BsdWdpblByb3ZpZGVyLFxuICBHb29nbGVNYXBzUHJvdmlkZXIsXG4gIEdvb2dsZU1hcHNQcm92aWRlck9wdGlvbnNJbnRlcmZhY2UsXG4gIExvY2F0aW9uSVFQcm92aWRlcixcbiAgTG9jYXRpb25JUVByb3ZpZGVyT3B0aW9uc0ludGVyZmFjZSxcbiAgTWFwYm94UHJvdmlkZXIsXG4gIE1hcGJveFByb3ZpZGVyT3B0aW9uc0ludGVyZmFjZSxcbiAgTWFwUXVlc3RQcm92aWRlcixcbiAgTWFwUXVlc3RQcm92aWRlck9wdGlvbnNJbnRlcmZhY2UsXG4gIE5vbWluYXRpbVByb3ZpZGVyLFxuICBOb21pbmF0aW1Qcm92aWRlck9wdGlvbnNJbnRlcmZhY2UsXG4gIE9wZW5DYWdlUHJvdmlkZXIsXG4gIE9wZW5DYWdlUHJvdmlkZXJPcHRpb25zSW50ZXJmYWNlLFxuICBZYW5kZXhQcm92aWRlcixcbiAgWWFuZGV4UHJvdmlkZXJPcHRpb25zSW50ZXJmYWNlLFxuICBQcm92aWRlck9wdGlvbnNJbnRlcmZhY2UsXG4gIGRlZmF1bHRCaW5nUHJvdmlkZXJPcHRpb25zLFxuICBkZWZhdWx0Q2hhaW5Qcm92aWRlck9wdGlvbnMsXG4gIGRlZmF1bHRMb2NhdGlvbklRUHJvdmlkZXJPcHRpb25zLFxuICBkZWZhdWx0TWFwYm94UHJvdmlkZXJPcHRpb25zLFxuICBkZWZhdWx0TWFwUXVlc3RQcm92aWRlck9wdGlvbnMsXG4gIGRlZmF1bHROb21pbmF0aW1Qcm92aWRlck9wdGlvbnMsXG4gIGRlZmF1bHRPcGVuQ2FnZVByb3ZpZGVyT3B0aW9ucyxcbiAgZGVmYXVsdFlhbmRleFByb3ZpZGVyT3B0aW9ucyxcbiAgZGVmYXVsdFByb3ZpZGVyT3B0aW9ucyxcbn0gZnJvbSBcInByb3ZpZGVyXCI7XG5pbXBvcnQgRXh0ZXJuYWxMb2FkZXIgZnJvbSBcIkV4dGVybmFsTG9hZGVyXCI7XG5cbmludGVyZmFjZSBQcm92aWRlck9wdGlvbkludGVyZmFjZSB7XG4gIHByb3ZpZGVyOlxuICAgIHwgXCJiaW5nXCJcbiAgICB8IFwiYmluZ21hcHNcIlxuICAgIHwgXCJjaGFpblwiXG4gICAgfCBcImdlb3BsdWdpblwiXG4gICAgfCBcImdvb2dsZVwiXG4gICAgfCBcImdvb2dsZW1hcHNcIlxuICAgIHwgXCJsb2NhdGlvbmlxXCJcbiAgICB8IFwibWFwYm94XCJcbiAgICB8IFwibWFwcXVlc3RcIlxuICAgIHwgXCJtaWNyb3NvZnRcIlxuICAgIHwgXCJub21pbmF0aW1cIlxuICAgIHwgXCJvcGVuY2FnZVwiXG4gICAgfCBcIm9wZW5zdHJlZXRtYXBcIlxuICAgIHwgXCJ5YW5kZXhcIjtcbn1cblxuaW50ZXJmYWNlIFByb3ZpZGVyRmFjdG9yeU9wdGlvbnNcbiAgZXh0ZW5kcyBQcm92aWRlck9wdGlvbnNJbnRlcmZhY2UsXG4gICAgUHJvdmlkZXJPcHRpb25JbnRlcmZhY2Uge31cblxuaW50ZXJmYWNlIENoYWluR2VvY29kZXJQcm92aWRlckZhY3RvcnlPcHRpb25zXG4gIGV4dGVuZHMgUHJvdmlkZXJPcHRpb25JbnRlcmZhY2UsXG4gICAgQ2hhaW5Qcm92aWRlck9wdGlvbnNJbnRlcmZhY2Uge1xuICBwcm92aWRlcjogXCJjaGFpblwiO1xufVxuXG5pbnRlcmZhY2UgQmluZ0dlb2NvZGVyUHJvdmlkZXJGYWN0b3J5T3B0aW9uc1xuICBleHRlbmRzIFByb3ZpZGVyT3B0aW9uSW50ZXJmYWNlLFxuICAgIEJpbmdQcm92aWRlck9wdGlvbnNJbnRlcmZhY2Uge1xuICBwcm92aWRlcjogXCJiaW5nXCIgfCBcImJpbmdtYXBzXCIgfCBcIm1pY3Jvc29mdFwiO1xufVxuXG5pbnRlcmZhY2UgR2VvUGx1Z2luR2VvY29kZXJQcm92aWRlckZhY3RvcnlPcHRpb25zXG4gIGV4dGVuZHMgUHJvdmlkZXJPcHRpb25JbnRlcmZhY2Uge1xuICBwcm92aWRlcjogXCJnZW9wbHVnaW5cIjtcbn1cblxuaW50ZXJmYWNlIEdvb2dsZU1hcHNHZW9jb2RlclByb3ZpZGVyRmFjdG9yeU9wdGlvbnNcbiAgZXh0ZW5kcyBQcm92aWRlck9wdGlvbkludGVyZmFjZSxcbiAgICBHb29nbGVNYXBzUHJvdmlkZXJPcHRpb25zSW50ZXJmYWNlIHtcbiAgcHJvdmlkZXI6IFwiZ29vZ2xlXCIgfCBcImdvb2dsZW1hcHNcIjtcbn1cblxuaW50ZXJmYWNlIExvY2F0aW9uSVFHZW9jb2RlclByb3ZpZGVyRmFjdG9yeU9wdGlvbnNcbiAgZXh0ZW5kcyBQcm92aWRlck9wdGlvbkludGVyZmFjZSxcbiAgICBMb2NhdGlvbklRUHJvdmlkZXJPcHRpb25zSW50ZXJmYWNlIHtcbiAgcHJvdmlkZXI6IFwibG9jYXRpb25pcVwiO1xufVxuXG5pbnRlcmZhY2UgTWFwYm94R2VvY29kZXJQcm92aWRlckZhY3RvcnlPcHRpb25zXG4gIGV4dGVuZHMgUHJvdmlkZXJPcHRpb25JbnRlcmZhY2UsXG4gICAgTWFwYm94UHJvdmlkZXJPcHRpb25zSW50ZXJmYWNlIHtcbiAgcHJvdmlkZXI6IFwibWFwYm94XCI7XG59XG5cbmludGVyZmFjZSBNYXBRdWVzdEdlb2NvZGVyUHJvdmlkZXJGYWN0b3J5T3B0aW9uc1xuICBleHRlbmRzIFByb3ZpZGVyT3B0aW9uSW50ZXJmYWNlLFxuICAgIE1hcFF1ZXN0UHJvdmlkZXJPcHRpb25zSW50ZXJmYWNlIHtcbiAgcHJvdmlkZXI6IFwibWFwcXVlc3RcIjtcbn1cblxuaW50ZXJmYWNlIE5vbWluYXRpbUdlb2NvZGVyUHJvdmlkZXJGYWN0b3J5T3B0aW9uc1xuICBleHRlbmRzIFByb3ZpZGVyT3B0aW9uSW50ZXJmYWNlLFxuICAgIE5vbWluYXRpbVByb3ZpZGVyT3B0aW9uc0ludGVyZmFjZSB7XG4gIHByb3ZpZGVyOiBcIm5vbWluYXRpbVwiIHwgXCJvcGVuc3RyZWV0bWFwXCI7XG59XG5cbmludGVyZmFjZSBPcGVuQ2FnZUdlb2NvZGVyUHJvdmlkZXJGYWN0b3J5T3B0aW9uc1xuICBleHRlbmRzIFByb3ZpZGVyT3B0aW9uSW50ZXJmYWNlLFxuICAgIE9wZW5DYWdlUHJvdmlkZXJPcHRpb25zSW50ZXJmYWNlIHtcbiAgcHJvdmlkZXI6IFwib3BlbmNhZ2VcIjtcbn1cblxuaW50ZXJmYWNlIFlhbmRleEdlb2NvZGVyUHJvdmlkZXJGYWN0b3J5T3B0aW9uc1xuICBleHRlbmRzIFByb3ZpZGVyT3B0aW9uSW50ZXJmYWNlLFxuICAgIFlhbmRleFByb3ZpZGVyT3B0aW9uc0ludGVyZmFjZSB7XG4gIHByb3ZpZGVyOiBcInlhbmRleFwiO1xufVxuXG5leHBvcnQgdHlwZSBHZW9jb2RlclByb3ZpZGVyRmFjdG9yeU9wdGlvbnMgPVxuICB8IFByb3ZpZGVyRmFjdG9yeU9wdGlvbnNcbiAgfCBDaGFpbkdlb2NvZGVyUHJvdmlkZXJGYWN0b3J5T3B0aW9uc1xuICB8IEJpbmdHZW9jb2RlclByb3ZpZGVyRmFjdG9yeU9wdGlvbnNcbiAgfCBHZW9QbHVnaW5HZW9jb2RlclByb3ZpZGVyRmFjdG9yeU9wdGlvbnNcbiAgfCBHb29nbGVNYXBzR2VvY29kZXJQcm92aWRlckZhY3RvcnlPcHRpb25zXG4gIHwgTG9jYXRpb25JUUdlb2NvZGVyUHJvdmlkZXJGYWN0b3J5T3B0aW9uc1xuICB8IE1hcGJveEdlb2NvZGVyUHJvdmlkZXJGYWN0b3J5T3B0aW9uc1xuICB8IE1hcFF1ZXN0R2VvY29kZXJQcm92aWRlckZhY3RvcnlPcHRpb25zXG4gIHwgTm9taW5hdGltR2VvY29kZXJQcm92aWRlckZhY3RvcnlPcHRpb25zXG4gIHwgT3BlbkNhZ2VHZW9jb2RlclByb3ZpZGVyRmFjdG9yeU9wdGlvbnNcbiAgfCBZYW5kZXhHZW9jb2RlclByb3ZpZGVyRmFjdG9yeU9wdGlvbnM7XG5cbmV4cG9ydCB0eXBlIEdlb2NvZGVyUHJvdmlkZXIgPVxuICB8IEJpbmdQcm92aWRlclxuICB8IENoYWluUHJvdmlkZXJcbiAgfCBHZW9QbHVnaW5Qcm92aWRlclxuICB8IEdvb2dsZU1hcHNQcm92aWRlclxuICB8IExvY2F0aW9uSVFQcm92aWRlclxuICB8IE1hcGJveFByb3ZpZGVyXG4gIHwgTWFwUXVlc3RQcm92aWRlclxuICB8IE5vbWluYXRpbVByb3ZpZGVyXG4gIHwgT3BlbkNhZ2VQcm92aWRlclxuICB8IFlhbmRleFByb3ZpZGVyO1xuXG5leHBvcnQgdHlwZSBHZW9jb2RlclByb3ZpZGVyQnlPcHRpb25zVHlwZTxcbiAgT1xuPiA9IE8gZXh0ZW5kcyBDaGFpbkdlb2NvZGVyUHJvdmlkZXJGYWN0b3J5T3B0aW9uc1xuICA/IENoYWluUHJvdmlkZXJcbiAgOiBPIGV4dGVuZHMgQmluZ0dlb2NvZGVyUHJvdmlkZXJGYWN0b3J5T3B0aW9uc1xuICA/IEJpbmdQcm92aWRlclxuICA6IE8gZXh0ZW5kcyBHZW9QbHVnaW5HZW9jb2RlclByb3ZpZGVyRmFjdG9yeU9wdGlvbnNcbiAgPyBHZW9QbHVnaW5Qcm92aWRlclxuICA6IE8gZXh0ZW5kcyBHb29nbGVNYXBzR2VvY29kZXJQcm92aWRlckZhY3RvcnlPcHRpb25zXG4gID8gR29vZ2xlTWFwc1Byb3ZpZGVyXG4gIDogTyBleHRlbmRzIExvY2F0aW9uSVFHZW9jb2RlclByb3ZpZGVyRmFjdG9yeU9wdGlvbnNcbiAgPyBMb2NhdGlvbklRUHJvdmlkZXJcbiAgOiBPIGV4dGVuZHMgTWFwYm94R2VvY29kZXJQcm92aWRlckZhY3RvcnlPcHRpb25zXG4gID8gTWFwYm94UHJvdmlkZXJcbiAgOiBPIGV4dGVuZHMgTWFwUXVlc3RHZW9jb2RlclByb3ZpZGVyRmFjdG9yeU9wdGlvbnNcbiAgPyBNYXBRdWVzdFByb3ZpZGVyXG4gIDogTyBleHRlbmRzIE5vbWluYXRpbUdlb2NvZGVyUHJvdmlkZXJGYWN0b3J5T3B0aW9uc1xuICA/IE5vbWluYXRpbVByb3ZpZGVyXG4gIDogTyBleHRlbmRzIE9wZW5DYWdlR2VvY29kZXJQcm92aWRlckZhY3RvcnlPcHRpb25zXG4gID8gT3BlbkNhZ2VQcm92aWRlclxuICA6IE8gZXh0ZW5kcyBZYW5kZXhHZW9jb2RlclByb3ZpZGVyRmFjdG9yeU9wdGlvbnNcbiAgPyBZYW5kZXhQcm92aWRlclxuICA6IEdlb2NvZGVyUHJvdmlkZXI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb3ZpZGVyRmFjdG9yeSB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIEdlb2NvZGVyIFByb3ZpZGVyIGluc3RhbmNlcy5cbiAgICogQHBhcmFtIG9wdGlvbnNcbiAgICogICBFaXRoZXIgYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSByZWdpc3RlcmVkIHByb3ZpZGVyLCBvciBhbiBvYmplY3Qgd2l0aCB0aGVcbiAgICogICBmb2xsb3dpbmcgc2V0dGluZ3MgZm9yIGluc3RpZ2F0aW5nIHByb3ZpZGVyczpcbiAgICogICAgIC0gcHJvdmlkZXI6IEEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgcmVnaXN0ZXJlZCBwcm92aWRlci5cbiAgICogQHJldHVyblxuICAgKiAgIEFuIG9iamVjdCBjb21wYXRpYmxlIHdpdGggUHJvdmlkZXJJbnRlcmZhY2UsIG9yIHVuZGVmaW5lZCBpZiB0aGVyZSdzIG5vdCBhXG4gICAqICAgcmVnaXN0ZXJlZCBwcm92aWRlci5cbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgY3JlYXRlUHJvdmlkZXI8TyBleHRlbmRzIEdlb2NvZGVyUHJvdmlkZXJGYWN0b3J5T3B0aW9ucz4oXG4gICAgb3B0aW9uczogc3RyaW5nIHwgT1xuICApOiBHZW9jb2RlclByb3ZpZGVyQnlPcHRpb25zVHlwZTxPPiB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3QgY3JlYXRlUHJvdmlkZXJPcHRpb25zID0ge1xuICAgICAgLi4uZGVmYXVsdFByb3ZpZGVyT3B0aW9ucyxcbiAgICAgIC4uLih0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIiA/IHsgcHJvdmlkZXI6IG9wdGlvbnMgfSA6IG9wdGlvbnMpLFxuICAgIH07XG5cbiAgICBjb25zdCBleHRlcm5hbExvYWRlciA9IG5ldyBFeHRlcm5hbExvYWRlcigpO1xuXG4gICAgY29uc3QgeyBwcm92aWRlciwgLi4ucHJvdmlkZXJPcHRpb25zIH0gPSBjcmVhdGVQcm92aWRlck9wdGlvbnM7XG4gICAgc3dpdGNoIChwcm92aWRlcikge1xuICAgICAgY2FzZSBcImJpbmdcIjpcbiAgICAgIGNhc2UgXCJiaW5nbWFwc1wiOlxuICAgICAgY2FzZSBcIm1pY3Jvc29mdFwiOlxuICAgICAgICByZXR1cm4gPEdlb2NvZGVyUHJvdmlkZXJCeU9wdGlvbnNUeXBlPE8+PihcbiAgICAgICAgICBuZXcgQmluZ1Byb3ZpZGVyKGV4dGVybmFsTG9hZGVyLCB7XG4gICAgICAgICAgICAuLi5kZWZhdWx0QmluZ1Byb3ZpZGVyT3B0aW9ucyxcbiAgICAgICAgICAgIC4uLnByb3ZpZGVyT3B0aW9ucyxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgY2FzZSBcImNoYWluXCI6XG4gICAgICAgIHJldHVybiA8R2VvY29kZXJQcm92aWRlckJ5T3B0aW9uc1R5cGU8Tz4+bmV3IENoYWluUHJvdmlkZXIoe1xuICAgICAgICAgIC4uLmRlZmF1bHRDaGFpblByb3ZpZGVyT3B0aW9ucyxcbiAgICAgICAgICAuLi5wcm92aWRlck9wdGlvbnMsXG4gICAgICAgIH0pO1xuICAgICAgY2FzZSBcImdlb3BsdWdpblwiOlxuICAgICAgICByZXR1cm4gPEdlb2NvZGVyUHJvdmlkZXJCeU9wdGlvbnNUeXBlPE8+PihcbiAgICAgICAgICBuZXcgR2VvUGx1Z2luUHJvdmlkZXIoZXh0ZXJuYWxMb2FkZXIsIHByb3ZpZGVyT3B0aW9ucylcbiAgICAgICAgKTtcbiAgICAgIGNhc2UgXCJnb29nbGVcIjpcbiAgICAgIGNhc2UgXCJnb29nbGVtYXBzXCI6XG4gICAgICAgIHJldHVybiA8R2VvY29kZXJQcm92aWRlckJ5T3B0aW9uc1R5cGU8Tz4+KFxuICAgICAgICAgIG5ldyBHb29nbGVNYXBzUHJvdmlkZXIoZXh0ZXJuYWxMb2FkZXIsIHByb3ZpZGVyT3B0aW9ucylcbiAgICAgICAgKTtcbiAgICAgIGNhc2UgXCJsb2NhdGlvbmlxXCI6XG4gICAgICAgIHJldHVybiA8R2VvY29kZXJQcm92aWRlckJ5T3B0aW9uc1R5cGU8Tz4+KFxuICAgICAgICAgIG5ldyBMb2NhdGlvbklRUHJvdmlkZXIoZXh0ZXJuYWxMb2FkZXIsIHtcbiAgICAgICAgICAgIC4uLmRlZmF1bHRMb2NhdGlvbklRUHJvdmlkZXJPcHRpb25zLFxuICAgICAgICAgICAgLi4ucHJvdmlkZXJPcHRpb25zLFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICBjYXNlIFwibWFwYm94XCI6XG4gICAgICAgIHJldHVybiA8R2VvY29kZXJQcm92aWRlckJ5T3B0aW9uc1R5cGU8Tz4+KFxuICAgICAgICAgIG5ldyBNYXBib3hQcm92aWRlcihleHRlcm5hbExvYWRlciwge1xuICAgICAgICAgICAgLi4uZGVmYXVsdE1hcGJveFByb3ZpZGVyT3B0aW9ucyxcbiAgICAgICAgICAgIC4uLnByb3ZpZGVyT3B0aW9ucyxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgY2FzZSBcIm1hcHF1ZXN0XCI6XG4gICAgICAgIHJldHVybiA8R2VvY29kZXJQcm92aWRlckJ5T3B0aW9uc1R5cGU8Tz4+KFxuICAgICAgICAgIG5ldyBNYXBRdWVzdFByb3ZpZGVyKGV4dGVybmFsTG9hZGVyLCB7XG4gICAgICAgICAgICAuLi5kZWZhdWx0TWFwUXVlc3RQcm92aWRlck9wdGlvbnMsXG4gICAgICAgICAgICAuLi5wcm92aWRlck9wdGlvbnMsXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIGNhc2UgXCJvcGVuc3RyZWV0bWFwXCI6XG4gICAgICBjYXNlIFwibm9taW5hdGltXCI6XG4gICAgICAgIHJldHVybiA8R2VvY29kZXJQcm92aWRlckJ5T3B0aW9uc1R5cGU8Tz4+KFxuICAgICAgICAgIG5ldyBOb21pbmF0aW1Qcm92aWRlcihleHRlcm5hbExvYWRlciwge1xuICAgICAgICAgICAgLi4uZGVmYXVsdE5vbWluYXRpbVByb3ZpZGVyT3B0aW9ucyxcbiAgICAgICAgICAgIC4uLnByb3ZpZGVyT3B0aW9ucyxcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgY2FzZSBcIm9wZW5jYWdlXCI6XG4gICAgICAgIHJldHVybiA8R2VvY29kZXJQcm92aWRlckJ5T3B0aW9uc1R5cGU8Tz4+KFxuICAgICAgICAgIG5ldyBPcGVuQ2FnZVByb3ZpZGVyKGV4dGVybmFsTG9hZGVyLCB7XG4gICAgICAgICAgICAuLi5kZWZhdWx0T3BlbkNhZ2VQcm92aWRlck9wdGlvbnMsXG4gICAgICAgICAgICAuLi5wcm92aWRlck9wdGlvbnMsXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIGNhc2UgXCJ5YW5kZXhcIjpcbiAgICAgICAgcmV0dXJuIDxHZW9jb2RlclByb3ZpZGVyQnlPcHRpb25zVHlwZTxPPj4oXG4gICAgICAgICAgbmV3IFlhbmRleFByb3ZpZGVyKGV4dGVybmFsTG9hZGVyLCB7XG4gICAgICAgICAgICAuLi5kZWZhdWx0WWFuZGV4UHJvdmlkZXJPcHRpb25zLFxuICAgICAgICAgICAgLi4ucHJvdmlkZXJPcHRpb25zLFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICBkZWZhdWx0OlxuICAgIH1cblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn1cbiIsImltcG9ydCBQcm92aWRlckZhY3RvcnksIHtcbiAgR2VvY29kZXJQcm92aWRlckJ5T3B0aW9uc1R5cGUsXG4gIEdlb2NvZGVyUHJvdmlkZXJGYWN0b3J5T3B0aW9ucyxcbn0gZnJvbSBcIkdlb2NvZGVyUHJvdmlkZXJGYWN0b3J5XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVuaXZlcnNhbEdlb2NvZGVyIHtcbiAgcHVibGljIHZlcnNpb24gPSBcIjAuMS4wXCI7XG5cbiAgcHVibGljIHN0YXRpYyBjcmVhdGVHZW9jb2RlcjxPIGV4dGVuZHMgR2VvY29kZXJQcm92aWRlckZhY3RvcnlPcHRpb25zPihcbiAgICBvcHRpb25zOiBzdHJpbmcgfCBPXG4gICk6IEdlb2NvZGVyUHJvdmlkZXJCeU9wdGlvbnNUeXBlPE8+IHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gUHJvdmlkZXJGYWN0b3J5LmNyZWF0ZVByb3ZpZGVyKG9wdGlvbnMpO1xuICB9XG59XG4iLCJpbXBvcnQge1xuICBCaW5nUmVzcG9uc2UsXG4gIEdlb1BsdWdpblJlc3VsdCxcbiAgR29vZ2xlTWFwc1Jlc3BvbnNlLFxuICBMb2NhdGlvbklRUmVzcG9uc2UsXG4gIE1hcGJveFJlc3BvbnNlLFxuICBNYXBRdWVzdFJlc3BvbnNlLFxuICBOb21pbmF0aW1SZXNwb25zZSxcbiAgT3BlbkNhZ2VSZXNwb25zZSxcbn0gZnJvbSBcInByb3ZpZGVyXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlc3BvbnNlRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIHB1YmxpYyBfX3Byb3RvX186IFJlc3BvbnNlRXJyb3I7XG5cbiAgcHJpdmF0ZSByZWFkb25seSByZXNwb25zZTpcbiAgICB8IFJlc3BvbnNlXG4gICAgfCBCaW5nUmVzcG9uc2VcbiAgICB8IEdlb1BsdWdpblJlc3VsdFxuICAgIHwgR29vZ2xlTWFwc1Jlc3BvbnNlXG4gICAgfCBMb2NhdGlvbklRUmVzcG9uc2VcbiAgICB8IE1hcGJveFJlc3BvbnNlXG4gICAgfCBNYXBRdWVzdFJlc3BvbnNlXG4gICAgfCBOb21pbmF0aW1SZXNwb25zZVxuICAgIHwgT3BlbkNhZ2VSZXNwb25zZTtcblxuICBwdWJsaWMgY29uc3RydWN0b3IoXG4gICAgbWVzc2FnZTogc3RyaW5nLFxuICAgIHJlc3BvbnNlOlxuICAgICAgfCBSZXNwb25zZVxuICAgICAgfCBCaW5nUmVzcG9uc2VcbiAgICAgIHwgR2VvUGx1Z2luUmVzdWx0XG4gICAgICB8IEdvb2dsZU1hcHNSZXNwb25zZVxuICAgICAgfCBMb2NhdGlvbklRUmVzcG9uc2VcbiAgICAgIHwgTWFwYm94UmVzcG9uc2VcbiAgICAgIHwgTWFwUXVlc3RSZXNwb25zZVxuICAgICAgfCBOb21pbmF0aW1SZXNwb25zZVxuICAgICAgfCBPcGVuQ2FnZVJlc3BvbnNlXG4gICkge1xuICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgIHRoaXMubmFtZSA9IFwiUmVzcG9uc2VFcnJvclwiO1xuICAgIHRoaXMucmVzcG9uc2UgPSByZXNwb25zZTtcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm90b1xuICAgIHRoaXMuX19wcm90b19fID0gUmVzcG9uc2VFcnJvci5wcm90b3R5cGU7XG4gIH1cblxuICBwdWJsaWMgZ2V0UmVzcG9uc2UoKTpcbiAgICB8IFJlc3BvbnNlXG4gICAgfCBCaW5nUmVzcG9uc2VcbiAgICB8IEdlb1BsdWdpblJlc3VsdFxuICAgIHwgR29vZ2xlTWFwc1Jlc3BvbnNlXG4gICAgfCBMb2NhdGlvbklRUmVzcG9uc2VcbiAgICB8IE1hcGJveFJlc3BvbnNlXG4gICAgfCBNYXBRdWVzdFJlc3BvbnNlXG4gICAgfCBOb21pbmF0aW1SZXNwb25zZVxuICAgIHwgT3BlbkNhZ2VSZXNwb25zZSB7XG4gICAgcmV0dXJuIHRoaXMucmVzcG9uc2U7XG4gIH1cbn1cbiIsImltcG9ydCB7XG4gIEV4dGVybmFsTG9hZGVyQm9keSxcbiAgRXh0ZXJuYWxMb2FkZXJIZWFkZXJzLFxuICBFeHRlcm5hbExvYWRlclBhcmFtcyxcbn0gZnJvbSBcIkV4dGVybmFsTG9hZGVyXCI7XG5pbXBvcnQgR2VvY29kZWQgZnJvbSBcIkdlb2NvZGVkXCI7XG5pbXBvcnQge1xuICBFcnJvckNhbGxiYWNrLFxuICBHZW9jb2RlZFJlc3VsdHNDYWxsYmFjayxcbiAgUHJvdmlkZXJIZWxwZXJzLFxuICBQcm92aWRlckludGVyZmFjZSxcbiAgUHJvdmlkZXJPcHRpb25zSW50ZXJmYWNlLFxuICBkZWZhdWx0UHJvdmlkZXJPcHRpb25zLFxufSBmcm9tIFwicHJvdmlkZXJcIjtcbmltcG9ydCB7XG4gIEdlb2NvZGVRdWVyeSxcbiAgR2VvY29kZVF1ZXJ5T2JqZWN0LFxuICBSZXZlcnNlUXVlcnksXG4gIFJldmVyc2VRdWVyeU9iamVjdCxcbn0gZnJvbSBcInF1ZXJ5XCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhaW5Qcm92aWRlck9wdGlvbnNJbnRlcmZhY2VcbiAgZXh0ZW5kcyBQcm92aWRlck9wdGlvbnNJbnRlcmZhY2Uge1xuICByZWFkb25seSBwcm92aWRlcnM6IFByb3ZpZGVySW50ZXJmYWNlPEdlb2NvZGVkPltdO1xuICByZWFkb25seSBwYXJhbGxlbGl6ZT86IGJvb2xlYW47XG4gIHJlYWRvbmx5IGZpcnN0PzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRDaGFpblByb3ZpZGVyT3B0aW9ucyA9IHtcbiAgLi4uZGVmYXVsdFByb3ZpZGVyT3B0aW9ucyxcbiAgcHJvdmlkZXJzOiBbXSxcbn07XG5cbnR5cGUgQ2hhaW5HZW9jb2RlZFJlc3VsdHNDYWxsYmFjayA9IEdlb2NvZGVkUmVzdWx0c0NhbGxiYWNrPEdlb2NvZGVkPjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2hhaW5Qcm92aWRlciBpbXBsZW1lbnRzIFByb3ZpZGVySW50ZXJmYWNlPEdlb2NvZGVkPiB7XG4gIHByaXZhdGUgb3B0aW9uczogQ2hhaW5Qcm92aWRlck9wdGlvbnNJbnRlcmZhY2U7XG5cbiAgcHVibGljIGNvbnN0cnVjdG9yKFxuICAgIG9wdGlvbnM6IENoYWluUHJvdmlkZXJPcHRpb25zSW50ZXJmYWNlID0gZGVmYXVsdENoYWluUHJvdmlkZXJPcHRpb25zXG4gICkge1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gIH1cblxuICBwdWJsaWMgZ2VvY29kZShcbiAgICBxdWVyeTogc3RyaW5nIHwgR2VvY29kZVF1ZXJ5IHwgR2VvY29kZVF1ZXJ5T2JqZWN0LFxuICAgIGNhbGxiYWNrPzogQ2hhaW5HZW9jb2RlZFJlc3VsdHNDYWxsYmFjayxcbiAgICBlcnJvckNhbGxiYWNrPzogRXJyb3JDYWxsYmFja1xuICApOiB2b2lkIHwgUHJvbWlzZTxHZW9jb2RlZFtdPiB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5wYXJhbGxlbGl6ZSB8fCB0aGlzLm9wdGlvbnMuZmlyc3QpIHtcbiAgICAgIGlmICghY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+XG4gICAgICAgICAgdGhpcy5nZW9jb2RlQWxsUHJvdmlkZXJzKFxuICAgICAgICAgICAgcXVlcnksXG4gICAgICAgICAgICAocmVzdWx0cykgPT4gcmVzb2x2ZShyZXN1bHRzKSxcbiAgICAgICAgICAgIChlcnJvcikgPT4gcmVqZWN0KGVycm9yKVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmdlb2NvZGVBbGxQcm92aWRlcnMocXVlcnksIGNhbGxiYWNrLCBlcnJvckNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICBpZiAoIWNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT5cbiAgICAgICAgdGhpcy5nZW9jb2RlTmV4dFByb3ZpZGVyKFxuICAgICAgICAgIHRoaXMub3B0aW9ucy5wcm92aWRlcnMsXG4gICAgICAgICAgcXVlcnksXG4gICAgICAgICAgKHJlc3VsdHMpID0+IHJlc29sdmUocmVzdWx0cyksXG4gICAgICAgICAgKGVycm9yKSA9PiByZWplY3QoZXJyb3IpXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmdlb2NvZGVOZXh0UHJvdmlkZXIoXG4gICAgICB0aGlzLm9wdGlvbnMucHJvdmlkZXJzLFxuICAgICAgcXVlcnksXG4gICAgICBjYWxsYmFjayxcbiAgICAgIGVycm9yQ2FsbGJhY2tcbiAgICApO1xuICB9XG5cbiAgcHVibGljIGdlb2RlY29kZShcbiAgICBsYXRpdHVkZU9yUXVlcnk6IG51bWJlciB8IHN0cmluZyB8IFJldmVyc2VRdWVyeSB8IFJldmVyc2VRdWVyeU9iamVjdCxcbiAgICBsb25naXR1ZGVPckNhbGxiYWNrPzogbnVtYmVyIHwgc3RyaW5nIHwgQ2hhaW5HZW9jb2RlZFJlc3VsdHNDYWxsYmFjayxcbiAgICBjYWxsYmFja09yRXJyb3JDYWxsYmFjaz86IENoYWluR2VvY29kZWRSZXN1bHRzQ2FsbGJhY2sgfCBFcnJvckNhbGxiYWNrLFxuICAgIGVycm9yQ2FsbGJhY2s/OiBFcnJvckNhbGxiYWNrXG4gICk6IHZvaWQgfCBQcm9taXNlPEdlb2NvZGVkW10+IHtcbiAgICBjb25zdCByZXZlcnNlUXVlcnkgPSBQcm92aWRlckhlbHBlcnMuZ2V0UmV2ZXJzZVF1ZXJ5RnJvbVBhcmFtZXRlcnMoXG4gICAgICBsYXRpdHVkZU9yUXVlcnksXG4gICAgICBsb25naXR1ZGVPckNhbGxiYWNrXG4gICAgKTtcbiAgICBjb25zdCByZXZlcnNlQ2FsbGJhY2sgPSBQcm92aWRlckhlbHBlcnMuZ2V0Q2FsbGJhY2tGcm9tUGFyYW1ldGVycyhcbiAgICAgIGxvbmdpdHVkZU9yQ2FsbGJhY2ssXG4gICAgICBjYWxsYmFja09yRXJyb3JDYWxsYmFja1xuICAgICk7XG4gICAgY29uc3QgcmV2ZXJzZUVycm9yQ2FsbGJhY2sgPSBQcm92aWRlckhlbHBlcnMuZ2V0RXJyb3JDYWxsYmFja0Zyb21QYXJhbWV0ZXJzKFxuICAgICAgbG9uZ2l0dWRlT3JDYWxsYmFjayxcbiAgICAgIGNhbGxiYWNrT3JFcnJvckNhbGxiYWNrLFxuICAgICAgZXJyb3JDYWxsYmFja1xuICAgICk7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnBhcmFsbGVsaXplIHx8IHRoaXMub3B0aW9ucy5maXJzdCkge1xuICAgICAgaWYgKCFyZXZlcnNlQ2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+XG4gICAgICAgICAgdGhpcy5nZW9kZWNvZGVBbGxQcm92aWRlcnMoXG4gICAgICAgICAgICByZXZlcnNlUXVlcnksXG4gICAgICAgICAgICAocmVzdWx0cykgPT4gcmVzb2x2ZShyZXN1bHRzKSxcbiAgICAgICAgICAgIChlcnJvcikgPT4gcmVqZWN0KGVycm9yKVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmdlb2RlY29kZUFsbFByb3ZpZGVycyhcbiAgICAgICAgcmV2ZXJzZVF1ZXJ5LFxuICAgICAgICByZXZlcnNlQ2FsbGJhY2ssXG4gICAgICAgIHJldmVyc2VFcnJvckNhbGxiYWNrXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICghcmV2ZXJzZUNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT5cbiAgICAgICAgdGhpcy5nZW9kZWNvZGVOZXh0UHJvdmlkZXIoXG4gICAgICAgICAgdGhpcy5vcHRpb25zLnByb3ZpZGVycyxcbiAgICAgICAgICByZXZlcnNlUXVlcnksXG4gICAgICAgICAgKHJlc3VsdHMpID0+IHJlc29sdmUocmVzdWx0cyksXG4gICAgICAgICAgKGVycm9yKSA9PiByZWplY3QoZXJyb3IpXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmdlb2RlY29kZU5leHRQcm92aWRlcihcbiAgICAgIHRoaXMub3B0aW9ucy5wcm92aWRlcnMsXG4gICAgICByZXZlcnNlUXVlcnksXG4gICAgICByZXZlcnNlQ2FsbGJhY2ssXG4gICAgICByZXZlcnNlRXJyb3JDYWxsYmFja1xuICAgICk7XG4gIH1cblxuICBwcml2YXRlIGdlb2NvZGVOZXh0UHJvdmlkZXIoXG4gICAgcHJvdmlkZXJzOiBQcm92aWRlckludGVyZmFjZTxHZW9jb2RlZD5bXSxcbiAgICBxdWVyeTogc3RyaW5nIHwgR2VvY29kZVF1ZXJ5IHwgR2VvY29kZVF1ZXJ5T2JqZWN0LFxuICAgIGNhbGxiYWNrOiBDaGFpbkdlb2NvZGVkUmVzdWx0c0NhbGxiYWNrLFxuICAgIGVycm9yQ2FsbGJhY2s/OiBFcnJvckNhbGxiYWNrXG4gICk6IHZvaWQge1xuICAgIGNvbnN0IFtwcm92aWRlciwgLi4ubmV4dFByb3ZpZGVyc10gPSBwcm92aWRlcnM7XG4gICAgY29uc3QgcmVzdWx0Q2FsbGJhY2s6IENoYWluR2VvY29kZWRSZXN1bHRzQ2FsbGJhY2sgPSAocmVzdWx0cykgPT4ge1xuICAgICAgaWYgKHJlc3VsdHMubGVuZ3RoID4gMCkge1xuICAgICAgICBjYWxsYmFjayhyZXN1bHRzKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5nZW9jb2RlTmV4dFByb3ZpZGVyKG5leHRQcm92aWRlcnMsIHF1ZXJ5LCBjYWxsYmFjaywgZXJyb3JDYWxsYmFjayk7XG4gICAgfTtcbiAgICBjb25zdCByZXN1bHRFcnJvckNhbGxiYWNrOiBFcnJvckNhbGxiYWNrID0gKHJlc3BvbnNlRXJyb3IpID0+IHtcbiAgICAgIGlmIChlcnJvckNhbGxiYWNrKSB7XG4gICAgICAgIGVycm9yQ2FsbGJhY2socmVzcG9uc2VFcnJvcik7XG4gICAgICB9XG4gICAgICBpZiAoIWVycm9yQ2FsbGJhY2spIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBgQW4gZXJyb3IgaGFzIG9jY3VycmVkIHdoZW4gZ2VvY29kaW5nIHdpdGggdGhlIHByb3ZpZGVyICR7cHJvdmlkZXIuY29uc3RydWN0b3IubmFtZX1gLFxuICAgICAgICAgIHJlc3BvbnNlRXJyb3JcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdENhbGxiYWNrKFtdKTtcbiAgICB9O1xuXG4gICAgcHJvdmlkZXIuZ2VvY29kZShxdWVyeSwgcmVzdWx0Q2FsbGJhY2ssIHJlc3VsdEVycm9yQ2FsbGJhY2spO1xuICB9XG5cbiAgcHJpdmF0ZSBnZW9kZWNvZGVOZXh0UHJvdmlkZXIoXG4gICAgcHJvdmlkZXJzOiBQcm92aWRlckludGVyZmFjZTxHZW9jb2RlZD5bXSxcbiAgICByZXZlcnNlUXVlcnk6IFJldmVyc2VRdWVyeSxcbiAgICBjYWxsYmFjazogQ2hhaW5HZW9jb2RlZFJlc3VsdHNDYWxsYmFjayxcbiAgICBlcnJvckNhbGxiYWNrPzogRXJyb3JDYWxsYmFja1xuICApOiB2b2lkIHtcbiAgICBjb25zdCBbcHJvdmlkZXIsIC4uLm5leHRQcm92aWRlcnNdID0gcHJvdmlkZXJzO1xuICAgIGNvbnN0IHJlc3VsdENhbGxiYWNrOiBDaGFpbkdlb2NvZGVkUmVzdWx0c0NhbGxiYWNrID0gKHJlc3VsdHMpID0+IHtcbiAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY2FsbGJhY2socmVzdWx0cyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuZ2VvZGVjb2RlTmV4dFByb3ZpZGVyKFxuICAgICAgICBuZXh0UHJvdmlkZXJzLFxuICAgICAgICByZXZlcnNlUXVlcnksXG4gICAgICAgIGNhbGxiYWNrLFxuICAgICAgICBlcnJvckNhbGxiYWNrXG4gICAgICApO1xuICAgIH07XG4gICAgY29uc3QgcmVzdWx0RXJyb3JDYWxsYmFjazogRXJyb3JDYWxsYmFjayA9IChyZXNwb25zZUVycm9yKSA9PiB7XG4gICAgICBpZiAoZXJyb3JDYWxsYmFjaykge1xuICAgICAgICBlcnJvckNhbGxiYWNrKHJlc3BvbnNlRXJyb3IpO1xuICAgICAgfVxuICAgICAgaWYgKCFlcnJvckNhbGxiYWNrKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgYEFuIGVycm9yIGhhcyBvY2N1cnJlZCB3aGVuIGdlb2RlY29kaW5nIHdpdGggdGhlIHByb3ZpZGVyICR7cHJvdmlkZXIuY29uc3RydWN0b3IubmFtZX1gLFxuICAgICAgICAgIHJlc3BvbnNlRXJyb3JcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJlc3VsdENhbGxiYWNrKFtdKTtcbiAgICB9O1xuXG4gICAgcHJvdmlkZXIuZ2VvZGVjb2RlKHJldmVyc2VRdWVyeSwgcmVzdWx0Q2FsbGJhY2ssIHJlc3VsdEVycm9yQ2FsbGJhY2spO1xuICB9XG5cbiAgcHJpdmF0ZSBnZW9jb2RlQWxsUHJvdmlkZXJzKFxuICAgIHF1ZXJ5OiBzdHJpbmcgfCBHZW9jb2RlUXVlcnkgfCBHZW9jb2RlUXVlcnlPYmplY3QsXG4gICAgY2FsbGJhY2s6IENoYWluR2VvY29kZWRSZXN1bHRzQ2FsbGJhY2ssXG4gICAgZXJyb3JDYWxsYmFjaz86IEVycm9yQ2FsbGJhY2tcbiAgKTogdm9pZCB7XG4gICAgY29uc3QgcHJvdmlkZXJSZXN1bHRzOiBNYXA8c3RyaW5nLCBHZW9jb2RlZFtdPiA9IG5ldyBNYXAoKTtcbiAgICBsZXQgY2FsbGJhY2tDYWxsZWQgPSBmYWxzZTtcbiAgICBjb25zdCBnZXRQcm92aWRlclJlc3VsdCA9ICgpID0+XG4gICAgICB0aGlzLm9wdGlvbnMucHJvdmlkZXJzLnJlZHVjZSgocmVzdWx0LCBwcm92aWRlcikgPT4ge1xuICAgICAgICBsZXQgcHJvdmlkZXJSZXN1bHQgPSByZXN1bHQ7XG4gICAgICAgIGlmICh1bmRlZmluZWQgPT09IHByb3ZpZGVyUmVzdWx0ICYmIHRoaXMub3B0aW9ucy5maXJzdCkge1xuICAgICAgICAgIHByb3ZpZGVyUmVzdWx0ID0gW107XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gcHJvdmlkZXJSZXN1bHQpIHtcbiAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm92aWRlclJlc3VsdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcmV0dXJuIHByb3ZpZGVyUmVzdWx0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHByb3ZpZGVyUmVzdWx0cy5nZXQocHJvdmlkZXIuY29uc3RydWN0b3IubmFtZSk7XG4gICAgICB9LCA8dW5kZWZpbmVkIHwgR2VvY29kZWRbXT5bXSk7XG4gICAgY29uc3QgcmVzdWx0UHJvdmlkZXJDYWxsYmFjazogKFxuICAgICAgcHJvdmlkZXJOYW1lOiBzdHJpbmdcbiAgICApID0+IENoYWluR2VvY29kZWRSZXN1bHRzQ2FsbGJhY2sgPSAocHJvdmlkZXJOYW1lKSA9PiAocmVzdWx0cykgPT4ge1xuICAgICAgcHJvdmlkZXJSZXN1bHRzLnNldChwcm92aWRlck5hbWUsIHJlc3VsdHMpO1xuICAgICAgY29uc3QgcHJvdmlkZXJSZXN1bHQgPSBnZXRQcm92aWRlclJlc3VsdCgpO1xuICAgICAgaWYgKCFjYWxsYmFja0NhbGxlZCAmJiBwcm92aWRlclJlc3VsdCkge1xuICAgICAgICBjYWxsYmFjayhwcm92aWRlclJlc3VsdCk7XG4gICAgICAgIGNhbGxiYWNrQ2FsbGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHJlc3VsdFByb3ZpZGVyRXJyb3JDYWxsYmFjazogKFxuICAgICAgcHJvdmlkZXJOYW1lOiBzdHJpbmdcbiAgICApID0+IEVycm9yQ2FsbGJhY2sgPSAocHJvdmlkZXJOYW1lKSA9PiAocmVzcG9uc2VFcnJvcikgPT4ge1xuICAgICAgaWYgKGVycm9yQ2FsbGJhY2spIHtcbiAgICAgICAgZXJyb3JDYWxsYmFjayhyZXNwb25zZUVycm9yKTtcbiAgICAgIH1cbiAgICAgIGlmICghZXJyb3JDYWxsYmFjaykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIGBBbiBlcnJvciBoYXMgb2NjdXJyZWQgd2hlbiBnZW9jb2Rpbmcgd2l0aCB0aGUgcHJvdmlkZXIgJHtwcm92aWRlck5hbWV9YCxcbiAgICAgICAgICByZXNwb25zZUVycm9yXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXN1bHRQcm92aWRlckNhbGxiYWNrKHByb3ZpZGVyTmFtZSkoW10pO1xuICAgIH07XG5cbiAgICB0aGlzLm9wdGlvbnMucHJvdmlkZXJzLmZvckVhY2goKHByb3ZpZGVyKSA9PiB7XG4gICAgICBjb25zdCBwcm92aWRlck5hbWUgPSBwcm92aWRlci5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgcHJvdmlkZXIuZ2VvY29kZShcbiAgICAgICAgcXVlcnksXG4gICAgICAgIHJlc3VsdFByb3ZpZGVyQ2FsbGJhY2socHJvdmlkZXJOYW1lKSxcbiAgICAgICAgcmVzdWx0UHJvdmlkZXJFcnJvckNhbGxiYWNrKHByb3ZpZGVyTmFtZSlcbiAgICAgICk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGdlb2RlY29kZUFsbFByb3ZpZGVycyhcbiAgICByZXZlcnNlUXVlcnk6IFJldmVyc2VRdWVyeSxcbiAgICBjYWxsYmFjazogQ2hhaW5HZW9jb2RlZFJlc3VsdHNDYWxsYmFjayxcbiAgICBlcnJvckNhbGxiYWNrPzogRXJyb3JDYWxsYmFja1xuICApOiB2b2lkIHtcbiAgICBjb25zdCBwcm92aWRlclJlc3VsdHM6IE1hcDxzdHJpbmcsIEdlb2NvZGVkW10+ID0gbmV3IE1hcCgpO1xuICAgIGxldCBjYWxsYmFja0NhbGxlZCA9IGZhbHNlO1xuICAgIGNvbnN0IGdldFByb3ZpZGVyUmVzdWx0ID0gKCkgPT5cbiAgICAgIHRoaXMub3B0aW9ucy5wcm92aWRlcnMucmVkdWNlKChyZXN1bHQsIHByb3ZpZGVyKSA9PiB7XG4gICAgICAgIGxldCBwcm92aWRlclJlc3VsdCA9IHJlc3VsdDtcbiAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gcHJvdmlkZXJSZXN1bHQgJiYgdGhpcy5vcHRpb25zLmZpcnN0KSB7XG4gICAgICAgICAgcHJvdmlkZXJSZXN1bHQgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodW5kZWZpbmVkID09PSBwcm92aWRlclJlc3VsdCkge1xuICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3ZpZGVyUmVzdWx0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICByZXR1cm4gcHJvdmlkZXJSZXN1bHQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcHJvdmlkZXJSZXN1bHRzLmdldChwcm92aWRlci5jb25zdHJ1Y3Rvci5uYW1lKTtcbiAgICAgIH0sIDx1bmRlZmluZWQgfCBHZW9jb2RlZFtdPltdKTtcbiAgICBjb25zdCByZXN1bHRQcm92aWRlckNhbGxiYWNrOiAoXG4gICAgICBwcm92aWRlck5hbWU6IHN0cmluZ1xuICAgICkgPT4gQ2hhaW5HZW9jb2RlZFJlc3VsdHNDYWxsYmFjayA9IChwcm92aWRlck5hbWUpID0+IChyZXN1bHRzKSA9PiB7XG4gICAgICBwcm92aWRlclJlc3VsdHMuc2V0KHByb3ZpZGVyTmFtZSwgcmVzdWx0cyk7XG4gICAgICBjb25zdCBwcm92aWRlclJlc3VsdCA9IGdldFByb3ZpZGVyUmVzdWx0KCk7XG4gICAgICBpZiAoIWNhbGxiYWNrQ2FsbGVkICYmIHByb3ZpZGVyUmVzdWx0KSB7XG4gICAgICAgIGNhbGxiYWNrKHByb3ZpZGVyUmVzdWx0KTtcbiAgICAgICAgY2FsbGJhY2tDYWxsZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcmVzdWx0UHJvdmlkZXJFcnJvckNhbGxiYWNrOiAoXG4gICAgICBwcm92aWRlck5hbWU6IHN0cmluZ1xuICAgICkgPT4gRXJyb3JDYWxsYmFjayA9IChwcm92aWRlck5hbWUpID0+IChyZXNwb25zZUVycm9yKSA9PiB7XG4gICAgICBpZiAoZXJyb3JDYWxsYmFjaykge1xuICAgICAgICBlcnJvckNhbGxiYWNrKHJlc3BvbnNlRXJyb3IpO1xuICAgICAgfVxuICAgICAgaWYgKCFlcnJvckNhbGxiYWNrKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgYEFuIGVycm9yIGhhcyBvY2N1cnJlZCB3aGVuIGdlb2RlY29kaW5nIHdpdGggdGhlIHByb3ZpZGVyICR7cHJvdmlkZXJOYW1lfWAsXG4gICAgICAgICAgcmVzcG9uc2VFcnJvclxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmVzdWx0UHJvdmlkZXJDYWxsYmFjayhwcm92aWRlck5hbWUpKFtdKTtcbiAgICB9O1xuXG4gICAgdGhpcy5vcHRpb25zLnByb3ZpZGVycy5mb3JFYWNoKChwcm92aWRlcikgPT4ge1xuICAgICAgY29uc3QgcHJvdmlkZXJOYW1lID0gcHJvdmlkZXIuY29uc3RydWN0b3IubmFtZTtcbiAgICAgIHByb3ZpZGVyLmdlb2RlY29kZShcbiAgICAgICAgcmV2ZXJzZVF1ZXJ5LFxuICAgICAgICByZXN1bHRQcm92aWRlckNhbGxiYWNrKHByb3ZpZGVyTmFtZSksXG4gICAgICAgIHJlc3VsdFByb3ZpZGVyRXJyb3JDYWxsYmFjayhwcm92aWRlck5hbWUpXG4gICAgICApO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNsYXNzLW1ldGhvZHMtdXNlLXRoaXNcbiAgcHVibGljIGV4ZWN1dGVSZXF1ZXN0KFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbiAgICBwYXJhbXM6IEV4dGVybmFsTG9hZGVyUGFyYW1zLFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbiAgICBjYWxsYmFjazogQ2hhaW5HZW9jb2RlZFJlc3VsdHNDYWxsYmFjayxcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gICAgaGVhZGVycz86IEV4dGVybmFsTG9hZGVySGVhZGVycyxcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gICAgYm9keT86IEV4dGVybmFsTG9hZGVyQm9keSxcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gICAgZXJyb3JDYWxsYmFjaz86IEVycm9yQ2FsbGJhY2tcbiAgKTogdm9pZCB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJleGVjdXRlUmVxdWVzdCBjYW5ub3QgYmUgY2FsbGVkIGRpcmVjdGx5IGZyb20gdGhlIGNoYWluIHByb3ZpZGVyLlwiXG4gICAgKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgRXJyb3JDYWxsYmFjaywgR2VvY29kZWRSZXN1bHRzQ2FsbGJhY2sgfSBmcm9tIFwicHJvdmlkZXJcIjtcbmltcG9ydCBHZW9jb2RlZCBmcm9tIFwiR2VvY29kZWRcIjtcbmltcG9ydCB7XG4gIEdlb2NvZGVRdWVyeSxcbiAgR2VvY29kZVF1ZXJ5T2JqZWN0LFxuICBSZXZlcnNlUXVlcnksXG4gIFJldmVyc2VRdWVyeU9iamVjdCxcbn0gZnJvbSBcInF1ZXJ5XCI7XG5pbXBvcnQgeyBpc0lwdjQsIGlzSXB2NiB9IGZyb20gXCJ1dGlsc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm92aWRlckhlbHBlcnMge1xuICBwdWJsaWMgc3RhdGljIGdldEdlb2NvZGVRdWVyeUZyb21QYXJhbWV0ZXIoXG4gICAgcXVlcnk6IHN0cmluZyB8IEdlb2NvZGVRdWVyeSB8IEdlb2NvZGVRdWVyeU9iamVjdCxcbiAgICBnZW9jb2RlUXVlcnkgPSBHZW9jb2RlUXVlcnlcbiAgKTogR2VvY29kZVF1ZXJ5IHtcbiAgICBpZiAodHlwZW9mIHF1ZXJ5ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBpZiAoaXNJcHY0KHF1ZXJ5KSB8fCBpc0lwdjYocXVlcnkpKSB7XG4gICAgICAgIHJldHVybiBnZW9jb2RlUXVlcnkuY3JlYXRlKHsgaXA6IHF1ZXJ5IH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGdlb2NvZGVRdWVyeS5jcmVhdGUoeyB0ZXh0OiBxdWVyeSB9KTtcbiAgICB9XG4gICAgaWYgKCEocXVlcnkgaW5zdGFuY2VvZiBnZW9jb2RlUXVlcnkpKSB7XG4gICAgICByZXR1cm4gZ2VvY29kZVF1ZXJ5LmNyZWF0ZShxdWVyeSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHF1ZXJ5O1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBnZXRSZXZlcnNlUXVlcnlGcm9tUGFyYW1ldGVyczxHIGV4dGVuZHMgR2VvY29kZWQ+KFxuICAgIGxhdGl0dWRlT3JRdWVyeTogbnVtYmVyIHwgc3RyaW5nIHwgUmV2ZXJzZVF1ZXJ5IHwgUmV2ZXJzZVF1ZXJ5T2JqZWN0LFxuICAgIGxvbmdpdHVkZU9yQ2FsbGJhY2s/OiBudW1iZXIgfCBzdHJpbmcgfCBHZW9jb2RlZFJlc3VsdHNDYWxsYmFjazxHPixcbiAgICByZXZlcnNlUXVlcnkgPSBSZXZlcnNlUXVlcnlcbiAgKTogUmV2ZXJzZVF1ZXJ5IHtcbiAgICBpZiAoXG4gICAgICB0eXBlb2YgbGF0aXR1ZGVPclF1ZXJ5ID09PSBcIm51bWJlclwiIHx8XG4gICAgICB0eXBlb2YgbGF0aXR1ZGVPclF1ZXJ5ID09PSBcInN0cmluZ1wiXG4gICAgKSB7XG4gICAgICBpZiAoXG4gICAgICAgICEoXG4gICAgICAgICAgdHlwZW9mIGxvbmdpdHVkZU9yQ2FsbGJhY2sgPT09IFwibnVtYmVyXCIgfHxcbiAgICAgICAgICB0eXBlb2YgbG9uZ2l0dWRlT3JDYWxsYmFjayA9PT0gXCJzdHJpbmdcIlxuICAgICAgICApXG4gICAgICApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIFwiVGhlIHNlY29uZCBwYXJhbWV0ZXIgb2YgZ2VvZGVjb2RlIG11c3QgYmUgYSBsb25naXR1ZGUgaWYgdGhlIGZpcnN0IG9uZSBpcyBhIGxhdGl0dWRlXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXZlcnNlUXVlcnkuY3JlYXRlKHtcbiAgICAgICAgY29vcmRpbmF0ZXM6IHtcbiAgICAgICAgICBsYXRpdHVkZTogbGF0aXR1ZGVPclF1ZXJ5LFxuICAgICAgICAgIGxvbmdpdHVkZTogbG9uZ2l0dWRlT3JDYWxsYmFjayxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoIShsYXRpdHVkZU9yUXVlcnkgaW5zdGFuY2VvZiByZXZlcnNlUXVlcnkpKSB7XG4gICAgICByZXR1cm4gcmV2ZXJzZVF1ZXJ5LmNyZWF0ZShsYXRpdHVkZU9yUXVlcnkpO1xuICAgIH1cblxuICAgIHJldHVybiBsYXRpdHVkZU9yUXVlcnk7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGdldENhbGxiYWNrRnJvbVBhcmFtZXRlcnM8RyBleHRlbmRzIEdlb2NvZGVkPihcbiAgICBsb25naXR1ZGVPckNhbGxiYWNrPzogbnVtYmVyIHwgc3RyaW5nIHwgR2VvY29kZWRSZXN1bHRzQ2FsbGJhY2s8Rz4sXG4gICAgY2FsbGJhY2tPckVycm9yQ2FsbGJhY2s/OiBHZW9jb2RlZFJlc3VsdHNDYWxsYmFjazxHPiB8IEVycm9yQ2FsbGJhY2tcbiAgKTogdW5kZWZpbmVkIHwgR2VvY29kZWRSZXN1bHRzQ2FsbGJhY2s8Rz4ge1xuICAgIGlmIChcbiAgICAgICEoXG4gICAgICAgIHR5cGVvZiBsb25naXR1ZGVPckNhbGxiYWNrID09PSBcIm51bWJlclwiIHx8XG4gICAgICAgIHR5cGVvZiBsb25naXR1ZGVPckNhbGxiYWNrID09PSBcInN0cmluZ1wiXG4gICAgICApXG4gICAgKSB7XG4gICAgICByZXR1cm4gbG9uZ2l0dWRlT3JDYWxsYmFjaztcbiAgICB9XG4gICAgaWYgKGNhbGxiYWNrT3JFcnJvckNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gPEdlb2NvZGVkUmVzdWx0c0NhbGxiYWNrPEc+PmNhbGxiYWNrT3JFcnJvckNhbGxiYWNrO1xuICAgIH1cblxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGdldEVycm9yQ2FsbGJhY2tGcm9tUGFyYW1ldGVyczxHIGV4dGVuZHMgR2VvY29kZWQ+KFxuICAgIGxvbmdpdHVkZU9yQ2FsbGJhY2s/OiBudW1iZXIgfCBzdHJpbmcgfCBHZW9jb2RlZFJlc3VsdHNDYWxsYmFjazxHPixcbiAgICBjYWxsYmFja09yRXJyb3JDYWxsYmFjaz86IEdlb2NvZGVkUmVzdWx0c0NhbGxiYWNrPEc+IHwgRXJyb3JDYWxsYmFjayxcbiAgICBlcnJvckNhbGxiYWNrPzogRXJyb3JDYWxsYmFja1xuICApOiB1bmRlZmluZWQgfCBFcnJvckNhbGxiYWNrIHtcbiAgICBpZiAoZXJyb3JDYWxsYmFjaykge1xuICAgICAgcmV0dXJuIGVycm9yQ2FsbGJhY2s7XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgdHlwZW9mIGxvbmdpdHVkZU9yQ2FsbGJhY2sgPT09IFwibnVtYmVyXCIgfHxcbiAgICAgIHR5cGVvZiBsb25naXR1ZGVPckNhbGxiYWNrID09PSBcInN0cmluZ1wiXG4gICAgKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHJldHVybiA8dW5kZWZpbmVkIHwgRXJyb3JDYWxsYmFjaz5jYWxsYmFja09yRXJyb3JDYWxsYmFjaztcbiAgfVxufVxuIiwiaW1wb3J0IHtcbiAgRXh0ZXJuYWxMb2FkZXJCb2R5LFxuICBFeHRlcm5hbExvYWRlckhlYWRlcnMsXG4gIEV4dGVybmFsTG9hZGVyUGFyYW1zLFxufSBmcm9tIFwiRXh0ZXJuYWxMb2FkZXJcIjtcbmltcG9ydCBHZW9jb2RlZCBmcm9tIFwiR2VvY29kZWRcIjtcbmltcG9ydCB7XG4gIEdlb2NvZGVRdWVyeSxcbiAgR2VvY29kZVF1ZXJ5T2JqZWN0LFxuICBSZXZlcnNlUXVlcnksXG4gIFJldmVyc2VRdWVyeU9iamVjdCxcbn0gZnJvbSBcInF1ZXJ5XCI7XG5pbXBvcnQgeyBSZXNwb25zZUVycm9yIH0gZnJvbSBcImVycm9yXCI7XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX1JFU1VMVF9MSU1JVCA9IDU7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvdmlkZXJPcHRpb25zSW50ZXJmYWNlIHtcbiAgcmVhZG9ubHkgdXNlU3NsPzogYm9vbGVhbjtcbiAgcmVhZG9ubHkgdXNlSnNvbnA/OiBib29sZWFuO1xuICByZWFkb25seSBhcGlLZXk/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0UHJvdmlkZXJPcHRpb25zOiBQcm92aWRlck9wdGlvbnNJbnRlcmZhY2UgPSB7XG4gIHVzZVNzbDogZmFsc2UsXG4gIHVzZUpzb25wOiBmYWxzZSxcbn07XG5cbmV4cG9ydCB0eXBlIEdlb2NvZGVkUmVzdWx0c0NhbGxiYWNrPEcgZXh0ZW5kcyBHZW9jb2RlZD4gPSAoXG4gIHJlc3VsdHM6IEdbXVxuKSA9PiB2b2lkO1xuZXhwb3J0IHR5cGUgRXJyb3JDYWxsYmFjayA9IChyZXNwb25zZUVycm9yOiBSZXNwb25zZUVycm9yKSA9PiB2b2lkO1xuXG5leHBvcnQgZGVmYXVsdCBpbnRlcmZhY2UgUHJvdmlkZXJJbnRlcmZhY2U8RyBleHRlbmRzIEdlb2NvZGVkPiB7XG4gIGdlb2NvZGUoXG4gICAgcXVlcnk6IHN0cmluZyB8IEdlb2NvZGVRdWVyeSB8IEdlb2NvZGVRdWVyeU9iamVjdCxcbiAgICBjYWxsYmFjazogR2VvY29kZWRSZXN1bHRzQ2FsbGJhY2s8Rz4sXG4gICAgZXJyb3JDYWxsYmFjaz86IEVycm9yQ2FsbGJhY2tcbiAgKTogdm9pZDtcbiAgZ2VvZGVjb2RlKFxuICAgIGxhdGl0dWRlT3JRdWVyeTogbnVtYmVyIHwgc3RyaW5nIHwgUmV2ZXJzZVF1ZXJ5IHwgUmV2ZXJzZVF1ZXJ5T2JqZWN0LFxuICAgIGxvbmdpdHVkZU9yQ2FsbGJhY2s6IG51bWJlciB8IHN0cmluZyB8IEdlb2NvZGVkUmVzdWx0c0NhbGxiYWNrPEc+LFxuICAgIGNhbGxiYWNrT3JFcnJvckNhbGxiYWNrPzogR2VvY29kZWRSZXN1bHRzQ2FsbGJhY2s8Rz4gfCBFcnJvckNhbGxiYWNrLFxuICAgIGVycm9yQ2FsbGJhY2s/OiBFcnJvckNhbGxiYWNrXG4gICk6IHZvaWQ7XG4gIGV4ZWN1dGVSZXF1ZXN0KFxuICAgIHBhcmFtczogRXh0ZXJuYWxMb2FkZXJQYXJhbXMsXG4gICAgY2FsbGJhY2s6IEdlb2NvZGVkUmVzdWx0c0NhbGxiYWNrPEc+LFxuICAgIGhlYWRlcnM/OiBFeHRlcm5hbExvYWRlckhlYWRlcnMsXG4gICAgYm9keT86IEV4dGVybmFsTG9hZGVyQm9keSxcbiAgICBlcnJvckNhbGxiYWNrPzogRXJyb3JDYWxsYmFja1xuICApOiB2b2lkO1xufVxuIiwiaW1wb3J0IEdlb2NvZGVkLCB7IEdlb2NvZGVkT2JqZWN0IH0gZnJvbSBcIkdlb2NvZGVkXCI7XG5pbXBvcnQgeyBCaW5nUHJlY2lzaW9uIH0gZnJvbSBcInByb3ZpZGVyXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQmluZ0dlb2NvZGVkT2JqZWN0IGV4dGVuZHMgR2VvY29kZWRPYmplY3Qge1xuICByZWFkb25seSBhdHRyaWJ1dGlvbj86IHN0cmluZztcbiAgcmVhZG9ubHkgcHJlY2lzaW9uPzogQmluZ1ByZWNpc2lvbjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmluZ0dlb2NvZGVkIGV4dGVuZHMgR2VvY29kZWQge1xuICBwcml2YXRlIHJlYWRvbmx5IGF0dHJpYnV0aW9uPzogc3RyaW5nO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgcHJlY2lzaW9uPzogQmluZ1ByZWNpc2lvbjtcblxuICBwcm90ZWN0ZWQgY29uc3RydWN0b3Ioe1xuICAgIGF0dHJpYnV0aW9uLFxuICAgIHByZWNpc2lvbixcbiAgICAuLi5nZW9jb2RlZE9iamVjdFxuICB9OiBCaW5nR2VvY29kZWRPYmplY3QpIHtcbiAgICBzdXBlcihnZW9jb2RlZE9iamVjdCk7XG4gICAgdGhpcy5hdHRyaWJ1dGlvbiA9IGF0dHJpYnV0aW9uO1xuICAgIHRoaXMucHJlY2lzaW9uID0gcHJlY2lzaW9uO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBjcmVhdGUob2JqZWN0OiBCaW5nR2VvY29kZWRPYmplY3QpOiBCaW5nR2VvY29kZWQge1xuICAgIHJldHVybiBuZXcgdGhpcyhvYmplY3QpO1xuICB9XG5cbiAgcHVibGljIHRvT2JqZWN0KCk6IEJpbmdHZW9jb2RlZE9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN1cGVyLnRvT2JqZWN0KCksXG4gICAgICBhdHRyaWJ1dGlvbjogdGhpcy5hdHRyaWJ1dGlvbixcbiAgICAgIHByZWNpc2lvbjogdGhpcy5wcmVjaXNpb24sXG4gICAgfTtcbiAgfVxuXG4gIHB1YmxpYyB3aXRoQXR0cmlidXRpb24oYXR0cmlidXRpb246IHN0cmluZyk6IEJpbmdHZW9jb2RlZCB7XG4gICAgcmV0dXJuIG5ldyBCaW5nR2VvY29kZWQoe1xuICAgICAgLi4udGhpcy50b09iamVjdCgpLFxuICAgICAgYXR0cmlidXRpb24sXG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0QXR0cmlidXRpb24oKTogdW5kZWZpbmVkIHwgc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGlvbjtcbiAgfVxuXG4gIHB1YmxpYyB3aXRoUHJlY2lzaW9uKHByZWNpc2lvbjogQmluZ1ByZWNpc2lvbik6IEJpbmdHZW9jb2RlZCB7XG4gICAgcmV0dXJuIG5ldyBCaW5nR2VvY29kZWQoe1xuICAgICAgLi4udGhpcy50b09iamVjdCgpLFxuICAgICAgcHJlY2lzaW9uLFxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGdldFByZWNpc2lvbigpOiB1bmRlZmluZWQgfCBCaW5nUHJlY2lzaW9uIHtcbiAgICByZXR1cm4gdGhpcy5wcmVjaXNpb247XG4gIH1cbn1cbiIsImltcG9ydCB7XG4gIEV4dGVybmFsTG9hZGVyQm9keSxcbiAgRXh0ZXJuYWxMb2FkZXJIZWFkZXJzLFxuICBFeHRlcm5hbExvYWRlckludGVyZmFjZSxcbiAgRXh0ZXJuYWxMb2FkZXJQYXJhbXMsXG59IGZyb20gXCJFeHRlcm5hbExvYWRlclwiO1xuaW1wb3J0IHtcbiAgQmluZ0dlb2NvZGVkLFxuICBFcnJvckNhbGxiYWNrLFxuICBHZW9jb2RlZFJlc3VsdHNDYWxsYmFjayxcbiAgUHJvdmlkZXJIZWxwZXJzLFxuICBQcm92aWRlckludGVyZmFjZSxcbiAgUHJvdmlkZXJPcHRpb25zSW50ZXJmYWNlLFxuICBkZWZhdWx0UHJvdmlkZXJPcHRpb25zLFxufSBmcm9tIFwicHJvdmlkZXJcIjtcbmltcG9ydCB7XG4gIEdlb2NvZGVRdWVyeSxcbiAgR2VvY29kZVF1ZXJ5T2JqZWN0LFxuICBSZXZlcnNlUXVlcnksXG4gIFJldmVyc2VRdWVyeU9iamVjdCxcbn0gZnJvbSBcInF1ZXJ5XCI7XG5pbXBvcnQgeyBGbGF0Qm91bmRpbmdCb3gsIEZsYXRDb29yZGluYXRlcyB9IGZyb20gXCJ0eXBlc1wiO1xuaW1wb3J0IEFkbWluTGV2ZWwgZnJvbSBcIkFkbWluTGV2ZWxcIjtcbmltcG9ydCB7IFJlc3BvbnNlRXJyb3IgfSBmcm9tIFwiZXJyb3JcIjtcblxuaW50ZXJmYWNlIEJpbmdSZXF1ZXN0UGFyYW1zIHtcbiAgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IGtleT86IHN0cmluZztcbiAgcmVhZG9ubHkgaW5jbG5iPzogc3RyaW5nO1xuICByZWFkb25seSBpbmNsPzogc3RyaW5nO1xuICByZWFkb25seSBtYXhSZXM/OiBzdHJpbmc7XG4gIHJlYWRvbmx5IGluY2x1ZGVFbnRpdHlUeXBlcz86IHN0cmluZztcbiAgcmVhZG9ubHkgYz86IHN0cmluZztcbiAgcmVhZG9ubHkganNvbnBDYWxsYmFjaz86IHN0cmluZztcbn1cblxuZXhwb3J0IHR5cGUgQmluZ1ByZWNpc2lvbiA9IFwiSGlnaFwiIHwgXCJNZWRpdW1cIiB8IFwiTG93XCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQmluZ1Jlc3VsdCB7XG4gIF9fdHlwZTogc3RyaW5nO1xuICBiYm94OiBGbGF0Qm91bmRpbmdCb3g7XG4gIG5hbWU6IHN0cmluZztcbiAgcG9pbnQ6IHtcbiAgICB0eXBlOiBzdHJpbmc7XG4gICAgY29vcmRpbmF0ZXM6IEZsYXRDb29yZGluYXRlcztcbiAgfTtcbiAgYWRkcmVzczoge1xuICAgIGFkZHJlc3NMaW5lOiBzdHJpbmc7XG4gICAgbmVpZ2hib3Job29kPzogc3RyaW5nO1xuICAgIGFkbWluRGlzdHJpY3Q6IHN0cmluZztcbiAgICBhZG1pbkRpc3RyaWN0Mjogc3RyaW5nO1xuICAgIGNvdW50cnlSZWdpb246IHN0cmluZztcbiAgICBjb3VudHJ5UmVnaW9uSXNvMj86IHN0cmluZztcbiAgICBsYW5kbWFyaz86IHN0cmluZztcbiAgICBmb3JtYXR0ZWRBZGRyZXNzOiBzdHJpbmc7XG4gICAgbG9jYWxpdHk6IHN0cmluZztcbiAgICBwb3N0YWxDb2RlOiBzdHJpbmc7XG4gIH07XG4gIGNvbmZpZGVuY2U6IEJpbmdQcmVjaXNpb247XG4gIGVudGl0eVR5cGU6IHN0cmluZztcbiAgZ2VvY29kZVBvaW50czoge1xuICAgIHR5cGU6IHN0cmluZztcbiAgICBjb29yZGluYXRlczogRmxhdENvb3JkaW5hdGVzO1xuICAgIGNhbGN1bGF0aW9uTWV0aG9kOlxuICAgICAgfCBcIkludGVycG9sYXRpb25cIlxuICAgICAgfCBcIkludGVycG9sYXRpb25PZmZzZXRcIlxuICAgICAgfCBcIlBhcmNlbFwiXG4gICAgICB8IFwiUm9vZnRvcFwiO1xuICAgIHVzYWdlVHlwZXM6IChcIkRpc3BsYXlcIiB8IFwiUm91dGVcIilbXTtcbiAgfVtdO1xuICBxdWVyeVBhcnNlVmFsdWVzPzoge1xuICAgIHByb3BlcnR5OlxuICAgICAgfCBcIiBBZGRyZXNzTGluZVwiXG4gICAgICB8IFwiTG9jYWxpdHlcIlxuICAgICAgfCBcIkFkbWluRGlzdHJpY3RcIlxuICAgICAgfCBcIkFkbWluRGlzdHJpY3QyXCJcbiAgICAgIHwgXCJQb3N0YWxDb2RlXCJcbiAgICAgIHwgXCJDb3VudHJ5UmVnaW9uXCJcbiAgICAgIHwgXCJMYW5kbWFya1wiO1xuICAgIHZhbHVlOiBzdHJpbmc7XG4gIH07XG4gIG1hdGNoQ29kZXM6IChcIkdvb2RcIiB8IFwiQW1iaWd1b3VzXCIgfCBcIlVwSGllcmFyY2h5XCIpW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQmluZ1Jlc3BvbnNlIHtcbiAgc3RhdHVzQ29kZTogbnVtYmVyO1xuICBzdGF0dXNEZXNjcmlwdGlvbjogc3RyaW5nIHwgbnVsbDtcbiAgYXV0aGVudGljYXRpb25SZXN1bHRDb2RlOlxuICAgIHwgXCJWYWxpZENyZWRlbnRpYWxzXCJcbiAgICB8IFwiSW52YWxpZENyZWRlbnRpYWxzXCJcbiAgICB8IFwiQ3JlZGVudGlhbHNFeHBpcmVkXCJcbiAgICB8IFwiTm90QXV0aG9yaXplZFwiXG4gICAgfCBcIk5vQ3JlZGVudGlhbHNcIlxuICAgIHwgXCJOb25lXCI7XG4gIHRyYWNlSWQ6IHN0cmluZztcbiAgY29weXJpZ2h0OiBzdHJpbmc7XG4gIGJyYW5kTG9nb1VyaTogc3RyaW5nO1xuICByZXNvdXJjZVNldHM6IHtcbiAgICBlc3RpbWF0ZWRUb3RhbDogbnVtYmVyO1xuICAgIHJlc291cmNlczogQmluZ1Jlc3VsdFtdO1xuICB9W107XG4gIGVycm9yRGV0YWlscz86IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJpbmdQcm92aWRlck9wdGlvbnNJbnRlcmZhY2UgZXh0ZW5kcyBQcm92aWRlck9wdGlvbnNJbnRlcmZhY2Uge1xuICByZWFkb25seSBhcGlLZXk6IHN0cmluZztcbn1cblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRCaW5nUHJvdmlkZXJPcHRpb25zID0ge1xuICAuLi5kZWZhdWx0UHJvdmlkZXJPcHRpb25zLFxuICBhcGlLZXk6IFwiXCIsXG59O1xuXG50eXBlIEJpbmdHZW9jb2RlZFJlc3VsdHNDYWxsYmFjayA9IEdlb2NvZGVkUmVzdWx0c0NhbGxiYWNrPEJpbmdHZW9jb2RlZD47XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJpbmdQcm92aWRlciBpbXBsZW1lbnRzIFByb3ZpZGVySW50ZXJmYWNlPEJpbmdHZW9jb2RlZD4ge1xuICBwcml2YXRlIGV4dGVybmFsTG9hZGVyOiBFeHRlcm5hbExvYWRlckludGVyZmFjZTtcblxuICBwcml2YXRlIG9wdGlvbnM6IEJpbmdQcm92aWRlck9wdGlvbnNJbnRlcmZhY2U7XG5cbiAgcHVibGljIGNvbnN0cnVjdG9yKFxuICAgIF9leHRlcm5hbExvYWRlcjogRXh0ZXJuYWxMb2FkZXJJbnRlcmZhY2UsXG4gICAgb3B0aW9uczogQmluZ1Byb3ZpZGVyT3B0aW9uc0ludGVyZmFjZSA9IGRlZmF1bHRCaW5nUHJvdmlkZXJPcHRpb25zXG4gICkge1xuICAgIHRoaXMuZXh0ZXJuYWxMb2FkZXIgPSBfZXh0ZXJuYWxMb2FkZXI7XG4gICAgdGhpcy5vcHRpb25zID0geyAuLi5kZWZhdWx0QmluZ1Byb3ZpZGVyT3B0aW9ucywgLi4ub3B0aW9ucyB9O1xuICAgIGlmICghdGhpcy5vcHRpb25zLmFwaUtleSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnQW4gQVBJIGtleSBpcyByZXF1aXJlZCBmb3IgdGhlIEJpbmcgcHJvdmlkZXIuIFBsZWFzZSBhZGQgaXQgaW4gdGhlIFwiYXBpS2V5XCIgb3B0aW9uLidcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGdlb2NvZGUoXG4gICAgcXVlcnk6IHN0cmluZyB8IEdlb2NvZGVRdWVyeSB8IEdlb2NvZGVRdWVyeU9iamVjdCxcbiAgICBjYWxsYmFjaz86IEJpbmdHZW9jb2RlZFJlc3VsdHNDYWxsYmFjayxcbiAgICBlcnJvckNhbGxiYWNrPzogRXJyb3JDYWxsYmFja1xuICApOiB2b2lkIHwgUHJvbWlzZTxCaW5nR2VvY29kZWRbXT4ge1xuICAgIGNvbnN0IGdlb2NvZGVRdWVyeSA9IFByb3ZpZGVySGVscGVycy5nZXRHZW9jb2RlUXVlcnlGcm9tUGFyYW1ldGVyKHF1ZXJ5KTtcblxuICAgIGlmIChnZW9jb2RlUXVlcnkuZ2V0SXAoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIlRoZSBCaW5nIHByb3ZpZGVyIGRvZXMgbm90IHN1cHBvcnQgSVAgZ2VvbG9jYXRpb24sIG9ubHkgbG9jYXRpb24gZ2VvY29kaW5nLlwiXG4gICAgICApO1xuICAgIH1cblxuICAgIHRoaXMuZXh0ZXJuYWxMb2FkZXIuc2V0T3B0aW9ucyh7XG4gICAgICBwcm90b2NvbDogdGhpcy5vcHRpb25zLnVzZVNzbCA/IFwiaHR0cHNcIiA6IFwiaHR0cFwiLFxuICAgICAgaG9zdDogXCJkZXYudmlydHVhbGVhcnRoLm5ldFwiLFxuICAgICAgcGF0aG5hbWU6IGBSRVNUL3YxL0xvY2F0aW9ucy8ke2dlb2NvZGVRdWVyeS5nZXRUZXh0KCl9YCxcbiAgICB9KTtcblxuICAgIGNvbnN0IHBhcmFtczogQmluZ1JlcXVlc3RQYXJhbXMgPSB0aGlzLndpdGhDb21tb25QYXJhbXMoXG4gICAgICB7XG4gICAgICAgIG1heFJlczogZ2VvY29kZVF1ZXJ5LmdldExpbWl0KClcbiAgICAgICAgICA/IGdlb2NvZGVRdWVyeS5nZXRMaW1pdCgpLnRvU3RyaW5nKClcbiAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgIH0sXG4gICAgICBnZW9jb2RlUXVlcnlcbiAgICApO1xuXG4gICAgaWYgKCFjYWxsYmFjaykge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+XG4gICAgICAgIHRoaXMuZXhlY3V0ZVJlcXVlc3QoXG4gICAgICAgICAgcGFyYW1zLFxuICAgICAgICAgIChyZXN1bHRzKSA9PiByZXNvbHZlKHJlc3VsdHMpLFxuICAgICAgICAgIHt9LFxuICAgICAgICAgIHt9LFxuICAgICAgICAgIChlcnJvcikgPT4gcmVqZWN0KGVycm9yKVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5leGVjdXRlUmVxdWVzdChwYXJhbXMsIGNhbGxiYWNrLCB7fSwge30sIGVycm9yQ2FsbGJhY2spO1xuICB9XG5cbiAgcHVibGljIGdlb2RlY29kZShcbiAgICBsYXRpdHVkZU9yUXVlcnk6IG51bWJlciB8IHN0cmluZyB8IFJldmVyc2VRdWVyeSB8IFJldmVyc2VRdWVyeU9iamVjdCxcbiAgICBsb25naXR1ZGVPckNhbGxiYWNrPzogbnVtYmVyIHwgc3RyaW5nIHwgQmluZ0dlb2NvZGVkUmVzdWx0c0NhbGxiYWNrLFxuICAgIGNhbGxiYWNrT3JFcnJvckNhbGxiYWNrPzogQmluZ0dlb2NvZGVkUmVzdWx0c0NhbGxiYWNrIHwgRXJyb3JDYWxsYmFjayxcbiAgICBlcnJvckNhbGxiYWNrPzogRXJyb3JDYWxsYmFja1xuICApOiB2b2lkIHwgUHJvbWlzZTxCaW5nR2VvY29kZWRbXT4ge1xuICAgIGNvbnN0IHJldmVyc2VRdWVyeSA9IFByb3ZpZGVySGVscGVycy5nZXRSZXZlcnNlUXVlcnlGcm9tUGFyYW1ldGVycyhcbiAgICAgIGxhdGl0dWRlT3JRdWVyeSxcbiAgICAgIGxvbmdpdHVkZU9yQ2FsbGJhY2tcbiAgICApO1xuICAgIGNvbnN0IHJldmVyc2VDYWxsYmFjayA9IFByb3ZpZGVySGVscGVycy5nZXRDYWxsYmFja0Zyb21QYXJhbWV0ZXJzKFxuICAgICAgbG9uZ2l0dWRlT3JDYWxsYmFjayxcbiAgICAgIGNhbGxiYWNrT3JFcnJvckNhbGxiYWNrXG4gICAgKTtcbiAgICBjb25zdCByZXZlcnNlRXJyb3JDYWxsYmFjayA9IFByb3ZpZGVySGVscGVycy5nZXRFcnJvckNhbGxiYWNrRnJvbVBhcmFtZXRlcnMoXG4gICAgICBsb25naXR1ZGVPckNhbGxiYWNrLFxuICAgICAgY2FsbGJhY2tPckVycm9yQ2FsbGJhY2ssXG4gICAgICBlcnJvckNhbGxiYWNrXG4gICAgKTtcblxuICAgIHRoaXMuZXh0ZXJuYWxMb2FkZXIuc2V0T3B0aW9ucyh7XG4gICAgICBwcm90b2NvbDogdGhpcy5vcHRpb25zLnVzZVNzbCA/IFwiaHR0cHNcIiA6IFwiaHR0cFwiLFxuICAgICAgaG9zdDogXCJkZXYudmlydHVhbGVhcnRoLm5ldFwiLFxuICAgICAgcGF0aG5hbWU6IGBSRVNUL3YxL0xvY2F0aW9ucy8ke3JldmVyc2VRdWVyeS5nZXRDb29yZGluYXRlcygpLmxhdGl0dWRlfSwke1xuICAgICAgICByZXZlcnNlUXVlcnkuZ2V0Q29vcmRpbmF0ZXMoKS5sb25naXR1ZGVcbiAgICAgIH1gLFxuICAgIH0pO1xuXG4gICAgY29uc3QgcGFyYW1zOiBCaW5nUmVxdWVzdFBhcmFtcyA9IHRoaXMud2l0aENvbW1vblBhcmFtcyh7fSwgcmV2ZXJzZVF1ZXJ5KTtcblxuICAgIGlmICghcmV2ZXJzZUNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT5cbiAgICAgICAgdGhpcy5leGVjdXRlUmVxdWVzdChcbiAgICAgICAgICBwYXJhbXMsXG4gICAgICAgICAgKHJlc3VsdHMpID0+IHJlc29sdmUocmVzdWx0cyksXG4gICAgICAgICAge30sXG4gICAgICAgICAge30sXG4gICAgICAgICAgKGVycm9yKSA9PiByZWplY3QoZXJyb3IpXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmV4ZWN1dGVSZXF1ZXN0KFxuICAgICAgcGFyYW1zLFxuICAgICAgcmV2ZXJzZUNhbGxiYWNrLFxuICAgICAge30sXG4gICAgICB7fSxcbiAgICAgIHJldmVyc2VFcnJvckNhbGxiYWNrXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgd2l0aENvbW1vblBhcmFtcyhcbiAgICBwYXJhbXM6IFBpY2s8QmluZ1JlcXVlc3RQYXJhbXMsIFwibWF4UmVzXCI+LFxuICAgIHF1ZXJ5OiBHZW9jb2RlUXVlcnkgfCBSZXZlcnNlUXVlcnlcbiAgKTogQmluZ1JlcXVlc3RQYXJhbXMge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5wYXJhbXMsXG4gICAgICBrZXk6IHRoaXMub3B0aW9ucy5hcGlLZXksXG4gICAgICBpbmNsOiBcImNpc28yXCIsXG4gICAgICBjOiBxdWVyeS5nZXRMb2NhbGUoKSxcbiAgICAgIGpzb25wQ2FsbGJhY2s6IHRoaXMub3B0aW9ucy51c2VKc29ucCA/IFwianNvbnBcIiA6IHVuZGVmaW5lZCxcbiAgICB9O1xuICB9XG5cbiAgcHVibGljIGV4ZWN1dGVSZXF1ZXN0KFxuICAgIHBhcmFtczogRXh0ZXJuYWxMb2FkZXJQYXJhbXMsXG4gICAgY2FsbGJhY2s6IEJpbmdHZW9jb2RlZFJlc3VsdHNDYWxsYmFjayxcbiAgICBoZWFkZXJzPzogRXh0ZXJuYWxMb2FkZXJIZWFkZXJzLFxuICAgIGJvZHk/OiBFeHRlcm5hbExvYWRlckJvZHksXG4gICAgZXJyb3JDYWxsYmFjaz86IEVycm9yQ2FsbGJhY2tcbiAgKTogdm9pZCB7XG4gICAgdGhpcy5leHRlcm5hbExvYWRlci5leGVjdXRlUmVxdWVzdChcbiAgICAgIHBhcmFtcyxcbiAgICAgIChkYXRhOiBCaW5nUmVzcG9uc2UpID0+IHtcbiAgICAgICAgY2FsbGJhY2soXG4gICAgICAgICAgZGF0YS5yZXNvdXJjZVNldHNbMF0ucmVzb3VyY2VzLm1hcCgocmVzdWx0OiBCaW5nUmVzdWx0KSA9PlxuICAgICAgICAgICAgQmluZ1Byb3ZpZGVyLm1hcFRvR2VvY29kZWQocmVzdWx0LCBkYXRhLmNvcHlyaWdodClcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgaGVhZGVycyxcbiAgICAgIGJvZHksXG4gICAgICAoZXJyb3IpID0+IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSA8UmVzcG9uc2U+ZXJyb3IuZ2V0UmVzcG9uc2UoKTtcbiAgICAgICAgcmVzcG9uc2UuanNvbigpLnRoZW4oKGRhdGE6IEJpbmdSZXNwb25zZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9XG4gICAgICAgICAgICBkYXRhLmVycm9yRGV0YWlscyAmJiBkYXRhLmVycm9yRGV0YWlscy5sZW5ndGggPiAwXG4gICAgICAgICAgICAgID8gZGF0YS5lcnJvckRldGFpbHNbMF1cbiAgICAgICAgICAgICAgOiBkYXRhLnN0YXR1c0Rlc2NyaXB0aW9uIHx8IFwiXCI7XG4gICAgICAgICAgaWYgKGVycm9yQ2FsbGJhY2spIHtcbiAgICAgICAgICAgIGVycm9yQ2FsbGJhY2sobmV3IFJlc3BvbnNlRXJyb3IoZXJyb3JNZXNzYWdlLCBkYXRhKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICk7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIG1hcFRvR2VvY29kZWQoXG4gICAgcmVzdWx0OiBCaW5nUmVzdWx0LFxuICAgIGF0dHJpYnV0aW9uPzogc3RyaW5nXG4gICk6IEJpbmdHZW9jb2RlZCB7XG4gICAgY29uc3QgbGF0aXR1ZGUgPSByZXN1bHQucG9pbnQuY29vcmRpbmF0ZXNbMF07XG4gICAgY29uc3QgbG9uZ2l0dWRlID0gcmVzdWx0LnBvaW50LmNvb3JkaW5hdGVzWzFdO1xuICAgIGNvbnN0IHsgZm9ybWF0dGVkQWRkcmVzcyB9ID0gcmVzdWx0LmFkZHJlc3M7XG4gICAgY29uc3Qgc3RyZWV0TmFtZSA9IHJlc3VsdC5hZGRyZXNzLmFkZHJlc3NMaW5lO1xuICAgIGNvbnN0IHsgbG9jYWxpdHksIHBvc3RhbENvZGUgfSA9IHJlc3VsdC5hZGRyZXNzO1xuICAgIGNvbnN0IHJlZ2lvbiA9IHJlc3VsdC5hZGRyZXNzLmFkbWluRGlzdHJpY3Q7XG4gICAgY29uc3QgY291bnRyeSA9IHJlc3VsdC5hZGRyZXNzLmNvdW50cnlSZWdpb247XG4gICAgY29uc3QgY291bnRyeUNvZGUgPSByZXN1bHQuYWRkcmVzcy5jb3VudHJ5UmVnaW9uSXNvMjtcbiAgICBjb25zdCBwcmVjaXNpb24gPSByZXN1bHQuY29uZmlkZW5jZTtcblxuICAgIGxldCBnZW9jb2RlZCA9IEJpbmdHZW9jb2RlZC5jcmVhdGUoe1xuICAgICAgY29vcmRpbmF0ZXM6IHtcbiAgICAgICAgbGF0aXR1ZGUsXG4gICAgICAgIGxvbmdpdHVkZSxcbiAgICAgIH0sXG4gICAgICBmb3JtYXR0ZWRBZGRyZXNzLFxuICAgICAgc3RyZWV0TmFtZSxcbiAgICAgIGxvY2FsaXR5LFxuICAgICAgcG9zdGFsQ29kZSxcbiAgICAgIHJlZ2lvbixcbiAgICAgIGNvdW50cnksXG4gICAgICBjb3VudHJ5Q29kZSxcbiAgICAgIGF0dHJpYnV0aW9uLFxuICAgICAgcHJlY2lzaW9uLFxuICAgIH0pO1xuICAgIGdlb2NvZGVkID0gPEJpbmdHZW9jb2RlZD5nZW9jb2RlZC53aXRoQm91bmRzKHtcbiAgICAgIGxhdGl0dWRlU1c6IHJlc3VsdC5iYm94WzBdLFxuICAgICAgbG9uZ2l0dWRlU1c6IHJlc3VsdC5iYm94WzFdLFxuICAgICAgbGF0aXR1ZGVORTogcmVzdWx0LmJib3hbMl0sXG4gICAgICBsb25naXR1ZGVORTogcmVzdWx0LmJib3hbM10sXG4gICAgfSk7XG5cbiAgICBjb25zdCBhZG1pbkxldmVsczogKFwiYWRtaW5EaXN0cmljdFwiIHwgXCJhZG1pbkRpc3RyaWN0MlwiKVtdID0gW1xuICAgICAgXCJhZG1pbkRpc3RyaWN0XCIsXG4gICAgICBcImFkbWluRGlzdHJpY3QyXCIsXG4gICAgXTtcbiAgICBhZG1pbkxldmVscy5mb3JFYWNoKChhZG1pbkxldmVsLCBsZXZlbCkgPT4ge1xuICAgICAgaWYgKHJlc3VsdC5hZGRyZXNzW2FkbWluTGV2ZWxdKSB7XG4gICAgICAgIGdlb2NvZGVkLmFkZEFkbWluTGV2ZWwoXG4gICAgICAgICAgQWRtaW5MZXZlbC5jcmVhdGUoe1xuICAgICAgICAgICAgbGV2ZWw6IGxldmVsICsgMSxcbiAgICAgICAgICAgIG5hbWU6IHJlc3VsdC5hZGRyZXNzW2FkbWluTGV2ZWxdIHx8IFwiXCIsXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBnZW9jb2RlZDtcbiAgfVxufVxuIiwiZXhwb3J0IHsgZGVmYXVsdCBhcyBCaW5nR2VvY29kZWQgfSBmcm9tIFwicHJvdmlkZXIvYmluZy9CaW5nR2VvY29kZWRcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQmluZ1Byb3ZpZGVyIH0gZnJvbSBcInByb3ZpZGVyL2JpbmcvQmluZ1Byb3ZpZGVyXCI7XG5leHBvcnQgKiBmcm9tIFwicHJvdmlkZXIvYmluZy9CaW5nUHJvdmlkZXJcIjtcbiIsImltcG9ydCBHZW9jb2RlZCwgeyBHZW9jb2RlZE9iamVjdCB9IGZyb20gXCJHZW9jb2RlZFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIEdlb1BsdWdpbkdlb2NvZGVkT2JqZWN0IGV4dGVuZHMgR2VvY29kZWRPYmplY3Qge1xuICByZWFkb25seSBhdHRyaWJ1dGlvbj86IHN0cmluZztcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2VvUGx1Z2luR2VvY29kZWQgZXh0ZW5kcyBHZW9jb2RlZCB7XG4gIHByaXZhdGUgcmVhZG9ubHkgYXR0cmlidXRpb24/OiBzdHJpbmc7XG5cbiAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKHtcbiAgICBhdHRyaWJ1dGlvbixcbiAgICAuLi5nZW9jb2RlZE9iamVjdFxuICB9OiBHZW9QbHVnaW5HZW9jb2RlZE9iamVjdCkge1xuICAgIHN1cGVyKGdlb2NvZGVkT2JqZWN0KTtcbiAgICB0aGlzLmF0dHJpYnV0aW9uID0gYXR0cmlidXRpb247XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGNyZWF0ZShvYmplY3Q6IEdlb1BsdWdpbkdlb2NvZGVkT2JqZWN0KTogR2VvUGx1Z2luR2VvY29kZWQge1xuICAgIHJldHVybiBuZXcgdGhpcyhvYmplY3QpO1xuICB9XG5cbiAgcHVibGljIHRvT2JqZWN0KCk6IEdlb1BsdWdpbkdlb2NvZGVkT2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3VwZXIudG9PYmplY3QoKSxcbiAgICAgIGF0dHJpYnV0aW9uOiB0aGlzLmF0dHJpYnV0aW9uLFxuICAgIH07XG4gIH1cblxuICBwdWJsaWMgd2l0aEF0dHJpYnV0aW9uKGF0dHJpYnV0aW9uOiBzdHJpbmcpOiBHZW9QbHVnaW5HZW9jb2RlZCB7XG4gICAgcmV0dXJuIG5ldyBHZW9QbHVnaW5HZW9jb2RlZCh7XG4gICAgICAuLi50aGlzLnRvT2JqZWN0KCksXG4gICAgICBhdHRyaWJ1dGlvbixcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRBdHRyaWJ1dGlvbigpOiB1bmRlZmluZWQgfCBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmF0dHJpYnV0aW9uO1xuICB9XG59XG4iLCJpbXBvcnQge1xuICBFeHRlcm5hbExvYWRlckJvZHksXG4gIEV4dGVybmFsTG9hZGVySGVhZGVycyxcbiAgRXh0ZXJuYWxMb2FkZXJJbnRlcmZhY2UsXG4gIEV4dGVybmFsTG9hZGVyUGFyYW1zLFxufSBmcm9tIFwiRXh0ZXJuYWxMb2FkZXJcIjtcbmltcG9ydCB7XG4gIEVycm9yQ2FsbGJhY2ssXG4gIEdlb2NvZGVkUmVzdWx0c0NhbGxiYWNrLFxuICBHZW9QbHVnaW5HZW9jb2RlZCxcbiAgUHJvdmlkZXJIZWxwZXJzLFxuICBQcm92aWRlckludGVyZmFjZSxcbiAgUHJvdmlkZXJPcHRpb25zSW50ZXJmYWNlLFxuICBkZWZhdWx0UHJvdmlkZXJPcHRpb25zLFxufSBmcm9tIFwicHJvdmlkZXJcIjtcbmltcG9ydCB7XG4gIEdlb2NvZGVRdWVyeSxcbiAgR2VvY29kZVF1ZXJ5T2JqZWN0LFxuICBSZXZlcnNlUXVlcnksXG4gIFJldmVyc2VRdWVyeU9iamVjdCxcbn0gZnJvbSBcInF1ZXJ5XCI7XG5pbXBvcnQgeyBSZXNwb25zZUVycm9yIH0gZnJvbSBcImVycm9yXCI7XG5pbXBvcnQgQWRtaW5MZXZlbCwgeyBBRE1JTl9MRVZFTF9DT0RFUyB9IGZyb20gXCJBZG1pbkxldmVsXCI7XG5cbmludGVyZmFjZSBHZW9QbHVnaW5SZXF1ZXN0UGFyYW1zIHtcbiAgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IGlwOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2VvUGx1Z2luUmVzdWx0IHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICBnZW9wbHVnaW5fcmVxdWVzdDogc3RyaW5nO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gIGdlb3BsdWdpbl9zdGF0dXM6IG51bWJlcjtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICBnZW9wbHVnaW5fZGVsYXk6IHN0cmluZztcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICBnZW9wbHVnaW5fY3JlZGl0OiBzdHJpbmc7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgZ2VvcGx1Z2luX2NpdHk6IHN0cmluZztcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICBnZW9wbHVnaW5fcmVnaW9uOiBzdHJpbmc7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgZ2VvcGx1Z2luX3JlZ2lvbkNvZGU6IHN0cmluZztcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICBnZW9wbHVnaW5fcmVnaW9uTmFtZTogc3RyaW5nO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gIGdlb3BsdWdpbl9hcmVhQ29kZTogc3RyaW5nO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gIGdlb3BsdWdpbl9kbWFDb2RlOiBzdHJpbmc7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgZ2VvcGx1Z2luX2NvdW50cnlDb2RlOiBzdHJpbmc7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgZ2VvcGx1Z2luX2NvdW50cnlOYW1lOiBzdHJpbmc7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgZ2VvcGx1Z2luX2luRVU6IGJvb2xlYW47XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgZ2VvcGx1Z2luX2V1VkFUcmF0ZTogbnVtYmVyO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gIGdlb3BsdWdpbl9jb250aW5lbnRDb2RlOiBzdHJpbmc7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgZ2VvcGx1Z2luX2NvbnRpbmVudE5hbWU6IHN0cmluZztcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICBnZW9wbHVnaW5fbGF0aXR1ZGU6IHN0cmluZztcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICBnZW9wbHVnaW5fbG9uZ2l0dWRlOiBzdHJpbmc7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgZ2VvcGx1Z2luX2xvY2F0aW9uQWNjdXJhY3lSYWRpdXM6IHN0cmluZztcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICBnZW9wbHVnaW5fdGltZXpvbmU6IHN0cmluZztcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICBnZW9wbHVnaW5fY3VycmVuY3lDb2RlOiBzdHJpbmc7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgZ2VvcGx1Z2luX2N1cnJlbmN5U3ltYm9sOiBzdHJpbmc7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgZ2VvcGx1Z2luX2N1cnJlbmN5U3ltYm9sX1VURjg6IHN0cmluZztcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICBnZW9wbHVnaW5fY3VycmVuY3lDb252ZXJ0ZXI6IHN0cmluZztcbn1cblxudHlwZSBHZW9QbHVnaW5HZW9jb2RlZFJlc3VsdHNDYWxsYmFjayA9IEdlb2NvZGVkUmVzdWx0c0NhbGxiYWNrPEdlb1BsdWdpbkdlb2NvZGVkPjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2VvUGx1Z2luUHJvdmlkZXJcbiAgaW1wbGVtZW50cyBQcm92aWRlckludGVyZmFjZTxHZW9QbHVnaW5HZW9jb2RlZD4ge1xuICBwcml2YXRlIGV4dGVybmFsTG9hZGVyOiBFeHRlcm5hbExvYWRlckludGVyZmFjZTtcblxuICBwcml2YXRlIG9wdGlvbnM6IFByb3ZpZGVyT3B0aW9uc0ludGVyZmFjZTtcblxuICBwdWJsaWMgY29uc3RydWN0b3IoXG4gICAgX2V4dGVybmFsTG9hZGVyOiBFeHRlcm5hbExvYWRlckludGVyZmFjZSxcbiAgICBvcHRpb25zOiBQcm92aWRlck9wdGlvbnNJbnRlcmZhY2UgPSBkZWZhdWx0UHJvdmlkZXJPcHRpb25zXG4gICkge1xuICAgIHRoaXMuZXh0ZXJuYWxMb2FkZXIgPSBfZXh0ZXJuYWxMb2FkZXI7XG4gICAgdGhpcy5vcHRpb25zID0geyAuLi5kZWZhdWx0UHJvdmlkZXJPcHRpb25zLCAuLi5vcHRpb25zIH07XG4gIH1cblxuICBwdWJsaWMgZ2VvY29kZShcbiAgICBxdWVyeTogc3RyaW5nIHwgR2VvY29kZVF1ZXJ5IHwgR2VvY29kZVF1ZXJ5T2JqZWN0LFxuICAgIGNhbGxiYWNrPzogR2VvUGx1Z2luR2VvY29kZWRSZXN1bHRzQ2FsbGJhY2ssXG4gICAgZXJyb3JDYWxsYmFjaz86IEVycm9yQ2FsbGJhY2tcbiAgKTogdm9pZCB8IFByb21pc2U8R2VvUGx1Z2luR2VvY29kZWRbXT4ge1xuICAgIGNvbnN0IGdlb2NvZGVRdWVyeSA9IFByb3ZpZGVySGVscGVycy5nZXRHZW9jb2RlUXVlcnlGcm9tUGFyYW1ldGVyKHF1ZXJ5KTtcblxuICAgIGlmIChnZW9jb2RlUXVlcnkuZ2V0VGV4dCgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiVGhlIEdlb1BsdWdpbiBwcm92aWRlciBkb2VzIG5vdCBzdXBwb3J0IGxvY2F0aW9uIGdlb2NvZGluZywgb25seSBJUCBnZW9sb2NhdGlvbi5cIlxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoW1wiMTI3LjAuMC4xXCIsIFwiOjoxXCJdLmluY2x1ZGVzKGdlb2NvZGVRdWVyeS5nZXRJcCgpIHx8IFwiXCIpKSB7XG4gICAgICBjb25zdCBnZW9jb2RlZCA9IEdlb1BsdWdpbkdlb2NvZGVkLmNyZWF0ZSh7XG4gICAgICAgIGxvY2FsaXR5OiBcImxvY2FsaG9zdFwiLFxuICAgICAgICBjb3VudHJ5OiBcImxvY2FsaG9zdFwiLFxuICAgICAgfSk7XG4gICAgICBpZiAoIWNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gcmVzb2x2ZShbZ2VvY29kZWRdKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY2FsbGJhY2soW2dlb2NvZGVkXSk7XG4gICAgfVxuXG4gICAgdGhpcy5leHRlcm5hbExvYWRlci5zZXRPcHRpb25zKHtcbiAgICAgIHByb3RvY29sOiB0aGlzLm9wdGlvbnMudXNlU3NsID8gXCJodHRwc1wiIDogXCJodHRwXCIsXG4gICAgICBob3N0OiBcInd3dy5nZW9wbHVnaW4ubmV0XCIsXG4gICAgICBwYXRobmFtZTogXCJqc29uLmdwXCIsXG4gICAgfSk7XG5cbiAgICBjb25zdCBwYXJhbXM6IEdlb1BsdWdpblJlcXVlc3RQYXJhbXMgPSB7XG4gICAgICBpcDogZ2VvY29kZVF1ZXJ5LmdldElwKCkgfHwgXCJcIixcbiAgICB9O1xuXG4gICAgaWYgKCFjYWxsYmFjaykge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+XG4gICAgICAgIHRoaXMuZXhlY3V0ZVJlcXVlc3QoXG4gICAgICAgICAgcGFyYW1zLFxuICAgICAgICAgIChyZXN1bHRzKSA9PiByZXNvbHZlKHJlc3VsdHMpLFxuICAgICAgICAgIHt9LFxuICAgICAgICAgIHt9LFxuICAgICAgICAgIChlcnJvcikgPT4gcmVqZWN0KGVycm9yKVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5leGVjdXRlUmVxdWVzdChwYXJhbXMsIGNhbGxiYWNrLCB7fSwge30sIGVycm9yQ2FsbGJhY2spO1xuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNsYXNzLW1ldGhvZHMtdXNlLXRoaXNcbiAgcHVibGljIGdlb2RlY29kZShcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gICAgbGF0aXR1ZGVPclF1ZXJ5OiBudW1iZXIgfCBzdHJpbmcgfCBSZXZlcnNlUXVlcnkgfCBSZXZlcnNlUXVlcnlPYmplY3QsXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICAgIGxvbmdpdHVkZU9yQ2FsbGJhY2s/OiBudW1iZXIgfCBzdHJpbmcgfCBHZW9QbHVnaW5HZW9jb2RlZFJlc3VsdHNDYWxsYmFjayxcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gICAgY2FsbGJhY2tPckVycm9yQ2FsbGJhY2s/OiBHZW9QbHVnaW5HZW9jb2RlZFJlc3VsdHNDYWxsYmFjayB8IEVycm9yQ2FsbGJhY2ssXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICAgIGVycm9yQ2FsbGJhY2s/OiBFcnJvckNhbGxiYWNrXG4gICk6IHZvaWQgfCBQcm9taXNlPEdlb1BsdWdpbkdlb2NvZGVkW10+IHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBcIlRoZSBHZW9QbHVnaW4gcHJvdmlkZXIgZG9lcyBub3Qgc3VwcG9ydCByZXZlcnNlIGdlb2NvZGluZy5cIlxuICAgICk7XG4gIH1cblxuICBwdWJsaWMgZXhlY3V0ZVJlcXVlc3QoXG4gICAgcGFyYW1zOiBFeHRlcm5hbExvYWRlclBhcmFtcyxcbiAgICBjYWxsYmFjazogR2VvUGx1Z2luR2VvY29kZWRSZXN1bHRzQ2FsbGJhY2ssXG4gICAgaGVhZGVycz86IEV4dGVybmFsTG9hZGVySGVhZGVycyxcbiAgICBib2R5PzogRXh0ZXJuYWxMb2FkZXJCb2R5LFxuICAgIGVycm9yQ2FsbGJhY2s/OiBFcnJvckNhbGxiYWNrXG4gICk6IHZvaWQge1xuICAgIHRoaXMuZXh0ZXJuYWxMb2FkZXIuZXhlY3V0ZVJlcXVlc3QoXG4gICAgICBwYXJhbXMsXG4gICAgICAoZGF0YTogR2VvUGx1Z2luUmVzdWx0KSA9PiB7XG4gICAgICAgIGlmICghWzIwMCwgMjA2XS5pbmNsdWRlcyhkYXRhLmdlb3BsdWdpbl9zdGF0dXMpKSB7XG4gICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gYEFuIGVycm9yIGhhcyBvY2N1cnJlZC4gU3RhdHVzOiAke2RhdGEuZ2VvcGx1Z2luX3N0YXR1c30uYDtcbiAgICAgICAgICBpZiAoZXJyb3JDYWxsYmFjaykge1xuICAgICAgICAgICAgZXJyb3JDYWxsYmFjayhuZXcgUmVzcG9uc2VFcnJvcihlcnJvck1lc3NhZ2UsIGRhdGEpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY2FsbGJhY2soW0dlb1BsdWdpblByb3ZpZGVyLm1hcFRvR2VvY29kZWQoZGF0YSldKTtcbiAgICAgIH0sXG4gICAgICBoZWFkZXJzLFxuICAgICAgYm9keSxcbiAgICAgIGVycm9yQ2FsbGJhY2tcbiAgICApO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBtYXBUb0dlb2NvZGVkKHJlc3VsdDogR2VvUGx1Z2luUmVzdWx0KTogR2VvUGx1Z2luR2VvY29kZWQge1xuICAgIGNvbnN0IGxhdGl0dWRlID0gcGFyc2VGbG9hdChyZXN1bHQuZ2VvcGx1Z2luX2xhdGl0dWRlKTtcbiAgICBjb25zdCBsb25naXR1ZGUgPSBwYXJzZUZsb2F0KHJlc3VsdC5nZW9wbHVnaW5fbG9uZ2l0dWRlKTtcbiAgICBjb25zdCBsb2NhbGl0eSA9IHJlc3VsdC5nZW9wbHVnaW5fY2l0eSB8fCB1bmRlZmluZWQ7XG4gICAgY29uc3QgcmVnaW9uID0gcmVzdWx0Lmdlb3BsdWdpbl9yZWdpb24gfHwgdW5kZWZpbmVkO1xuICAgIGNvbnN0IGNvdW50cnkgPSByZXN1bHQuZ2VvcGx1Z2luX2NvdW50cnlOYW1lIHx8IHVuZGVmaW5lZDtcbiAgICBjb25zdCBjb3VudHJ5Q29kZSA9IHJlc3VsdC5nZW9wbHVnaW5fY291bnRyeUNvZGUgfHwgdW5kZWZpbmVkO1xuICAgIGNvbnN0IHRpbWV6b25lID0gcmVzdWx0Lmdlb3BsdWdpbl90aW1lem9uZSB8fCB1bmRlZmluZWQ7XG4gICAgY29uc3QgYWRtaW5MZXZlbHM6IEFkbWluTGV2ZWxbXSA9IFtdO1xuICAgIGNvbnN0IGF0dHJpYnV0aW9uID0gcmVzdWx0Lmdlb3BsdWdpbl9jcmVkaXQgfHwgdW5kZWZpbmVkO1xuXG4gICAgaWYgKHJlc3VsdC5nZW9wbHVnaW5fcmVnaW9uTmFtZSkge1xuICAgICAgYWRtaW5MZXZlbHMucHVzaChcbiAgICAgICAgQWRtaW5MZXZlbC5jcmVhdGUoe1xuICAgICAgICAgIGxldmVsOiBBRE1JTl9MRVZFTF9DT0RFUy5TVEFURV9DT0RFLFxuICAgICAgICAgIG5hbWU6IHJlc3VsdC5nZW9wbHVnaW5fcmVnaW9uTmFtZSxcbiAgICAgICAgICBjb2RlOiByZXN1bHQuZ2VvcGx1Z2luX3JlZ2lvbkNvZGUgfHwgdW5kZWZpbmVkLFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCBnZW9jb2RlZCA9IEdlb1BsdWdpbkdlb2NvZGVkLmNyZWF0ZSh7XG4gICAgICBjb29yZGluYXRlczoge1xuICAgICAgICBsYXRpdHVkZSxcbiAgICAgICAgbG9uZ2l0dWRlLFxuICAgICAgfSxcbiAgICAgIGxvY2FsaXR5LFxuICAgICAgcmVnaW9uLFxuICAgICAgYWRtaW5MZXZlbHMsXG4gICAgICBjb3VudHJ5LFxuICAgICAgY291bnRyeUNvZGUsXG4gICAgICB0aW1lem9uZSxcbiAgICAgIGF0dHJpYnV0aW9uLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGdlb2NvZGVkO1xuICB9XG59XG4iLCJleHBvcnQgeyBkZWZhdWx0IGFzIEdlb1BsdWdpbkdlb2NvZGVkIH0gZnJvbSBcInByb3ZpZGVyL2dlb3BsdWdpbi9HZW9QbHVnaW5HZW9jb2RlZFwiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBHZW9QbHVnaW5Qcm92aWRlciB9IGZyb20gXCJwcm92aWRlci9nZW9wbHVnaW4vR2VvUGx1Z2luUHJvdmlkZXJcIjtcbmV4cG9ydCAqIGZyb20gXCJwcm92aWRlci9nZW9wbHVnaW4vR2VvUGx1Z2luUHJvdmlkZXJcIjtcbiIsImltcG9ydCB7IEdlb2NvZGVRdWVyeSwgR2VvY29kZVF1ZXJ5T2JqZWN0IH0gZnJvbSBcInF1ZXJ5XCI7XG5cbmludGVyZmFjZSBHb29nbGVNYXBzQ29tcG9uZW50IHtcbiAgbmFtZTogc3RyaW5nO1xuICB2YWx1ZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdvb2dsZU1hcHNHZW9jb2RlUXVlcnlPYmplY3QgZXh0ZW5kcyBHZW9jb2RlUXVlcnlPYmplY3Qge1xuICByZWFkb25seSBjb3VudHJ5Q29kZXM/OiBzdHJpbmdbXTtcbiAgcmVhZG9ubHkgY29tcG9uZW50cz86IEdvb2dsZU1hcHNDb21wb25lbnRbXTtcbiAgcmVhZG9ubHkgY2hhbm5lbD86IHN0cmluZztcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR29vZ2xlTWFwc0dlb2NvZGVRdWVyeSBleHRlbmRzIEdlb2NvZGVRdWVyeSB7XG4gIHByaXZhdGUgcmVhZG9ubHkgY291bnRyeUNvZGVzPzogc3RyaW5nW107XG5cbiAgcHJpdmF0ZSByZWFkb25seSBjb21wb25lbnRzPzogR29vZ2xlTWFwc0NvbXBvbmVudFtdO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgY2hhbm5lbD86IHN0cmluZztcblxuICBwcm90ZWN0ZWQgY29uc3RydWN0b3Ioe1xuICAgIGNvdW50cnlDb2RlcyxcbiAgICBjb21wb25lbnRzLFxuICAgIGNoYW5uZWwsXG4gICAgLi4uZ2VvY29kZVF1ZXJ5T2JqZWN0XG4gIH06IEdvb2dsZU1hcHNHZW9jb2RlUXVlcnlPYmplY3QpIHtcbiAgICBzdXBlcihnZW9jb2RlUXVlcnlPYmplY3QpO1xuICAgIGlmIChjb3VudHJ5Q29kZXMgJiYgY291bnRyeUNvZGVzLmxlbmd0aCAhPT0gMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhlIFwiY291bnRyeUNvZGVzXCIgcGFyYW1ldGVyIG11c3QgaGF2ZSBvbmx5IG9uZSBjb3VudHJ5IGNvZGUgdG9wLWxldmVsIGRvbWFpbi4nXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLmNvdW50cnlDb2RlcyA9IGNvdW50cnlDb2RlcztcbiAgICB0aGlzLmNvbXBvbmVudHMgPSBjb21wb25lbnRzO1xuICAgIHRoaXMuY2hhbm5lbCA9IGNoYW5uZWw7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGNyZWF0ZShcbiAgICBvYmplY3Q6IEdvb2dsZU1hcHNHZW9jb2RlUXVlcnlPYmplY3RcbiAgKTogR29vZ2xlTWFwc0dlb2NvZGVRdWVyeSB7XG4gICAgcmV0dXJuIG5ldyB0aGlzKG9iamVjdCk7XG4gIH1cblxuICBwdWJsaWMgdG9PYmplY3QoKTogR29vZ2xlTWFwc0dlb2NvZGVRdWVyeU9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN1cGVyLnRvT2JqZWN0KCksXG4gICAgICBjb3VudHJ5Q29kZXM6IHRoaXMuY291bnRyeUNvZGVzLFxuICAgICAgY29tcG9uZW50czogdGhpcy5jb21wb25lbnRzLFxuICAgICAgY2hhbm5lbDogdGhpcy5jaGFubmVsLFxuICAgIH07XG4gIH1cblxuICBwdWJsaWMgd2l0aENvdW50cnlDb2Rlcyhjb3VudHJ5Q29kZXM6IHN0cmluZ1tdKTogR29vZ2xlTWFwc0dlb2NvZGVRdWVyeSB7XG4gICAgcmV0dXJuIG5ldyBHb29nbGVNYXBzR2VvY29kZVF1ZXJ5KHsgLi4udGhpcy50b09iamVjdCgpLCBjb3VudHJ5Q29kZXMgfSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0Q291bnRyeUNvZGVzKCk6IHVuZGVmaW5lZCB8IHN0cmluZ1tdIHtcbiAgICByZXR1cm4gdGhpcy5jb3VudHJ5Q29kZXM7XG4gIH1cblxuICBwdWJsaWMgd2l0aENvbXBvbmVudHMoXG4gICAgY29tcG9uZW50czogR29vZ2xlTWFwc0NvbXBvbmVudFtdXG4gICk6IEdvb2dsZU1hcHNHZW9jb2RlUXVlcnkge1xuICAgIHJldHVybiBuZXcgR29vZ2xlTWFwc0dlb2NvZGVRdWVyeSh7IC4uLnRoaXMudG9PYmplY3QoKSwgY29tcG9uZW50cyB9KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRDb21wb25lbnRzKCk6IHVuZGVmaW5lZCB8IEdvb2dsZU1hcHNDb21wb25lbnRbXSB7XG4gICAgcmV0dXJuIHRoaXMuY29tcG9uZW50cztcbiAgfVxuXG4gIHB1YmxpYyB3aXRoQ2hhbm5lbChjaGFubmVsOiBzdHJpbmcpOiBHb29nbGVNYXBzR2VvY29kZVF1ZXJ5IHtcbiAgICByZXR1cm4gbmV3IEdvb2dsZU1hcHNHZW9jb2RlUXVlcnkoeyAuLi50aGlzLnRvT2JqZWN0KCksIGNoYW5uZWwgfSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0Q2hhbm5lbCgpOiB1bmRlZmluZWQgfCBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmNoYW5uZWw7XG4gIH1cbn1cbiIsImltcG9ydCBHZW9jb2RlZCwgeyBHZW9jb2RlZE9iamVjdCB9IGZyb20gXCJHZW9jb2RlZFwiO1xuaW1wb3J0IEFkbWluTGV2ZWwgZnJvbSBcIkFkbWluTGV2ZWxcIjtcbmltcG9ydCB7IEdvb2dsZU1hcHNQcmVjaXNpb24gfSBmcm9tIFwicHJvdmlkZXJcIjtcblxuZXhwb3J0IGludGVyZmFjZSBHb29nbGVNYXBzR2VvY29kZWRPYmplY3QgZXh0ZW5kcyBHZW9jb2RlZE9iamVjdCB7XG4gIHJlYWRvbmx5IHBsYWNlSWQ/OiBzdHJpbmc7XG4gIHJlYWRvbmx5IHBhcnRpYWxNYXRjaD86IGJvb2xlYW47XG4gIHJlYWRvbmx5IHR5cGVzPzogc3RyaW5nW107XG4gIHJlYWRvbmx5IHByZWNpc2lvbj86IEdvb2dsZU1hcHNQcmVjaXNpb247XG4gIHJlYWRvbmx5IHN0cmVldEFkZHJlc3M/OiBzdHJpbmc7XG4gIHJlYWRvbmx5IGludGVyc2VjdGlvbj86IHN0cmluZztcbiAgcmVhZG9ubHkgcG9saXRpY2FsPzogc3RyaW5nO1xuICByZWFkb25seSBjb2xsb3F1aWFsQXJlYT86IHN0cmluZztcbiAgcmVhZG9ubHkgd2FyZD86IHN0cmluZztcbiAgcmVhZG9ubHkgbmVpZ2hib3Job29kPzogc3RyaW5nO1xuICByZWFkb25seSBwcmVtaXNlPzogc3RyaW5nO1xuICByZWFkb25seSBzdWJwcmVtaXNlPzogc3RyaW5nO1xuICByZWFkb25seSBuYXR1cmFsRmVhdHVyZT86IHN0cmluZztcbiAgcmVhZG9ubHkgYWlycG9ydD86IHN0cmluZztcbiAgcmVhZG9ubHkgcGFyaz86IHN0cmluZztcbiAgcmVhZG9ubHkgcG9pbnRPZkludGVyZXN0Pzogc3RyaW5nO1xuICByZWFkb25seSBlc3RhYmxpc2htZW50Pzogc3RyaW5nO1xuICByZWFkb25seSBwb3N0YWxDb2RlU3VmZml4Pzogc3RyaW5nO1xuICByZWFkb25seSBzdWJMb2NhbGl0eUxldmVscz86IEFkbWluTGV2ZWxbXTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR29vZ2xlTWFwc0dlb2NvZGVkIGV4dGVuZHMgR2VvY29kZWQge1xuICBwcml2YXRlIHJlYWRvbmx5IHBsYWNlSWQ/OiBzdHJpbmc7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBwYXJ0aWFsTWF0Y2g/OiBib29sZWFuO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgdHlwZXM/OiBzdHJpbmdbXTtcblxuICBwcml2YXRlIHJlYWRvbmx5IHByZWNpc2lvbj86IEdvb2dsZU1hcHNQcmVjaXNpb247XG5cbiAgcHJpdmF0ZSByZWFkb25seSBzdHJlZXRBZGRyZXNzPzogc3RyaW5nO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgaW50ZXJzZWN0aW9uPzogc3RyaW5nO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgcG9saXRpY2FsPzogc3RyaW5nO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgY29sbG9xdWlhbEFyZWE/OiBzdHJpbmc7XG5cbiAgcHJpdmF0ZSByZWFkb25seSB3YXJkPzogc3RyaW5nO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgbmVpZ2hib3Job29kPzogc3RyaW5nO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgcHJlbWlzZT86IHN0cmluZztcblxuICBwcml2YXRlIHJlYWRvbmx5IHN1YnByZW1pc2U/OiBzdHJpbmc7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBuYXR1cmFsRmVhdHVyZT86IHN0cmluZztcblxuICBwcml2YXRlIHJlYWRvbmx5IGFpcnBvcnQ/OiBzdHJpbmc7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBwYXJrPzogc3RyaW5nO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgcG9pbnRPZkludGVyZXN0Pzogc3RyaW5nO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgZXN0YWJsaXNobWVudD86IHN0cmluZztcblxuICBwcml2YXRlIHJlYWRvbmx5IHBvc3RhbENvZGVTdWZmaXg/OiBzdHJpbmc7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBzdWJMb2NhbGl0eUxldmVsczogQWRtaW5MZXZlbFtdO1xuXG4gIHByb3RlY3RlZCBjb25zdHJ1Y3Rvcih7XG4gICAgcGxhY2VJZCxcbiAgICBwYXJ0aWFsTWF0Y2gsXG4gICAgdHlwZXMsXG4gICAgcHJlY2lzaW9uLFxuICAgIHN0cmVldEFkZHJlc3MsXG4gICAgaW50ZXJzZWN0aW9uLFxuICAgIHBvbGl0aWNhbCxcbiAgICBjb2xsb3F1aWFsQXJlYSxcbiAgICB3YXJkLFxuICAgIG5laWdoYm9yaG9vZCxcbiAgICBwcmVtaXNlLFxuICAgIHN1YnByZW1pc2UsXG4gICAgbmF0dXJhbEZlYXR1cmUsXG4gICAgYWlycG9ydCxcbiAgICBwYXJrLFxuICAgIHBvaW50T2ZJbnRlcmVzdCxcbiAgICBlc3RhYmxpc2htZW50LFxuICAgIHBvc3RhbENvZGVTdWZmaXgsXG4gICAgc3ViTG9jYWxpdHlMZXZlbHMsXG4gICAgLi4uZ2VvY29kZWRPYmplY3RcbiAgfTogR29vZ2xlTWFwc0dlb2NvZGVkT2JqZWN0KSB7XG4gICAgc3VwZXIoZ2VvY29kZWRPYmplY3QpO1xuICAgIHRoaXMucGxhY2VJZCA9IHBsYWNlSWQ7XG4gICAgdGhpcy5wYXJ0aWFsTWF0Y2ggPSBwYXJ0aWFsTWF0Y2g7XG4gICAgdGhpcy50eXBlcyA9IHR5cGVzO1xuICAgIHRoaXMucHJlY2lzaW9uID0gcHJlY2lzaW9uO1xuICAgIHRoaXMuc3RyZWV0QWRkcmVzcyA9IHN0cmVldEFkZHJlc3M7XG4gICAgdGhpcy5pbnRlcnNlY3Rpb24gPSBpbnRlcnNlY3Rpb247XG4gICAgdGhpcy5wb2xpdGljYWwgPSBwb2xpdGljYWw7XG4gICAgdGhpcy5jb2xsb3F1aWFsQXJlYSA9IGNvbGxvcXVpYWxBcmVhO1xuICAgIHRoaXMud2FyZCA9IHdhcmQ7XG4gICAgdGhpcy5uZWlnaGJvcmhvb2QgPSBuZWlnaGJvcmhvb2Q7XG4gICAgdGhpcy5wcmVtaXNlID0gcHJlbWlzZTtcbiAgICB0aGlzLnN1YnByZW1pc2UgPSBzdWJwcmVtaXNlO1xuICAgIHRoaXMubmF0dXJhbEZlYXR1cmUgPSBuYXR1cmFsRmVhdHVyZTtcbiAgICB0aGlzLmFpcnBvcnQgPSBhaXJwb3J0O1xuICAgIHRoaXMucGFyayA9IHBhcms7XG4gICAgdGhpcy5wb2ludE9mSW50ZXJlc3QgPSBwb2ludE9mSW50ZXJlc3Q7XG4gICAgdGhpcy5lc3RhYmxpc2htZW50ID0gZXN0YWJsaXNobWVudDtcbiAgICB0aGlzLnBvc3RhbENvZGVTdWZmaXggPSBwb3N0YWxDb2RlU3VmZml4O1xuICAgIHRoaXMuc3ViTG9jYWxpdHlMZXZlbHMgPSBzdWJMb2NhbGl0eUxldmVscyB8fCBbXTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgY3JlYXRlKG9iamVjdDogR29vZ2xlTWFwc0dlb2NvZGVkT2JqZWN0KTogR29vZ2xlTWFwc0dlb2NvZGVkIHtcbiAgICByZXR1cm4gbmV3IHRoaXMob2JqZWN0KTtcbiAgfVxuXG4gIHB1YmxpYyB0b09iamVjdCgpOiBHb29nbGVNYXBzR2VvY29kZWRPYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdXBlci50b09iamVjdCgpLFxuICAgICAgcGxhY2VJZDogdGhpcy5wbGFjZUlkLFxuICAgICAgcGFydGlhbE1hdGNoOiB0aGlzLnBhcnRpYWxNYXRjaCxcbiAgICAgIHR5cGVzOiB0aGlzLnR5cGVzLFxuICAgICAgcHJlY2lzaW9uOiB0aGlzLnByZWNpc2lvbixcbiAgICAgIHN0cmVldEFkZHJlc3M6IHRoaXMuc3RyZWV0QWRkcmVzcyxcbiAgICAgIGludGVyc2VjdGlvbjogdGhpcy5pbnRlcnNlY3Rpb24sXG4gICAgICBwb2xpdGljYWw6IHRoaXMucG9saXRpY2FsLFxuICAgICAgY29sbG9xdWlhbEFyZWE6IHRoaXMuY29sbG9xdWlhbEFyZWEsXG4gICAgICB3YXJkOiB0aGlzLndhcmQsXG4gICAgICBuZWlnaGJvcmhvb2Q6IHRoaXMubmVpZ2hib3Job29kLFxuICAgICAgcHJlbWlzZTogdGhpcy5wcmVtaXNlLFxuICAgICAgc3VicHJlbWlzZTogdGhpcy5zdWJwcmVtaXNlLFxuICAgICAgbmF0dXJhbEZlYXR1cmU6IHRoaXMubmF0dXJhbEZlYXR1cmUsXG4gICAgICBhaXJwb3J0OiB0aGlzLmFpcnBvcnQsXG4gICAgICBwYXJrOiB0aGlzLnBhcmssXG4gICAgICBwb2ludE9mSW50ZXJlc3Q6IHRoaXMucG9pbnRPZkludGVyZXN0LFxuICAgICAgZXN0YWJsaXNobWVudDogdGhpcy5lc3RhYmxpc2htZW50LFxuICAgICAgcG9zdGFsQ29kZVN1ZmZpeDogdGhpcy5wb3N0YWxDb2RlU3VmZml4LFxuICAgICAgc3ViTG9jYWxpdHlMZXZlbHM6IHRoaXMuc3ViTG9jYWxpdHlMZXZlbHMsXG4gICAgfTtcbiAgfVxuXG4gIHB1YmxpYyB3aXRoUGxhY2VJZChwbGFjZUlkOiBzdHJpbmcpOiBHb29nbGVNYXBzR2VvY29kZWQge1xuICAgIHJldHVybiBuZXcgR29vZ2xlTWFwc0dlb2NvZGVkKHtcbiAgICAgIC4uLnRoaXMudG9PYmplY3QoKSxcbiAgICAgIHBsYWNlSWQsXG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0UGxhY2VJZCgpOiB1bmRlZmluZWQgfCBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLnBsYWNlSWQ7XG4gIH1cblxuICBwdWJsaWMgd2l0aFBhcnRpYWxNYXRjaChwYXJ0aWFsTWF0Y2g6IGJvb2xlYW4pOiBHb29nbGVNYXBzR2VvY29kZWQge1xuICAgIHJldHVybiBuZXcgR29vZ2xlTWFwc0dlb2NvZGVkKHtcbiAgICAgIC4uLnRoaXMudG9PYmplY3QoKSxcbiAgICAgIHBhcnRpYWxNYXRjaCxcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBpc1BhcnRpYWxNYXRjaCgpOiB1bmRlZmluZWQgfCBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5wYXJ0aWFsTWF0Y2g7XG4gIH1cblxuICBwdWJsaWMgd2l0aFR5cGVzKHR5cGVzOiBzdHJpbmdbXSk6IEdvb2dsZU1hcHNHZW9jb2RlZCB7XG4gICAgcmV0dXJuIG5ldyBHb29nbGVNYXBzR2VvY29kZWQoe1xuICAgICAgLi4udGhpcy50b09iamVjdCgpLFxuICAgICAgdHlwZXMsXG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0VHlwZXMoKTogdW5kZWZpbmVkIHwgc3RyaW5nW10ge1xuICAgIHJldHVybiB0aGlzLnR5cGVzO1xuICB9XG5cbiAgcHVibGljIHdpdGhQcmVjaXNpb24ocHJlY2lzaW9uOiBHb29nbGVNYXBzUHJlY2lzaW9uKTogR29vZ2xlTWFwc0dlb2NvZGVkIHtcbiAgICByZXR1cm4gbmV3IEdvb2dsZU1hcHNHZW9jb2RlZCh7XG4gICAgICAuLi50aGlzLnRvT2JqZWN0KCksXG4gICAgICBwcmVjaXNpb24sXG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0UHJlY2lzaW9uKCk6IHVuZGVmaW5lZCB8IEdvb2dsZU1hcHNQcmVjaXNpb24ge1xuICAgIHJldHVybiB0aGlzLnByZWNpc2lvbjtcbiAgfVxuXG4gIHB1YmxpYyB3aXRoU3RyZWV0QWRkcmVzcyhzdHJlZXRBZGRyZXNzOiBzdHJpbmcpOiBHb29nbGVNYXBzR2VvY29kZWQge1xuICAgIHJldHVybiBuZXcgR29vZ2xlTWFwc0dlb2NvZGVkKHtcbiAgICAgIC4uLnRoaXMudG9PYmplY3QoKSxcbiAgICAgIHN0cmVldEFkZHJlc3MsXG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0U3RyZWV0QWRkcmVzcygpOiB1bmRlZmluZWQgfCBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLnN0cmVldEFkZHJlc3M7XG4gIH1cblxuICBwdWJsaWMgd2l0aEludGVyc2VjdGlvbihpbnRlcnNlY3Rpb246IHN0cmluZyk6IEdvb2dsZU1hcHNHZW9jb2RlZCB7XG4gICAgcmV0dXJuIG5ldyBHb29nbGVNYXBzR2VvY29kZWQoe1xuICAgICAgLi4udGhpcy50b09iamVjdCgpLFxuICAgICAgaW50ZXJzZWN0aW9uLFxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGdldEludGVyc2VjdGlvbigpOiB1bmRlZmluZWQgfCBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmludGVyc2VjdGlvbjtcbiAgfVxuXG4gIHB1YmxpYyB3aXRoUG9saXRpY2FsKHBvbGl0aWNhbDogc3RyaW5nKTogR29vZ2xlTWFwc0dlb2NvZGVkIHtcbiAgICByZXR1cm4gbmV3IEdvb2dsZU1hcHNHZW9jb2RlZCh7XG4gICAgICAuLi50aGlzLnRvT2JqZWN0KCksXG4gICAgICBwb2xpdGljYWwsXG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0UG9saXRpY2FsKCk6IHVuZGVmaW5lZCB8IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMucG9saXRpY2FsO1xuICB9XG5cbiAgcHVibGljIHdpdGhDb2xsb3F1aWFsQXJlYShjb2xsb3F1aWFsQXJlYTogc3RyaW5nKTogR29vZ2xlTWFwc0dlb2NvZGVkIHtcbiAgICByZXR1cm4gbmV3IEdvb2dsZU1hcHNHZW9jb2RlZCh7XG4gICAgICAuLi50aGlzLnRvT2JqZWN0KCksXG4gICAgICBjb2xsb3F1aWFsQXJlYSxcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRDb2xsb3F1aWFsQXJlYSgpOiB1bmRlZmluZWQgfCBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmNvbGxvcXVpYWxBcmVhO1xuICB9XG5cbiAgcHVibGljIHdpdGhXYXJkKHdhcmQ6IHN0cmluZyk6IEdvb2dsZU1hcHNHZW9jb2RlZCB7XG4gICAgcmV0dXJuIG5ldyBHb29nbGVNYXBzR2VvY29kZWQoe1xuICAgICAgLi4udGhpcy50b09iamVjdCgpLFxuICAgICAgd2FyZCxcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRXYXJkKCk6IHVuZGVmaW5lZCB8IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMud2FyZDtcbiAgfVxuXG4gIHB1YmxpYyB3aXRoTmVpZ2hib3Job29kKG5laWdoYm9yaG9vZDogc3RyaW5nKTogR29vZ2xlTWFwc0dlb2NvZGVkIHtcbiAgICByZXR1cm4gbmV3IEdvb2dsZU1hcHNHZW9jb2RlZCh7XG4gICAgICAuLi50aGlzLnRvT2JqZWN0KCksXG4gICAgICBuZWlnaGJvcmhvb2QsXG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0TmVpZ2hib3Job29kKCk6IHVuZGVmaW5lZCB8IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMubmVpZ2hib3Job29kO1xuICB9XG5cbiAgcHVibGljIHdpdGhQcmVtaXNlKHByZW1pc2U6IHN0cmluZyk6IEdvb2dsZU1hcHNHZW9jb2RlZCB7XG4gICAgcmV0dXJuIG5ldyBHb29nbGVNYXBzR2VvY29kZWQoe1xuICAgICAgLi4udGhpcy50b09iamVjdCgpLFxuICAgICAgcHJlbWlzZSxcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRQcmVtaXNlKCk6IHVuZGVmaW5lZCB8IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMucHJlbWlzZTtcbiAgfVxuXG4gIHB1YmxpYyB3aXRoU3VicHJlbWlzZShzdWJwcmVtaXNlOiBzdHJpbmcpOiBHb29nbGVNYXBzR2VvY29kZWQge1xuICAgIHJldHVybiBuZXcgR29vZ2xlTWFwc0dlb2NvZGVkKHtcbiAgICAgIC4uLnRoaXMudG9PYmplY3QoKSxcbiAgICAgIHN1YnByZW1pc2UsXG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0U3VicHJlbWlzZSgpOiB1bmRlZmluZWQgfCBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLnN1YnByZW1pc2U7XG4gIH1cblxuICBwdWJsaWMgd2l0aE5hdHVyYWxGZWF0dXJlKG5hdHVyYWxGZWF0dXJlOiBzdHJpbmcpOiBHb29nbGVNYXBzR2VvY29kZWQge1xuICAgIHJldHVybiBuZXcgR29vZ2xlTWFwc0dlb2NvZGVkKHtcbiAgICAgIC4uLnRoaXMudG9PYmplY3QoKSxcbiAgICAgIG5hdHVyYWxGZWF0dXJlLFxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGdldE5hdHVyYWxGZWF0dXJlKCk6IHVuZGVmaW5lZCB8IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMubmF0dXJhbEZlYXR1cmU7XG4gIH1cblxuICBwdWJsaWMgd2l0aEFpcnBvcnQoYWlycG9ydDogc3RyaW5nKTogR29vZ2xlTWFwc0dlb2NvZGVkIHtcbiAgICByZXR1cm4gbmV3IEdvb2dsZU1hcHNHZW9jb2RlZCh7XG4gICAgICAuLi50aGlzLnRvT2JqZWN0KCksXG4gICAgICBhaXJwb3J0LFxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGdldEFpcnBvcnQoKTogdW5kZWZpbmVkIHwgc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5haXJwb3J0O1xuICB9XG5cbiAgcHVibGljIHdpdGhQYXJrKHBhcms6IHN0cmluZyk6IEdvb2dsZU1hcHNHZW9jb2RlZCB7XG4gICAgcmV0dXJuIG5ldyBHb29nbGVNYXBzR2VvY29kZWQoe1xuICAgICAgLi4udGhpcy50b09iamVjdCgpLFxuICAgICAgcGFyayxcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRQYXJrKCk6IHVuZGVmaW5lZCB8IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMucGFyaztcbiAgfVxuXG4gIHB1YmxpYyB3aXRoUG9pbnRPZkludGVyZXN0KHBvaW50T2ZJbnRlcmVzdDogc3RyaW5nKTogR29vZ2xlTWFwc0dlb2NvZGVkIHtcbiAgICByZXR1cm4gbmV3IEdvb2dsZU1hcHNHZW9jb2RlZCh7XG4gICAgICAuLi50aGlzLnRvT2JqZWN0KCksXG4gICAgICBwb2ludE9mSW50ZXJlc3QsXG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0UG9pbnRPZkludGVyZXN0KCk6IHVuZGVmaW5lZCB8IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMucG9pbnRPZkludGVyZXN0O1xuICB9XG5cbiAgcHVibGljIHdpdGhFc3RhYmxpc2htZW50KGVzdGFibGlzaG1lbnQ6IHN0cmluZyk6IEdvb2dsZU1hcHNHZW9jb2RlZCB7XG4gICAgcmV0dXJuIG5ldyBHb29nbGVNYXBzR2VvY29kZWQoe1xuICAgICAgLi4udGhpcy50b09iamVjdCgpLFxuICAgICAgZXN0YWJsaXNobWVudCxcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRFc3RhYmxpc2htZW50KCk6IHVuZGVmaW5lZCB8IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuZXN0YWJsaXNobWVudDtcbiAgfVxuXG4gIHB1YmxpYyB3aXRoUG9zdGFsQ29kZVN1ZmZpeChwb3N0YWxDb2RlU3VmZml4OiBzdHJpbmcpOiBHb29nbGVNYXBzR2VvY29kZWQge1xuICAgIHJldHVybiBuZXcgR29vZ2xlTWFwc0dlb2NvZGVkKHtcbiAgICAgIC4uLnRoaXMudG9PYmplY3QoKSxcbiAgICAgIHBvc3RhbENvZGVTdWZmaXgsXG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0UG9zdGFsQ29kZVN1ZmZpeCgpOiB1bmRlZmluZWQgfCBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLnBvc3RhbENvZGVTdWZmaXg7XG4gIH1cblxuICBwdWJsaWMgYWRkU3ViTG9jYWxpdHlMZXZlbChzdWJMb2NhbGl0eUxldmVsOiBBZG1pbkxldmVsKTogdm9pZCB7XG4gICAgdGhpcy5zdWJMb2NhbGl0eUxldmVscy5wdXNoKHN1YkxvY2FsaXR5TGV2ZWwpO1xuICB9XG5cbiAgcHVibGljIGdldFN1YkxvY2FsaXR5TGV2ZWxzKCk6IEFkbWluTGV2ZWxbXSB7XG4gICAgcmV0dXJuIHRoaXMuc3ViTG9jYWxpdHlMZXZlbHM7XG4gIH1cbn1cbiIsImltcG9ydCB7XG4gIEV4dGVybmFsTG9hZGVyQm9keSxcbiAgRXh0ZXJuYWxMb2FkZXJIZWFkZXJzLFxuICBFeHRlcm5hbExvYWRlckludGVyZmFjZSxcbiAgRXh0ZXJuYWxMb2FkZXJQYXJhbXMsXG59IGZyb20gXCJFeHRlcm5hbExvYWRlclwiO1xuaW1wb3J0IHtcbiAgRXJyb3JDYWxsYmFjayxcbiAgR2VvY29kZWRSZXN1bHRzQ2FsbGJhY2ssXG4gIEdvb2dsZU1hcHNHZW9jb2RlZCxcbiAgR29vZ2xlTWFwc0dlb2NvZGVRdWVyeSxcbiAgR29vZ2xlTWFwc0dlb2NvZGVRdWVyeU9iamVjdCxcbiAgR29vZ2xlTWFwc1JldmVyc2VRdWVyeSxcbiAgR29vZ2xlTWFwc1JldmVyc2VRdWVyeU9iamVjdCxcbiAgUHJvdmlkZXJIZWxwZXJzLFxuICBQcm92aWRlckludGVyZmFjZSxcbiAgUHJvdmlkZXJPcHRpb25zSW50ZXJmYWNlLFxuICBkZWZhdWx0UHJvdmlkZXJPcHRpb25zLFxufSBmcm9tIFwicHJvdmlkZXJcIjtcbmltcG9ydCBBZG1pbkxldmVsIGZyb20gXCJBZG1pbkxldmVsXCI7XG5pbXBvcnQgeyBSZXNwb25zZUVycm9yIH0gZnJvbSBcImVycm9yXCI7XG5pbXBvcnQge1xuICBkZWNvZGVCYXNlNjQsXG4gIGRlY29kZVVybFNhZmVCYXNlNjQsXG4gIGVuY29kZVVybFNhZmVCYXNlNjQsXG4gIGZpbHRlclVuZGVmaW5lZE9iamVjdFZhbHVlcyxcbiAgZ2V0UmVxdWlyZUZ1bmMsXG4gIGlzQnJvd3Nlcixcbn0gZnJvbSBcInV0aWxzXCI7XG5cbmludGVyZmFjZSBHb29nbGVNYXBzUmVxdWVzdFBhcmFtcyB7XG4gIFtwYXJhbTogc3RyaW5nXTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBrZXk/OiBzdHJpbmc7XG4gIHJlYWRvbmx5IGNsaWVudD86IHN0cmluZztcbiAgcmVhZG9ubHkgc2lnbmF0dXJlPzogc3RyaW5nO1xuICByZWFkb25seSBjaGFubmVsPzogc3RyaW5nO1xuICByZWFkb25seSByZWdpb24/OiBzdHJpbmc7XG4gIHJlYWRvbmx5IGxhbmd1YWdlPzogc3RyaW5nO1xuICByZWFkb25seSBsaW1pdD86IHN0cmluZztcbiAgcmVhZG9ubHkgYWRkcmVzcz86IHN0cmluZztcbiAgcmVhZG9ubHkgY29tcG9uZW50cz86IHN0cmluZztcbiAgcmVhZG9ubHkgYm91bmRzPzogc3RyaW5nO1xuICByZWFkb25seSBsYXRsbmc/OiBzdHJpbmc7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgcmVhZG9ubHkgcmVzdWx0X3R5cGU/OiBzdHJpbmc7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgcmVhZG9ubHkgbG9jYXRpb25fdHlwZT86IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIEdvb2dsZU1hcHNMYXRMbmcge1xuICBsYXQ6IG51bWJlcjtcbiAgbG5nOiBudW1iZXI7XG59XG5cbnR5cGUgR29vZ2xlTWFwc1BsYWNlVHlwZSA9XG4gIHwgXCJhaXJwb3J0XCJcbiAgfCBcImFkbWluaXN0cmF0aXZlX2FyZWFfbGV2ZWxfMVwiXG4gIHwgXCJhZG1pbmlzdHJhdGl2ZV9hcmVhX2xldmVsXzJcIlxuICB8IFwiYWRtaW5pc3RyYXRpdmVfYXJlYV9sZXZlbF8zXCJcbiAgfCBcImFkbWluaXN0cmF0aXZlX2FyZWFfbGV2ZWxfNFwiXG4gIHwgXCJhZG1pbmlzdHJhdGl2ZV9hcmVhX2xldmVsXzVcIlxuICB8IFwiYXJjaGlwZWxhZ29cIlxuICB8IFwiYnVzX3N0YXRpb25cIlxuICB8IFwiY29sbG9xdWlhbF9hcmVhXCJcbiAgfCBcImNvbnRpbmVudFwiXG4gIHwgXCJjb3VudHJ5XCJcbiAgfCBcImVzdGFibGlzaG1lbnRcIlxuICB8IFwiZmluYW5jZVwiXG4gIHwgXCJmbG9vclwiXG4gIHwgXCJmb29kXCJcbiAgfCBcImdlbmVyYWxfY29udHJhY3RvclwiXG4gIHwgXCJnZW9jb2RlXCJcbiAgfCBcImhlYWx0aFwiXG4gIHwgXCJpbnRlcnNlY3Rpb25cIlxuICB8IFwibG9jYWxpdHlcIlxuICB8IFwibmF0dXJhbF9mZWF0dXJlXCJcbiAgfCBcIm5laWdoYm9yaG9vZFwiXG4gIHwgXCJwYXJrXCJcbiAgfCBcInBhcmtpbmdcIlxuICB8IFwicGxhY2Vfb2Zfd29yc2hpcFwiXG4gIHwgXCJwbHVzX2NvZGVcIlxuICB8IFwicG9pbnRfb2ZfaW50ZXJlc3RcIlxuICB8IFwicG9saXRpY2FsXCJcbiAgfCBcInBvc3RfYm94XCJcbiAgfCBcInBvc3RhbF9jb2RlXCJcbiAgfCBcInBvc3RhbF9jb2RlX3ByZWZpeFwiXG4gIHwgXCJwb3N0YWxfY29kZV9zdWZmaXhcIlxuICB8IFwicG9zdGFsX3Rvd25cIlxuICB8IFwicHJlbWlzZVwiXG4gIHwgXCJyb29tXCJcbiAgfCBcInJvdXRlXCJcbiAgfCBcInN0cmVldF9hZGRyZXNzXCJcbiAgfCBcInN0cmVldF9udW1iZXJcIlxuICB8IFwic3VibG9jYWxpdHlcIlxuICB8IFwic3VibG9jYWxpdHlfbGV2ZWxfMVwiXG4gIHwgXCJzdWJsb2NhbGl0eV9sZXZlbF8yXCJcbiAgfCBcInN1YmxvY2FsaXR5X2xldmVsXzNcIlxuICB8IFwic3VibG9jYWxpdHlfbGV2ZWxfNFwiXG4gIHwgXCJzdWJsb2NhbGl0eV9sZXZlbF81XCJcbiAgfCBcInN1YnByZW1pc2VcIlxuICB8IFwidG93bl9zcXVhcmVcIlxuICB8IFwidHJhaW5fc3RhdGlvblwiXG4gIHwgXCJ0cmFuc2l0X3N0YXRpb25cIlxuICB8IFwid2FyZFwiO1xuXG5leHBvcnQgdHlwZSBHb29nbGVNYXBzUHJlY2lzaW9uID1cbiAgfCBcIlJPT0ZUT1BcIlxuICB8IFwiUkFOR0VfSU5URVJQT0xBVEVEXCJcbiAgfCBcIkdFT01FVFJJQ19DRU5URVJcIlxuICB8IFwiQVBQUk9YSU1BVEVcIjtcblxuZXhwb3J0IGludGVyZmFjZSBHb29nbGVNYXBzUmVzdWx0IHtcbiAgZ2VvbWV0cnk6IHtcbiAgICBsb2NhdGlvbjogR29vZ2xlTWFwc0xhdExuZztcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gICAgbG9jYXRpb25fdHlwZTogR29vZ2xlTWFwc1ByZWNpc2lvbjtcbiAgICB2aWV3cG9ydDoge1xuICAgICAgbm9ydGhlYXN0OiBHb29nbGVNYXBzTGF0TG5nO1xuICAgICAgc291dGh3ZXN0OiBHb29nbGVNYXBzTGF0TG5nO1xuICAgIH07XG4gICAgYm91bmRzPzoge1xuICAgICAgbm9ydGhlYXN0OiBHb29nbGVNYXBzTGF0TG5nO1xuICAgICAgc291dGh3ZXN0OiBHb29nbGVNYXBzTGF0TG5nO1xuICAgIH07XG4gIH07XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgZm9ybWF0dGVkX2FkZHJlc3M6IHN0cmluZztcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICBhZGRyZXNzX2NvbXBvbmVudHM6IHtcbiAgICB0eXBlczogR29vZ2xlTWFwc1BsYWNlVHlwZVtdO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgICBsb25nX25hbWU6IHN0cmluZztcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gICAgc2hvcnRfbmFtZTogc3RyaW5nO1xuICB9W107XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgcGxhY2VfaWQ6IHN0cmluZztcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICBwbHVzX2NvZGU/OiB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICAgIGdsb2JhbF9jb2RlOiBzdHJpbmc7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICAgIGNvbXBvdW5kX2NvZGU/OiBzdHJpbmc7XG4gIH07XG4gIHR5cGVzOiBHb29nbGVNYXBzUGxhY2VUeXBlW107XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgcG9zdGNvZGVfbG9jYWxpdGllcz86IHN0cmluZ1tdO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gIHBhcnRpYWxfbWF0Y2g/OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEdvb2dsZU1hcHNSZXNwb25zZSB7XG4gIHJlc3VsdHM6IEdvb2dsZU1hcHNSZXN1bHRbXTtcbiAgc3RhdHVzOlxuICAgIHwgXCJPS1wiXG4gICAgfCBcIlpFUk9fUkVTVUxUU1wiXG4gICAgfCBcIk9WRVJfREFJTFlfTElNSVRcIlxuICAgIHwgXCJPVkVSX1FVRVJZX0xJTUlUXCJcbiAgICB8IFwiUkVRVUVTVF9ERU5JRURcIlxuICAgIHwgXCJJTlZBTElEX1JFUVVFU1RcIlxuICAgIHwgXCJVTktOT1dOX0VSUk9SXCI7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgZXJyb3JfbWVzc2FnZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBHb29nbGVNYXBzUHJvdmlkZXJPcHRpb25zSW50ZXJmYWNlXG4gIGV4dGVuZHMgUHJvdmlkZXJPcHRpb25zSW50ZXJmYWNlIHtcbiAgcmVhZG9ubHkgYXBpS2V5Pzogc3RyaW5nO1xuICByZWFkb25seSBzZWNyZXQ/OiBzdHJpbmc7XG4gIHJlYWRvbmx5IGNsaWVudElkPzogc3RyaW5nO1xuICByZWFkb25seSBjb3VudHJ5Q29kZXM/OiBzdHJpbmdbXTtcbn1cblxudHlwZSBHb29nbGVNYXBzR2VvY29kZWRSZXN1bHRzQ2FsbGJhY2sgPSBHZW9jb2RlZFJlc3VsdHNDYWxsYmFjazxHb29nbGVNYXBzR2VvY29kZWQ+O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHb29nbGVNYXBzUHJvdmlkZXJcbiAgaW1wbGVtZW50cyBQcm92aWRlckludGVyZmFjZTxHb29nbGVNYXBzR2VvY29kZWQ+IHtcbiAgcHJpdmF0ZSBleHRlcm5hbExvYWRlcjogRXh0ZXJuYWxMb2FkZXJJbnRlcmZhY2U7XG5cbiAgcHJpdmF0ZSBvcHRpb25zOiBHb29nbGVNYXBzUHJvdmlkZXJPcHRpb25zSW50ZXJmYWNlO1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihcbiAgICBfZXh0ZXJuYWxMb2FkZXI6IEV4dGVybmFsTG9hZGVySW50ZXJmYWNlLFxuICAgIG9wdGlvbnM6IEdvb2dsZU1hcHNQcm92aWRlck9wdGlvbnNJbnRlcmZhY2UgPSBkZWZhdWx0UHJvdmlkZXJPcHRpb25zXG4gICkge1xuICAgIHRoaXMuZXh0ZXJuYWxMb2FkZXIgPSBfZXh0ZXJuYWxMb2FkZXI7XG4gICAgdGhpcy5vcHRpb25zID0geyAuLi5kZWZhdWx0UHJvdmlkZXJPcHRpb25zLCAuLi5vcHRpb25zIH07XG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuYXBpS2V5ICYmICF0aGlzLm9wdGlvbnMuY2xpZW50SWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ0FuIEFQSSBrZXkgb3IgYSBjbGllbnQgSUQgaXMgcmVxdWlyZWQgZm9yIHRoZSBHb29nbGUgTWFwcyBwcm92aWRlci4gUGxlYXNlIGFkZCBpdCBpbiB0aGUgXCJhcGlLZXlcIiBvciB0aGUgXCJjbGllbnRJZFwiIG9wdGlvbi4nXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAodGhpcy5vcHRpb25zLmNsaWVudElkICYmICF0aGlzLm9wdGlvbnMuc2VjcmV0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdBbiBVUkwgc2lnbmluZyBzZWNyZXQgaXMgcmVxdWlyZWQgaWYgeW91IHVzZSBhIGNsaWVudCBJRCAoUHJlbWl1bSBvbmx5KS4gUGxlYXNlIGFkZCBpdCBpbiB0aGUgXCJzZWNyZXRcIiBvcHRpb24uJ1xuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHRoaXMub3B0aW9ucy5zZWNyZXQgJiYgaXNCcm93c2VyKCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1RoZSBcInNlY3JldFwiIG9wdGlvbiBjYW5ub3QgYmUgdXNlZCBpbiBhIGJyb3dzZXIgZW52aXJvbm1lbnQuJ1xuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHRoaXMub3B0aW9ucy5jb3VudHJ5Q29kZXMgJiYgdGhpcy5vcHRpb25zLmNvdW50cnlDb2Rlcy5sZW5ndGggIT09IDEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1RoZSBcImNvdW50cnlDb2Rlc1wiIG9wdGlvbiBtdXN0IGhhdmUgb25seSBvbmUgY291bnRyeSBjb2RlIHRvcC1sZXZlbCBkb21haW4uJ1xuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgZ2VvY29kZShcbiAgICBxdWVyeTogc3RyaW5nIHwgR29vZ2xlTWFwc0dlb2NvZGVRdWVyeSB8IEdvb2dsZU1hcHNHZW9jb2RlUXVlcnlPYmplY3QsXG4gICAgY2FsbGJhY2s/OiBHb29nbGVNYXBzR2VvY29kZWRSZXN1bHRzQ2FsbGJhY2ssXG4gICAgZXJyb3JDYWxsYmFjaz86IEVycm9yQ2FsbGJhY2tcbiAgKTogdm9pZCB8IFByb21pc2U8R29vZ2xlTWFwc0dlb2NvZGVkW10+IHtcbiAgICBjb25zdCBnZW9jb2RlUXVlcnkgPSBQcm92aWRlckhlbHBlcnMuZ2V0R2VvY29kZVF1ZXJ5RnJvbVBhcmFtZXRlcihcbiAgICAgIHF1ZXJ5LFxuICAgICAgR29vZ2xlTWFwc0dlb2NvZGVRdWVyeVxuICAgICk7XG5cbiAgICBpZiAoZ2VvY29kZVF1ZXJ5LmdldElwKCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJUaGUgR29vZ2xlTWFwcyBwcm92aWRlciBkb2VzIG5vdCBzdXBwb3J0IElQIGdlb2xvY2F0aW9uLCBvbmx5IGxvY2F0aW9uIGdlb2NvZGluZy5cIlxuICAgICAgKTtcbiAgICB9XG5cbiAgICB0aGlzLmV4dGVybmFsTG9hZGVyLnNldE9wdGlvbnMoe1xuICAgICAgcHJvdG9jb2w6IHRoaXMub3B0aW9ucy51c2VTc2wgPyBcImh0dHBzXCIgOiBcImh0dHBcIixcbiAgICAgIGhvc3Q6IFwibWFwcy5nb29nbGVhcGlzLmNvbVwiLFxuICAgICAgcGF0aG5hbWU6IFwibWFwcy9hcGkvZ2VvY29kZS9qc29uXCIsXG4gICAgfSk7XG5cbiAgICBjb25zdCBwYXJhbXM6IEdvb2dsZU1hcHNSZXF1ZXN0UGFyYW1zID0gdGhpcy53aXRoQ29tbW9uUGFyYW1zKFxuICAgICAge1xuICAgICAgICBhZGRyZXNzOiBnZW9jb2RlUXVlcnkuZ2V0VGV4dCgpLFxuICAgICAgICBib3VuZHM6IGdlb2NvZGVRdWVyeS5nZXRCb3VuZHMoKVxuICAgICAgICAgID8gYCR7Z2VvY29kZVF1ZXJ5LmdldEJvdW5kcygpPy5sYXRpdHVkZVNXfSwke1xuICAgICAgICAgICAgICBnZW9jb2RlUXVlcnkuZ2V0Qm91bmRzKCk/LmxvbmdpdHVkZVNXXG4gICAgICAgICAgICB9fCR7Z2VvY29kZVF1ZXJ5LmdldEJvdW5kcygpPy5sYXRpdHVkZU5FfSwke1xuICAgICAgICAgICAgICBnZW9jb2RlUXVlcnkuZ2V0Qm91bmRzKCk/LmxvbmdpdHVkZU5FXG4gICAgICAgICAgICB9YFxuICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICBjb21wb25lbnRzOiAoPEdvb2dsZU1hcHNHZW9jb2RlUXVlcnk+Z2VvY29kZVF1ZXJ5KS5nZXRDb21wb25lbnRzKClcbiAgICAgICAgICA/ICg8R29vZ2xlTWFwc0dlb2NvZGVRdWVyeT5nZW9jb2RlUXVlcnkpXG4gICAgICAgICAgICAgIC5nZXRDb21wb25lbnRzKClcbiAgICAgICAgICAgICAgPy5tYXAoKGNvbXBvbmVudCkgPT4gYCR7Y29tcG9uZW50Lm5hbWV9OiR7Y29tcG9uZW50LnZhbHVlfWApXG4gICAgICAgICAgICAgIC5qb2luKFwifFwiKVxuICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICByZWdpb246ICg8R29vZ2xlTWFwc0dlb2NvZGVRdWVyeT5nZW9jb2RlUXVlcnkpLmdldENvdW50cnlDb2RlcygpXG4gICAgICAgICAgPyAoPEdvb2dsZU1hcHNHZW9jb2RlUXVlcnk+Z2VvY29kZVF1ZXJ5KS5nZXRDb3VudHJ5Q29kZXMoKT8uam9pbihcIixcIilcbiAgICAgICAgICA6IHRoaXMub3B0aW9ucy5jb3VudHJ5Q29kZXM/LmpvaW4oXCIsXCIpLFxuICAgICAgfSxcbiAgICAgIDxHb29nbGVNYXBzR2VvY29kZVF1ZXJ5Pmdlb2NvZGVRdWVyeVxuICAgICk7XG5cbiAgICBpZiAoIWNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT5cbiAgICAgICAgdGhpcy5leGVjdXRlUmVxdWVzdChcbiAgICAgICAgICBwYXJhbXMsXG4gICAgICAgICAgKHJlc3VsdHMpID0+IHJlc29sdmUocmVzdWx0cyksXG4gICAgICAgICAge30sXG4gICAgICAgICAge30sXG4gICAgICAgICAgKGVycm9yKSA9PiByZWplY3QoZXJyb3IpXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmV4ZWN1dGVSZXF1ZXN0KHBhcmFtcywgY2FsbGJhY2ssIHt9LCB7fSwgZXJyb3JDYWxsYmFjayk7XG4gIH1cblxuICBwdWJsaWMgZ2VvZGVjb2RlKFxuICAgIGxhdGl0dWRlT3JRdWVyeTpcbiAgICAgIHwgbnVtYmVyXG4gICAgICB8IHN0cmluZ1xuICAgICAgfCBHb29nbGVNYXBzUmV2ZXJzZVF1ZXJ5XG4gICAgICB8IEdvb2dsZU1hcHNSZXZlcnNlUXVlcnlPYmplY3QsXG4gICAgbG9uZ2l0dWRlT3JDYWxsYmFjaz86IG51bWJlciB8IHN0cmluZyB8IEdvb2dsZU1hcHNHZW9jb2RlZFJlc3VsdHNDYWxsYmFjayxcbiAgICBjYWxsYmFja09yRXJyb3JDYWxsYmFjaz86IEdvb2dsZU1hcHNHZW9jb2RlZFJlc3VsdHNDYWxsYmFjayB8IEVycm9yQ2FsbGJhY2ssXG4gICAgZXJyb3JDYWxsYmFjaz86IEVycm9yQ2FsbGJhY2tcbiAgKTogdm9pZCB8IFByb21pc2U8R29vZ2xlTWFwc0dlb2NvZGVkW10+IHtcbiAgICBjb25zdCByZXZlcnNlUXVlcnkgPSBQcm92aWRlckhlbHBlcnMuZ2V0UmV2ZXJzZVF1ZXJ5RnJvbVBhcmFtZXRlcnMoXG4gICAgICBsYXRpdHVkZU9yUXVlcnksXG4gICAgICBsb25naXR1ZGVPckNhbGxiYWNrLFxuICAgICAgR29vZ2xlTWFwc1JldmVyc2VRdWVyeVxuICAgICk7XG4gICAgY29uc3QgcmV2ZXJzZUNhbGxiYWNrID0gUHJvdmlkZXJIZWxwZXJzLmdldENhbGxiYWNrRnJvbVBhcmFtZXRlcnMoXG4gICAgICBsb25naXR1ZGVPckNhbGxiYWNrLFxuICAgICAgY2FsbGJhY2tPckVycm9yQ2FsbGJhY2tcbiAgICApO1xuICAgIGNvbnN0IHJldmVyc2VFcnJvckNhbGxiYWNrID0gUHJvdmlkZXJIZWxwZXJzLmdldEVycm9yQ2FsbGJhY2tGcm9tUGFyYW1ldGVycyhcbiAgICAgIGxvbmdpdHVkZU9yQ2FsbGJhY2ssXG4gICAgICBjYWxsYmFja09yRXJyb3JDYWxsYmFjayxcbiAgICAgIGVycm9yQ2FsbGJhY2tcbiAgICApO1xuXG4gICAgdGhpcy5leHRlcm5hbExvYWRlci5zZXRPcHRpb25zKHtcbiAgICAgIHByb3RvY29sOiB0aGlzLm9wdGlvbnMudXNlU3NsID8gXCJodHRwc1wiIDogXCJodHRwXCIsXG4gICAgICBob3N0OiBcIm1hcHMuZ29vZ2xlYXBpcy5jb21cIixcbiAgICAgIHBhdGhuYW1lOiBcIm1hcHMvYXBpL2dlb2NvZGUvanNvblwiLFxuICAgIH0pO1xuXG4gICAgY29uc3QgcGFyYW1zOiBHb29nbGVNYXBzUmVxdWVzdFBhcmFtcyA9IHRoaXMud2l0aENvbW1vblBhcmFtcyhcbiAgICAgIHtcbiAgICAgICAgbGF0bG5nOiBgJHtyZXZlcnNlUXVlcnkuZ2V0Q29vcmRpbmF0ZXMoKS5sYXRpdHVkZX0sJHtcbiAgICAgICAgICByZXZlcnNlUXVlcnkuZ2V0Q29vcmRpbmF0ZXMoKS5sb25naXR1ZGVcbiAgICAgICAgfWAsXG4gICAgICAgIHJlc3VsdF90eXBlOiAoPEdvb2dsZU1hcHNSZXZlcnNlUXVlcnk+cmV2ZXJzZVF1ZXJ5KS5nZXRUeXBlcygpXG4gICAgICAgICAgPyAoPEdvb2dsZU1hcHNSZXZlcnNlUXVlcnk+cmV2ZXJzZVF1ZXJ5KS5nZXRUeXBlcygpPy5qb2luKFwifFwiKVxuICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICBsb2NhdGlvbl90eXBlOiAoPEdvb2dsZU1hcHNSZXZlcnNlUXVlcnk+cmV2ZXJzZVF1ZXJ5KS5nZXRQcmVjaXNpb25zKClcbiAgICAgICAgICA/ICg8R29vZ2xlTWFwc1JldmVyc2VRdWVyeT5yZXZlcnNlUXVlcnkpLmdldFByZWNpc2lvbnMoKT8uam9pbihcInxcIilcbiAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgIH0sXG4gICAgICA8R29vZ2xlTWFwc1JldmVyc2VRdWVyeT5yZXZlcnNlUXVlcnlcbiAgICApO1xuXG4gICAgaWYgKCFyZXZlcnNlQ2FsbGJhY2spIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PlxuICAgICAgICB0aGlzLmV4ZWN1dGVSZXF1ZXN0KFxuICAgICAgICAgIHBhcmFtcyxcbiAgICAgICAgICAocmVzdWx0cykgPT4gcmVzb2x2ZShyZXN1bHRzKSxcbiAgICAgICAgICB7fSxcbiAgICAgICAgICB7fSxcbiAgICAgICAgICAoZXJyb3IpID0+IHJlamVjdChlcnJvcilcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZXhlY3V0ZVJlcXVlc3QoXG4gICAgICBwYXJhbXMsXG4gICAgICByZXZlcnNlQ2FsbGJhY2ssXG4gICAgICB7fSxcbiAgICAgIHt9LFxuICAgICAgcmV2ZXJzZUVycm9yQ2FsbGJhY2tcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSB3aXRoQ29tbW9uUGFyYW1zKFxuICAgIHBhcmFtczogUGljazxcbiAgICAgIEdvb2dsZU1hcHNSZXF1ZXN0UGFyYW1zLFxuICAgICAgfCBcImFkZHJlc3NcIlxuICAgICAgfCBcImJvdW5kc1wiXG4gICAgICB8IFwiY29tcG9uZW50c1wiXG4gICAgICB8IFwibGF0bG5nXCJcbiAgICAgIHwgXCJsb2NhdGlvbl90eXBlXCJcbiAgICAgIHwgXCJyZWdpb25cIlxuICAgICAgfCBcInJlc3VsdF90eXBlXCJcbiAgICA+LFxuICAgIHF1ZXJ5OiBHb29nbGVNYXBzR2VvY29kZVF1ZXJ5IHwgR29vZ2xlTWFwc1JldmVyc2VRdWVyeVxuICApOiBHb29nbGVNYXBzUmVxdWVzdFBhcmFtcyB7XG4gICAgbGV0IHdpdGhDb21tb25QYXJhbXM6IEdvb2dsZU1hcHNSZXF1ZXN0UGFyYW1zID0ge1xuICAgICAgLi4ucGFyYW1zLFxuICAgICAga2V5OiB0aGlzLm9wdGlvbnMuYXBpS2V5LFxuICAgICAgY2xpZW50OiB0aGlzLm9wdGlvbnMuY2xpZW50SWQsXG4gICAgICBjaGFubmVsOiBxdWVyeS5nZXRDaGFubmVsKCksXG4gICAgICBsYW5ndWFnZTogcXVlcnkuZ2V0TG9jYWxlKCksXG4gICAgICBsaW1pdDogcXVlcnkuZ2V0TGltaXQoKS50b1N0cmluZygpLFxuICAgIH07XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnNlY3JldCkge1xuICAgICAgd2l0aENvbW1vblBhcmFtcyA9IHtcbiAgICAgICAgLi4ud2l0aENvbW1vblBhcmFtcyxcbiAgICAgICAgc2lnbmF0dXJlOiBHb29nbGVNYXBzUHJvdmlkZXIuc2lnblF1ZXJ5KFxuICAgICAgICAgIHRoaXMub3B0aW9ucy5zZWNyZXQsXG4gICAgICAgICAgdGhpcy5leHRlcm5hbExvYWRlci5nZXRPcHRpb25zKCkucGF0aG5hbWUgfHwgXCJcIixcbiAgICAgICAgICB3aXRoQ29tbW9uUGFyYW1zXG4gICAgICAgICksXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB3aXRoQ29tbW9uUGFyYW1zO1xuICB9XG5cbiAgcHVibGljIGV4ZWN1dGVSZXF1ZXN0KFxuICAgIHBhcmFtczogRXh0ZXJuYWxMb2FkZXJQYXJhbXMsXG4gICAgY2FsbGJhY2s6IEdvb2dsZU1hcHNHZW9jb2RlZFJlc3VsdHNDYWxsYmFjayxcbiAgICBoZWFkZXJzPzogRXh0ZXJuYWxMb2FkZXJIZWFkZXJzLFxuICAgIGJvZHk/OiBFeHRlcm5hbExvYWRlckJvZHksXG4gICAgZXJyb3JDYWxsYmFjaz86IEVycm9yQ2FsbGJhY2tcbiAgKTogdm9pZCB7XG4gICAgY29uc3QgeyBsaW1pdCwgLi4uZXh0ZXJuYWxMb2FkZXJQYXJhbXMgfSA9IHBhcmFtcztcblxuICAgIHRoaXMuZXh0ZXJuYWxMb2FkZXIuZXhlY3V0ZVJlcXVlc3QoXG4gICAgICBleHRlcm5hbExvYWRlclBhcmFtcyxcbiAgICAgIChkYXRhOiBHb29nbGVNYXBzUmVzcG9uc2UpID0+IHtcbiAgICAgICAgbGV0IGVycm9yTWVzc2FnZTogdW5kZWZpbmVkIHwgc3RyaW5nO1xuICAgICAgICBzd2l0Y2ggKGRhdGEuc3RhdHVzKSB7XG4gICAgICAgICAgY2FzZSBcIlJFUVVFU1RfREVOSUVEXCI6XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBcIlJlcXVlc3QgaGFzIGJlZW4gZGVuaWVkXCI7XG4gICAgICAgICAgICBpZiAoZGF0YS5lcnJvcl9tZXNzYWdlKSB7XG4gICAgICAgICAgICAgIGVycm9yTWVzc2FnZSArPSBgOiAke2RhdGEuZXJyb3JfbWVzc2FnZX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcIk9WRVJfUVVFUllfTElNSVRcIjpcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9XG4gICAgICAgICAgICAgIFwiRXhjZWVkZWQgZGFpbHkgcXVvdGEgd2hlbiBhdHRlbXB0aW5nIGdlb2NvZGluZyByZXF1ZXN0XCI7XG4gICAgICAgICAgICBpZiAoZGF0YS5lcnJvcl9tZXNzYWdlKSB7XG4gICAgICAgICAgICAgIGVycm9yTWVzc2FnZSArPSBgOiAke2RhdGEuZXJyb3JfbWVzc2FnZX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcIk9WRVJfREFJTFlfTElNSVRcIjpcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9IFwiQVBJIHVzYWdlIGhhcyBiZWVuIGxpbWl0ZWRcIjtcbiAgICAgICAgICAgIGlmIChkYXRhLmVycm9yX21lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlICs9IGA6ICR7ZGF0YS5lcnJvcl9tZXNzYWdlfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiSU5WQUxJRF9SRVFVRVNUXCI6XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBcIlRoZSByZXF1ZXN0IGlzIGludmFsaWRcIjtcbiAgICAgICAgICAgIGlmIChkYXRhLmVycm9yX21lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlICs9IGA6ICR7ZGF0YS5lcnJvcl9tZXNzYWdlfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiVU5LTk9XTl9FUlJPUlwiOlxuICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gXCJVbmtub3duIGVycm9yXCI7XG4gICAgICAgICAgICBpZiAoZGF0YS5lcnJvcl9tZXNzYWdlKSB7XG4gICAgICAgICAgICAgIGVycm9yTWVzc2FnZSArPSBgOiAke2RhdGEuZXJyb3JfbWVzc2FnZX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAvLyBJbnRlbnRpb25uYWx5IGxlZnQgZW1wdHlcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyb3JNZXNzYWdlICYmIGVycm9yQ2FsbGJhY2spIHtcbiAgICAgICAgICBlcnJvckNhbGxiYWNrKG5ldyBSZXNwb25zZUVycm9yKGVycm9yTWVzc2FnZSwgZGF0YSkpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyb3JNZXNzYWdlKSB7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB7IHJlc3VsdHMgfSA9IGRhdGE7XG4gICAgICAgIGNvbnN0IHJlc3VsdHNUb1JlbW92ZSA9XG4gICAgICAgICAgcmVzdWx0cy5sZW5ndGggLSBwYXJzZUludChsaW1pdCB8fCByZXN1bHRzLmxlbmd0aC50b1N0cmluZygpLCAxMCk7XG4gICAgICAgIGlmIChyZXN1bHRzVG9SZW1vdmUgPiAwKSB7XG4gICAgICAgICAgcmVzdWx0cy5zcGxpY2UoLXJlc3VsdHNUb1JlbW92ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBjYWxsYmFjayhcbiAgICAgICAgICByZXN1bHRzLm1hcCgocmVzdWx0OiBHb29nbGVNYXBzUmVzdWx0KSA9PlxuICAgICAgICAgICAgR29vZ2xlTWFwc1Byb3ZpZGVyLm1hcFRvR2VvY29kZWQocmVzdWx0KVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICBoZWFkZXJzLFxuICAgICAgYm9keSxcbiAgICAgIGVycm9yQ2FsbGJhY2tcbiAgICApO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBtYXBUb0dlb2NvZGVkKHJlc3VsdDogR29vZ2xlTWFwc1Jlc3VsdCk6IEdvb2dsZU1hcHNHZW9jb2RlZCB7XG4gICAgY29uc3QgbGF0aXR1ZGUgPSByZXN1bHQuZ2VvbWV0cnkubG9jYXRpb24ubGF0O1xuICAgIGNvbnN0IGxvbmdpdHVkZSA9IHJlc3VsdC5nZW9tZXRyeS5sb2NhdGlvbi5sbmc7XG4gICAgY29uc3QgZm9ybWF0dGVkQWRkcmVzcyA9IHJlc3VsdC5mb3JtYXR0ZWRfYWRkcmVzcztcbiAgICBsZXQgc3RyZWV0TnVtYmVyO1xuICAgIGxldCBzdHJlZXROYW1lO1xuICAgIGxldCBzdWJMb2NhbGl0eTtcbiAgICBsZXQgbG9jYWxpdHk7XG4gICAgbGV0IHBvc3RhbENvZGU7XG4gICAgbGV0IHJlZ2lvbjtcbiAgICBsZXQgY291bnRyeTtcbiAgICBsZXQgY291bnRyeUNvZGU7XG4gICAgY29uc3QgYWRtaW5MZXZlbHM6IEFkbWluTGV2ZWxbXSA9IFtdO1xuICAgIGNvbnN0IHBsYWNlSWQgPSByZXN1bHQucGxhY2VfaWQ7XG4gICAgY29uc3QgcGFydGlhbE1hdGNoID0gcmVzdWx0LnBhcnRpYWxfbWF0Y2g7XG4gICAgY29uc3QgeyB0eXBlcyB9ID0gcmVzdWx0O1xuICAgIGNvbnN0IHByZWNpc2lvbiA9IHJlc3VsdC5nZW9tZXRyeS5sb2NhdGlvbl90eXBlO1xuICAgIGxldCBzdHJlZXRBZGRyZXNzO1xuICAgIGxldCBpbnRlcnNlY3Rpb247XG4gICAgbGV0IHBvbGl0aWNhbDtcbiAgICBsZXQgY29sbG9xdWlhbEFyZWE7XG4gICAgbGV0IHdhcmQ7XG4gICAgbGV0IG5laWdoYm9yaG9vZDtcbiAgICBsZXQgcHJlbWlzZTtcbiAgICBsZXQgc3VicHJlbWlzZTtcbiAgICBsZXQgbmF0dXJhbEZlYXR1cmU7XG4gICAgbGV0IGFpcnBvcnQ7XG4gICAgbGV0IHBhcms7XG4gICAgbGV0IHBvaW50T2ZJbnRlcmVzdDtcbiAgICBsZXQgZXN0YWJsaXNobWVudDtcbiAgICBsZXQgcG9zdGFsQ29kZVN1ZmZpeDtcbiAgICBjb25zdCBzdWJMb2NhbGl0eUxldmVsczogQWRtaW5MZXZlbFtdID0gW107XG5cbiAgICByZXN1bHQuYWRkcmVzc19jb21wb25lbnRzLmZvckVhY2goKGFkZHJlc3NDb21wb25lbnQpID0+IHtcbiAgICAgIGFkZHJlc3NDb21wb25lbnQudHlwZXMuZm9yRWFjaCgodHlwZSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICBjYXNlIFwic3RyZWV0X251bWJlclwiOlxuICAgICAgICAgICAgc3RyZWV0TnVtYmVyID0gYWRkcmVzc0NvbXBvbmVudC5sb25nX25hbWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwicm91dGVcIjpcbiAgICAgICAgICAgIHN0cmVldE5hbWUgPSBhZGRyZXNzQ29tcG9uZW50LmxvbmdfbmFtZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJzdWJsb2NhbGl0eVwiOlxuICAgICAgICAgICAgc3ViTG9jYWxpdHkgPSBhZGRyZXNzQ29tcG9uZW50LmxvbmdfbmFtZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJsb2NhbGl0eVwiOlxuICAgICAgICAgIGNhc2UgXCJwb3N0YWxfdG93blwiOlxuICAgICAgICAgICAgbG9jYWxpdHkgPSBhZGRyZXNzQ29tcG9uZW50LmxvbmdfbmFtZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJwb3N0YWxfY29kZVwiOlxuICAgICAgICAgICAgcG9zdGFsQ29kZSA9IGFkZHJlc3NDb21wb25lbnQubG9uZ19uYW1lO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcImFkbWluaXN0cmF0aXZlX2FyZWFfbGV2ZWxfMVwiOlxuICAgICAgICAgIGNhc2UgXCJhZG1pbmlzdHJhdGl2ZV9hcmVhX2xldmVsXzJcIjpcbiAgICAgICAgICBjYXNlIFwiYWRtaW5pc3RyYXRpdmVfYXJlYV9sZXZlbF8zXCI6XG4gICAgICAgICAgY2FzZSBcImFkbWluaXN0cmF0aXZlX2FyZWFfbGV2ZWxfNFwiOlxuICAgICAgICAgIGNhc2UgXCJhZG1pbmlzdHJhdGl2ZV9hcmVhX2xldmVsXzVcIjpcbiAgICAgICAgICAgIGlmICh0eXBlID09PSBcImFkbWluaXN0cmF0aXZlX2FyZWFfbGV2ZWxfMVwiKSB7XG4gICAgICAgICAgICAgIHJlZ2lvbiA9IGFkZHJlc3NDb21wb25lbnQubG9uZ19uYW1lO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhZG1pbkxldmVscy5wdXNoKFxuICAgICAgICAgICAgICBBZG1pbkxldmVsLmNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgbGV2ZWw6IHBhcnNlSW50KHR5cGUuc3Vic3RyKC0xKSwgMTApLFxuICAgICAgICAgICAgICAgIG5hbWU6IGFkZHJlc3NDb21wb25lbnQubG9uZ19uYW1lLFxuICAgICAgICAgICAgICAgIGNvZGU6IGFkZHJlc3NDb21wb25lbnQuc2hvcnRfbmFtZSxcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwic3VibG9jYWxpdHlfbGV2ZWxfMVwiOlxuICAgICAgICAgIGNhc2UgXCJzdWJsb2NhbGl0eV9sZXZlbF8yXCI6XG4gICAgICAgICAgY2FzZSBcInN1YmxvY2FsaXR5X2xldmVsXzNcIjpcbiAgICAgICAgICBjYXNlIFwic3VibG9jYWxpdHlfbGV2ZWxfNFwiOlxuICAgICAgICAgIGNhc2UgXCJzdWJsb2NhbGl0eV9sZXZlbF81XCI6XG4gICAgICAgICAgICBzdWJMb2NhbGl0eUxldmVscy5wdXNoKFxuICAgICAgICAgICAgICBBZG1pbkxldmVsLmNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgbGV2ZWw6IHBhcnNlSW50KHR5cGUuc3Vic3RyKC0xKSwgMTApLFxuICAgICAgICAgICAgICAgIG5hbWU6IGFkZHJlc3NDb21wb25lbnQubG9uZ19uYW1lLFxuICAgICAgICAgICAgICAgIGNvZGU6IGFkZHJlc3NDb21wb25lbnQuc2hvcnRfbmFtZSxcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiY291bnRyeVwiOlxuICAgICAgICAgICAgY291bnRyeSA9IGFkZHJlc3NDb21wb25lbnQubG9uZ19uYW1lO1xuICAgICAgICAgICAgY291bnRyeUNvZGUgPSBhZGRyZXNzQ29tcG9uZW50LnNob3J0X25hbWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwic3RyZWV0X2FkZHJlc3NcIjpcbiAgICAgICAgICAgIHN0cmVldEFkZHJlc3MgPSBhZGRyZXNzQ29tcG9uZW50LmxvbmdfbmFtZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJpbnRlcnNlY3Rpb25cIjpcbiAgICAgICAgICAgIGludGVyc2VjdGlvbiA9IGFkZHJlc3NDb21wb25lbnQubG9uZ19uYW1lO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInBvbGl0aWNhbFwiOlxuICAgICAgICAgICAgcG9saXRpY2FsID0gYWRkcmVzc0NvbXBvbmVudC5sb25nX25hbWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiY29sbG9xdWlhbF9hcmVhXCI6XG4gICAgICAgICAgICBjb2xsb3F1aWFsQXJlYSA9IGFkZHJlc3NDb21wb25lbnQubG9uZ19uYW1lO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcIndhcmRcIjpcbiAgICAgICAgICAgIHdhcmQgPSBhZGRyZXNzQ29tcG9uZW50LmxvbmdfbmFtZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJuZWlnaGJvcmhvb2RcIjpcbiAgICAgICAgICAgIG5laWdoYm9yaG9vZCA9IGFkZHJlc3NDb21wb25lbnQubG9uZ19uYW1lO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInByZW1pc2VcIjpcbiAgICAgICAgICAgIHByZW1pc2UgPSBhZGRyZXNzQ29tcG9uZW50LmxvbmdfbmFtZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJzdWJwcmVtaXNlXCI6XG4gICAgICAgICAgICBzdWJwcmVtaXNlID0gYWRkcmVzc0NvbXBvbmVudC5sb25nX25hbWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwibmF0dXJhbF9mZWF0dXJlXCI6XG4gICAgICAgICAgICBuYXR1cmFsRmVhdHVyZSA9IGFkZHJlc3NDb21wb25lbnQubG9uZ19uYW1lO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcImFpcnBvcnRcIjpcbiAgICAgICAgICAgIGFpcnBvcnQgPSBhZGRyZXNzQ29tcG9uZW50LmxvbmdfbmFtZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJwYXJrXCI6XG4gICAgICAgICAgICBwYXJrID0gYWRkcmVzc0NvbXBvbmVudC5sb25nX25hbWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwicG9pbnRfb2ZfaW50ZXJlc3RcIjpcbiAgICAgICAgICAgIHBvaW50T2ZJbnRlcmVzdCA9IGFkZHJlc3NDb21wb25lbnQubG9uZ19uYW1lO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcImVzdGFibGlzaG1lbnRcIjpcbiAgICAgICAgICAgIGVzdGFibGlzaG1lbnQgPSBhZGRyZXNzQ29tcG9uZW50LmxvbmdfbmFtZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJwb3N0YWxfY29kZV9zdWZmaXhcIjpcbiAgICAgICAgICAgIHBvc3RhbENvZGVTdWZmaXggPSBhZGRyZXNzQ29tcG9uZW50LmxvbmdfbmFtZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgbGV0IGdlb2NvZGVkID0gR29vZ2xlTWFwc0dlb2NvZGVkLmNyZWF0ZSh7XG4gICAgICBjb29yZGluYXRlczoge1xuICAgICAgICBsYXRpdHVkZSxcbiAgICAgICAgbG9uZ2l0dWRlLFxuICAgICAgfSxcbiAgICAgIGZvcm1hdHRlZEFkZHJlc3MsXG4gICAgICBzdHJlZXROdW1iZXIsXG4gICAgICBzdHJlZXROYW1lLFxuICAgICAgc3ViTG9jYWxpdHksXG4gICAgICBsb2NhbGl0eSxcbiAgICAgIHBvc3RhbENvZGUsXG4gICAgICByZWdpb24sXG4gICAgICBjb3VudHJ5LFxuICAgICAgY291bnRyeUNvZGUsXG4gICAgICBhZG1pbkxldmVscyxcbiAgICAgIHBsYWNlSWQsXG4gICAgICBwYXJ0aWFsTWF0Y2gsXG4gICAgICB0eXBlcyxcbiAgICAgIHByZWNpc2lvbixcbiAgICAgIHN0cmVldEFkZHJlc3MsXG4gICAgICBpbnRlcnNlY3Rpb24sXG4gICAgICBwb2xpdGljYWwsXG4gICAgICBjb2xsb3F1aWFsQXJlYSxcbiAgICAgIHdhcmQsXG4gICAgICBuZWlnaGJvcmhvb2QsXG4gICAgICBwcmVtaXNlLFxuICAgICAgc3VicHJlbWlzZSxcbiAgICAgIG5hdHVyYWxGZWF0dXJlLFxuICAgICAgYWlycG9ydCxcbiAgICAgIHBhcmssXG4gICAgICBwb2ludE9mSW50ZXJlc3QsXG4gICAgICBlc3RhYmxpc2htZW50LFxuICAgICAgcG9zdGFsQ29kZVN1ZmZpeCxcbiAgICAgIHN1YkxvY2FsaXR5TGV2ZWxzLFxuICAgIH0pO1xuXG4gICAgaWYgKHJlc3VsdC5nZW9tZXRyeS5ib3VuZHMpIHtcbiAgICAgIGNvbnN0IHsgYm91bmRzIH0gPSByZXN1bHQuZ2VvbWV0cnk7XG4gICAgICBnZW9jb2RlZCA9IDxHb29nbGVNYXBzR2VvY29kZWQ+Z2VvY29kZWQud2l0aEJvdW5kcyh7XG4gICAgICAgIGxhdGl0dWRlU1c6IGJvdW5kcy5zb3V0aHdlc3QubGF0LFxuICAgICAgICBsb25naXR1ZGVTVzogYm91bmRzLnNvdXRod2VzdC5sbmcsXG4gICAgICAgIGxhdGl0dWRlTkU6IGJvdW5kcy5ub3J0aGVhc3QubGF0LFxuICAgICAgICBsb25naXR1ZGVORTogYm91bmRzLm5vcnRoZWFzdC5sbmcsXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHJlc3VsdC5nZW9tZXRyeS52aWV3cG9ydCkge1xuICAgICAgY29uc3QgeyB2aWV3cG9ydCB9ID0gcmVzdWx0Lmdlb21ldHJ5O1xuICAgICAgZ2VvY29kZWQgPSA8R29vZ2xlTWFwc0dlb2NvZGVkPmdlb2NvZGVkLndpdGhCb3VuZHMoe1xuICAgICAgICBsYXRpdHVkZVNXOiB2aWV3cG9ydC5zb3V0aHdlc3QubGF0LFxuICAgICAgICBsb25naXR1ZGVTVzogdmlld3BvcnQuc291dGh3ZXN0LmxuZyxcbiAgICAgICAgbGF0aXR1ZGVORTogdmlld3BvcnQubm9ydGhlYXN0LmxhdCxcbiAgICAgICAgbG9uZ2l0dWRlTkU6IHZpZXdwb3J0Lm5vcnRoZWFzdC5sbmcsXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHByZWNpc2lvbiA9PT0gXCJST09GVE9QXCIpIHtcbiAgICAgIC8vIEZha2UgYm91bmRzXG4gICAgICBnZW9jb2RlZCA9IDxHb29nbGVNYXBzR2VvY29kZWQ+Z2VvY29kZWQud2l0aEJvdW5kcyh7XG4gICAgICAgIGxhdGl0dWRlU1c6IGxhdGl0dWRlLFxuICAgICAgICBsb25naXR1ZGVTVzogbG9uZ2l0dWRlLFxuICAgICAgICBsYXRpdHVkZU5FOiBsYXRpdHVkZSxcbiAgICAgICAgbG9uZ2l0dWRlTkU6IGxvbmdpdHVkZSxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBnZW9jb2RlZDtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIHNpZ25RdWVyeShcbiAgICBzZWNyZXQ6IHN0cmluZyxcbiAgICBwYXRobmFtZTogc3RyaW5nLFxuICAgIHBhcmFtczogR29vZ2xlTWFwc1JlcXVlc3RQYXJhbXNcbiAgKTogc3RyaW5nIHtcbiAgICBjb25zdCBjcnlwdG8gPSBnZXRSZXF1aXJlRnVuYygpKFwiY3J5cHRvXCIpO1xuXG4gICAgY29uc3QgZmlsdGVyZWRSZXF1ZXN0UGFyYW1zID0gZmlsdGVyVW5kZWZpbmVkT2JqZWN0VmFsdWVzKHBhcmFtcyk7XG5cbiAgICBjb25zdCBzYWZlU2VjcmV0ID0gZGVjb2RlQmFzZTY0KGRlY29kZVVybFNhZmVCYXNlNjQoc2VjcmV0KSk7XG4gICAgY29uc3QgdG9TaWduID0gYCR7cGF0aG5hbWV9PyR7bmV3IFVSTFNlYXJjaFBhcmFtcyhcbiAgICAgIGZpbHRlcmVkUmVxdWVzdFBhcmFtc1xuICAgICkudG9TdHJpbmcoKX1gO1xuICAgIGNvbnN0IGhhc2hlZFNpZ25hdHVyZSA9IGVuY29kZVVybFNhZmVCYXNlNjQoXG4gICAgICBjcnlwdG8uY3JlYXRlSG1hYyhcInNoYTFcIiwgc2FmZVNlY3JldCkudXBkYXRlKHRvU2lnbikuZGlnZXN0KFwiYmFzZTY0XCIpXG4gICAgKTtcblxuICAgIHJldHVybiBoYXNoZWRTaWduYXR1cmU7XG4gIH1cbn1cbiIsImltcG9ydCB7IFJldmVyc2VRdWVyeSwgUmV2ZXJzZVF1ZXJ5T2JqZWN0IH0gZnJvbSBcInF1ZXJ5XCI7XG5pbXBvcnQgeyBHb29nbGVNYXBzUHJlY2lzaW9uIH0gZnJvbSBcInByb3ZpZGVyXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgR29vZ2xlTWFwc1JldmVyc2VRdWVyeU9iamVjdCBleHRlbmRzIFJldmVyc2VRdWVyeU9iamVjdCB7XG4gIHJlYWRvbmx5IHR5cGVzPzogc3RyaW5nW107XG4gIHJlYWRvbmx5IHByZWNpc2lvbnM/OiBHb29nbGVNYXBzUHJlY2lzaW9uW107XG4gIHJlYWRvbmx5IGNoYW5uZWw/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdvb2dsZU1hcHNSZXZlcnNlUXVlcnkgZXh0ZW5kcyBSZXZlcnNlUXVlcnkge1xuICBwcml2YXRlIHJlYWRvbmx5IHR5cGVzPzogc3RyaW5nW107XG5cbiAgcHJpdmF0ZSByZWFkb25seSBwcmVjaXNpb25zPzogR29vZ2xlTWFwc1ByZWNpc2lvbltdO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgY2hhbm5lbD86IHN0cmluZztcblxuICBwcm90ZWN0ZWQgY29uc3RydWN0b3Ioe1xuICAgIHR5cGVzLFxuICAgIHByZWNpc2lvbnMsXG4gICAgY2hhbm5lbCxcbiAgICAuLi5yZXZlcnNlUXVlcnlPYmplY3RcbiAgfTogR29vZ2xlTWFwc1JldmVyc2VRdWVyeU9iamVjdCkge1xuICAgIHN1cGVyKHJldmVyc2VRdWVyeU9iamVjdCk7XG4gICAgdGhpcy50eXBlcyA9IHR5cGVzO1xuICAgIHRoaXMucHJlY2lzaW9ucyA9IHByZWNpc2lvbnM7XG4gICAgdGhpcy5jaGFubmVsID0gY2hhbm5lbDtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgY3JlYXRlKFxuICAgIG9iamVjdDogR29vZ2xlTWFwc1JldmVyc2VRdWVyeU9iamVjdFxuICApOiBHb29nbGVNYXBzUmV2ZXJzZVF1ZXJ5IHtcbiAgICByZXR1cm4gbmV3IHRoaXMob2JqZWN0KTtcbiAgfVxuXG4gIHB1YmxpYyB0b09iamVjdCgpOiBHb29nbGVNYXBzUmV2ZXJzZVF1ZXJ5T2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3VwZXIudG9PYmplY3QoKSxcbiAgICAgIHR5cGVzOiB0aGlzLnR5cGVzLFxuICAgICAgcHJlY2lzaW9uczogdGhpcy5wcmVjaXNpb25zLFxuICAgICAgY2hhbm5lbDogdGhpcy5jaGFubmVsLFxuICAgIH07XG4gIH1cblxuICBwdWJsaWMgd2l0aFR5cGVzKHR5cGVzOiBzdHJpbmdbXSk6IEdvb2dsZU1hcHNSZXZlcnNlUXVlcnkge1xuICAgIHJldHVybiBuZXcgR29vZ2xlTWFwc1JldmVyc2VRdWVyeSh7IC4uLnRoaXMudG9PYmplY3QoKSwgdHlwZXMgfSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0VHlwZXMoKTogdW5kZWZpbmVkIHwgc3RyaW5nW10ge1xuICAgIHJldHVybiB0aGlzLnR5cGVzO1xuICB9XG5cbiAgcHVibGljIHdpdGhQcmVjaXNpb25zKFxuICAgIHByZWNpc2lvbnM6IEdvb2dsZU1hcHNQcmVjaXNpb25bXVxuICApOiBHb29nbGVNYXBzUmV2ZXJzZVF1ZXJ5IHtcbiAgICByZXR1cm4gbmV3IEdvb2dsZU1hcHNSZXZlcnNlUXVlcnkoeyAuLi50aGlzLnRvT2JqZWN0KCksIHByZWNpc2lvbnMgfSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0UHJlY2lzaW9ucygpOiB1bmRlZmluZWQgfCBHb29nbGVNYXBzUHJlY2lzaW9uW10ge1xuICAgIHJldHVybiB0aGlzLnByZWNpc2lvbnM7XG4gIH1cblxuICBwdWJsaWMgd2l0aENoYW5uZWwoY2hhbm5lbDogc3RyaW5nKTogR29vZ2xlTWFwc1JldmVyc2VRdWVyeSB7XG4gICAgcmV0dXJuIG5ldyBHb29nbGVNYXBzUmV2ZXJzZVF1ZXJ5KHsgLi4udGhpcy50b09iamVjdCgpLCBjaGFubmVsIH0pO1xuICB9XG5cbiAgcHVibGljIGdldENoYW5uZWwoKTogdW5kZWZpbmVkIHwgc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5jaGFubmVsO1xuICB9XG59XG4iLCJleHBvcnQgeyBkZWZhdWx0IGFzIEdvb2dsZU1hcHNHZW9jb2RlZCB9IGZyb20gXCJwcm92aWRlci9nb29nbGVtYXBzL0dvb2dsZU1hcHNHZW9jb2RlZFwiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBHb29nbGVNYXBzR2VvY29kZVF1ZXJ5IH0gZnJvbSBcInByb3ZpZGVyL2dvb2dsZW1hcHMvR29vZ2xlTWFwc0dlb2NvZGVRdWVyeVwiO1xuZXhwb3J0ICogZnJvbSBcInByb3ZpZGVyL2dvb2dsZW1hcHMvR29vZ2xlTWFwc0dlb2NvZGVRdWVyeVwiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBHb29nbGVNYXBzUHJvdmlkZXIgfSBmcm9tIFwicHJvdmlkZXIvZ29vZ2xlbWFwcy9Hb29nbGVNYXBzUHJvdmlkZXJcIjtcbmV4cG9ydCAqIGZyb20gXCJwcm92aWRlci9nb29nbGVtYXBzL0dvb2dsZU1hcHNQcm92aWRlclwiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBHb29nbGVNYXBzUmV2ZXJzZVF1ZXJ5IH0gZnJvbSBcInByb3ZpZGVyL2dvb2dsZW1hcHMvR29vZ2xlTWFwc1JldmVyc2VRdWVyeVwiO1xuZXhwb3J0ICogZnJvbSBcInByb3ZpZGVyL2dvb2dsZW1hcHMvR29vZ2xlTWFwc1JldmVyc2VRdWVyeVwiO1xuIiwiZXhwb3J0IHsgZGVmYXVsdCBhcyBQcm92aWRlckhlbHBlcnMgfSBmcm9tIFwicHJvdmlkZXIvUHJvdmlkZXJIZWxwZXJzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFByb3ZpZGVySW50ZXJmYWNlIH0gZnJvbSBcInByb3ZpZGVyL1Byb3ZpZGVySW50ZXJmYWNlXCI7XG5leHBvcnQgKiBmcm9tIFwicHJvdmlkZXIvUHJvdmlkZXJJbnRlcmZhY2VcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgQ2hhaW5Qcm92aWRlciB9IGZyb20gXCJwcm92aWRlci9DaGFpblByb3ZpZGVyXCI7XG5leHBvcnQgKiBmcm9tIFwicHJvdmlkZXIvQ2hhaW5Qcm92aWRlclwiO1xuZXhwb3J0ICogZnJvbSBcInByb3ZpZGVyL2JpbmdcIjtcbmV4cG9ydCAqIGZyb20gXCJwcm92aWRlci9nZW9wbHVnaW5cIjtcbmV4cG9ydCAqIGZyb20gXCJwcm92aWRlci9nb29nbGVtYXBzXCI7XG5leHBvcnQgKiBmcm9tIFwicHJvdmlkZXIvbG9jYXRpb25pcVwiO1xuZXhwb3J0ICogZnJvbSBcInByb3ZpZGVyL21hcGJveFwiO1xuZXhwb3J0ICogZnJvbSBcInByb3ZpZGVyL21hcHF1ZXN0XCI7XG5leHBvcnQgKiBmcm9tIFwicHJvdmlkZXIvbm9taW5hdGltXCI7XG5leHBvcnQgKiBmcm9tIFwicHJvdmlkZXIvb3BlbmNhZ2VcIjtcbmV4cG9ydCAqIGZyb20gXCJwcm92aWRlci95YW5kZXhcIjtcbiIsImltcG9ydCB7IEdlb2NvZGVRdWVyeSwgR2VvY29kZVF1ZXJ5T2JqZWN0IH0gZnJvbSBcInF1ZXJ5XCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG9jYXRpb25JUUdlb2NvZGVRdWVyeU9iamVjdCBleHRlbmRzIEdlb2NvZGVRdWVyeU9iamVjdCB7XG4gIHJlYWRvbmx5IGNvdW50cnlDb2Rlcz86IHN0cmluZ1tdO1xuICByZWFkb25seSBleGNsdWRlUGxhY2VJZHM/OiBudW1iZXJbXTtcbiAgcmVhZG9ubHkgYm91bmRlZD86IGJvb2xlYW47XG4gIHJlYWRvbmx5IGRlZHVwZT86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvY2F0aW9uSVFHZW9jb2RlUXVlcnkgZXh0ZW5kcyBHZW9jb2RlUXVlcnkge1xuICBwcml2YXRlIHJlYWRvbmx5IGNvdW50cnlDb2Rlcz86IHN0cmluZ1tdO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgZXhjbHVkZVBsYWNlSWRzPzogbnVtYmVyW107XG5cbiAgcHJpdmF0ZSByZWFkb25seSBib3VuZGVkPzogYm9vbGVhbjtcblxuICBwcml2YXRlIHJlYWRvbmx5IGRlZHVwZT86IGJvb2xlYW47XG5cbiAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKHtcbiAgICBjb3VudHJ5Q29kZXMsXG4gICAgZXhjbHVkZVBsYWNlSWRzLFxuICAgIGJvdW5kZWQsXG4gICAgYm91bmRzLFxuICAgIGRlZHVwZSxcbiAgICAuLi5nZW9jb2RlUXVlcnlPYmplY3RcbiAgfTogTG9jYXRpb25JUUdlb2NvZGVRdWVyeU9iamVjdCkge1xuICAgIHN1cGVyKHsgYm91bmRzLCAuLi5nZW9jb2RlUXVlcnlPYmplY3QgfSk7XG4gICAgdGhpcy5jb3VudHJ5Q29kZXMgPSBjb3VudHJ5Q29kZXM7XG4gICAgdGhpcy5leGNsdWRlUGxhY2VJZHMgPSBleGNsdWRlUGxhY2VJZHM7XG4gICAgaWYgKGJvdW5kZWQgJiYgIWJvdW5kcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhlIFwiYm91bmRlZFwiIHBhcmFtZXRlciBjYW4gb25seSBiZSB1c2VkIHdpdGggdGhlIFwiYm91bmRzXCIgcGFyYW1ldGVyLidcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMuYm91bmRlZCA9IGJvdW5kZWQ7XG4gICAgdGhpcy5kZWR1cGUgPSBkZWR1cGU7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGNyZWF0ZShcbiAgICBvYmplY3Q6IExvY2F0aW9uSVFHZW9jb2RlUXVlcnlPYmplY3RcbiAgKTogTG9jYXRpb25JUUdlb2NvZGVRdWVyeSB7XG4gICAgcmV0dXJuIG5ldyB0aGlzKG9iamVjdCk7XG4gIH1cblxuICBwdWJsaWMgdG9PYmplY3QoKTogTG9jYXRpb25JUUdlb2NvZGVRdWVyeU9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN1cGVyLnRvT2JqZWN0KCksXG4gICAgICBjb3VudHJ5Q29kZXM6IHRoaXMuY291bnRyeUNvZGVzLFxuICAgICAgZXhjbHVkZVBsYWNlSWRzOiB0aGlzLmV4Y2x1ZGVQbGFjZUlkcyxcbiAgICAgIGJvdW5kZWQ6IHRoaXMuYm91bmRlZCxcbiAgICAgIGRlZHVwZTogdGhpcy5kZWR1cGUsXG4gICAgfTtcbiAgfVxuXG4gIHB1YmxpYyB3aXRoQ291bnRyeUNvZGVzKGNvdW50cnlDb2Rlczogc3RyaW5nW10pOiBMb2NhdGlvbklRR2VvY29kZVF1ZXJ5IHtcbiAgICByZXR1cm4gbmV3IExvY2F0aW9uSVFHZW9jb2RlUXVlcnkoeyAuLi50aGlzLnRvT2JqZWN0KCksIGNvdW50cnlDb2RlcyB9KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRDb3VudHJ5Q29kZXMoKTogdW5kZWZpbmVkIHwgc3RyaW5nW10ge1xuICAgIHJldHVybiB0aGlzLmNvdW50cnlDb2RlcztcbiAgfVxuXG4gIHB1YmxpYyB3aXRoRXhjbHVkZVBsYWNlSWRzKFxuICAgIGV4Y2x1ZGVQbGFjZUlkczogbnVtYmVyW11cbiAgKTogTG9jYXRpb25JUUdlb2NvZGVRdWVyeSB7XG4gICAgcmV0dXJuIG5ldyBMb2NhdGlvbklRR2VvY29kZVF1ZXJ5KHsgLi4udGhpcy50b09iamVjdCgpLCBleGNsdWRlUGxhY2VJZHMgfSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0RXhjbHVkZVBsYWNlSWRzKCk6IHVuZGVmaW5lZCB8IG51bWJlcltdIHtcbiAgICByZXR1cm4gdGhpcy5leGNsdWRlUGxhY2VJZHM7XG4gIH1cblxuICBwdWJsaWMgd2l0aEJvdW5kZWQoYm91bmRlZDogYm9vbGVhbik6IExvY2F0aW9uSVFHZW9jb2RlUXVlcnkge1xuICAgIHJldHVybiBuZXcgTG9jYXRpb25JUUdlb2NvZGVRdWVyeSh7IC4uLnRoaXMudG9PYmplY3QoKSwgYm91bmRlZCB9KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRCb3VuZGVkKCk6IHVuZGVmaW5lZCB8IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmJvdW5kZWQ7XG4gIH1cblxuICBwdWJsaWMgd2l0aERlZHVwZShkZWR1cGU6IGJvb2xlYW4pOiBMb2NhdGlvbklRR2VvY29kZVF1ZXJ5IHtcbiAgICByZXR1cm4gbmV3IExvY2F0aW9uSVFHZW9jb2RlUXVlcnkoeyAuLi50aGlzLnRvT2JqZWN0KCksIGRlZHVwZSB9KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXREZWR1cGUoKTogdW5kZWZpbmVkIHwgYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZGVkdXBlO1xuICB9XG59XG4iLCJpbXBvcnQgR2VvY29kZWQsIHsgR2VvY29kZWRPYmplY3QgfSBmcm9tIFwiR2VvY29kZWRcIjtcbmltcG9ydCBBZG1pbkxldmVsIGZyb20gXCJBZG1pbkxldmVsXCI7XG5pbXBvcnQge1xuICBMb2NhdGlvbklRT3NtVHlwZSxcbiAgTG9jYXRpb25JUVByZWNpc2lvbixcbiAgTG9jYXRpb25JUVByZWNpc2lvbkNvZGUsXG4gIExvY2F0aW9uSVFQcmVjaXNpb25UeXBlLFxufSBmcm9tIFwicHJvdmlkZXJcIjtcblxuZXhwb3J0IGludGVyZmFjZSBMb2NhdGlvbklRR2VvY29kZWRPYmplY3QgZXh0ZW5kcyBHZW9jb2RlZE9iamVjdCB7XG4gIHJlYWRvbmx5IHBsYWNlSWQ/OiBzdHJpbmc7XG4gIHJlYWRvbmx5IGRpc3BsYXlOYW1lPzogc3RyaW5nO1xuICByZWFkb25seSBvc21JZD86IHN0cmluZztcbiAgcmVhZG9ubHkgb3NtVHlwZT86IExvY2F0aW9uSVFPc21UeXBlO1xuICByZWFkb25seSBjYXRlZ29yaWVzPzogc3RyaW5nW107XG4gIHJlYWRvbmx5IHR5cGVzPzogc3RyaW5nW107XG4gIHJlYWRvbmx5IGRpc3RhbmNlPzogbnVtYmVyO1xuICByZWFkb25seSBwcmVjaXNpb24/OiBMb2NhdGlvbklRUHJlY2lzaW9uO1xuICByZWFkb25seSBwcmVjaXNpb25Db2RlPzogTG9jYXRpb25JUVByZWNpc2lvbkNvZGU7XG4gIHJlYWRvbmx5IHByZWNpc2lvblR5cGU/OiBMb2NhdGlvbklRUHJlY2lzaW9uVHlwZTtcbiAgcmVhZG9ubHkgYXR0cmlidXRpb24/OiBzdHJpbmc7XG4gIHJlYWRvbmx5IHN1YkxvY2FsaXR5TGV2ZWxzPzogQWRtaW5MZXZlbFtdO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb2NhdGlvbklRR2VvY29kZWQgZXh0ZW5kcyBHZW9jb2RlZCB7XG4gIHByaXZhdGUgcmVhZG9ubHkgcGxhY2VJZD86IHN0cmluZztcblxuICBwcml2YXRlIHJlYWRvbmx5IGRpc3BsYXlOYW1lPzogc3RyaW5nO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgb3NtSWQ/OiBzdHJpbmc7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBvc21UeXBlPzogTG9jYXRpb25JUU9zbVR5cGU7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBjYXRlZ29yaWVzPzogc3RyaW5nW107XG5cbiAgcHJpdmF0ZSByZWFkb25seSB0eXBlcz86IHN0cmluZ1tdO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgZGlzdGFuY2U/OiBudW1iZXI7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBwcmVjaXNpb24/OiBMb2NhdGlvbklRUHJlY2lzaW9uO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgcHJlY2lzaW9uQ29kZT86IExvY2F0aW9uSVFQcmVjaXNpb25Db2RlO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgcHJlY2lzaW9uVHlwZT86IExvY2F0aW9uSVFQcmVjaXNpb25UeXBlO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgYXR0cmlidXRpb24/OiBzdHJpbmc7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBzdWJMb2NhbGl0eUxldmVsczogQWRtaW5MZXZlbFtdO1xuXG4gIHByb3RlY3RlZCBjb25zdHJ1Y3Rvcih7XG4gICAgcGxhY2VJZCxcbiAgICBkaXNwbGF5TmFtZSxcbiAgICBvc21JZCxcbiAgICBvc21UeXBlLFxuICAgIGNhdGVnb3JpZXMsXG4gICAgdHlwZXMsXG4gICAgZGlzdGFuY2UsXG4gICAgcHJlY2lzaW9uLFxuICAgIHByZWNpc2lvbkNvZGUsXG4gICAgcHJlY2lzaW9uVHlwZSxcbiAgICBhdHRyaWJ1dGlvbixcbiAgICBzdWJMb2NhbGl0eUxldmVscyxcbiAgICAuLi5nZW9jb2RlZE9iamVjdFxuICB9OiBMb2NhdGlvbklRR2VvY29kZWRPYmplY3QpIHtcbiAgICBzdXBlcihnZW9jb2RlZE9iamVjdCk7XG4gICAgdGhpcy5wbGFjZUlkID0gcGxhY2VJZDtcbiAgICB0aGlzLmRpc3BsYXlOYW1lID0gZGlzcGxheU5hbWU7XG4gICAgdGhpcy5vc21JZCA9IG9zbUlkO1xuICAgIHRoaXMub3NtVHlwZSA9IG9zbVR5cGU7XG4gICAgdGhpcy5jYXRlZ29yaWVzID0gY2F0ZWdvcmllcztcbiAgICB0aGlzLnR5cGVzID0gdHlwZXM7XG4gICAgdGhpcy5kaXN0YW5jZSA9IGRpc3RhbmNlO1xuICAgIHRoaXMucHJlY2lzaW9uID0gcHJlY2lzaW9uO1xuICAgIHRoaXMucHJlY2lzaW9uQ29kZSA9IHByZWNpc2lvbkNvZGU7XG4gICAgdGhpcy5wcmVjaXNpb25UeXBlID0gcHJlY2lzaW9uVHlwZTtcbiAgICB0aGlzLmF0dHJpYnV0aW9uID0gYXR0cmlidXRpb247XG4gICAgdGhpcy5zdWJMb2NhbGl0eUxldmVscyA9IHN1YkxvY2FsaXR5TGV2ZWxzIHx8IFtdO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBjcmVhdGUob2JqZWN0OiBMb2NhdGlvbklRR2VvY29kZWRPYmplY3QpOiBMb2NhdGlvbklRR2VvY29kZWQge1xuICAgIHJldHVybiBuZXcgdGhpcyhvYmplY3QpO1xuICB9XG5cbiAgcHVibGljIHRvT2JqZWN0KCk6IExvY2F0aW9uSVFHZW9jb2RlZE9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN1cGVyLnRvT2JqZWN0KCksXG4gICAgICBwbGFjZUlkOiB0aGlzLnBsYWNlSWQsXG4gICAgICBkaXNwbGF5TmFtZTogdGhpcy5kaXNwbGF5TmFtZSxcbiAgICAgIG9zbUlkOiB0aGlzLm9zbUlkLFxuICAgICAgb3NtVHlwZTogdGhpcy5vc21UeXBlLFxuICAgICAgY2F0ZWdvcmllczogdGhpcy5jYXRlZ29yaWVzLFxuICAgICAgdHlwZXM6IHRoaXMudHlwZXMsXG4gICAgICBkaXN0YW5jZTogdGhpcy5kaXN0YW5jZSxcbiAgICAgIHByZWNpc2lvbjogdGhpcy5wcmVjaXNpb24sXG4gICAgICBwcmVjaXNpb25Db2RlOiB0aGlzLnByZWNpc2lvbkNvZGUsXG4gICAgICBwcmVjaXNpb25UeXBlOiB0aGlzLnByZWNpc2lvblR5cGUsXG4gICAgICBhdHRyaWJ1dGlvbjogdGhpcy5hdHRyaWJ1dGlvbixcbiAgICAgIHN1YkxvY2FsaXR5TGV2ZWxzOiB0aGlzLnN1YkxvY2FsaXR5TGV2ZWxzLFxuICAgIH07XG4gIH1cblxuICBwdWJsaWMgd2l0aFBsYWNlSWQocGxhY2VJZDogc3RyaW5nKTogTG9jYXRpb25JUUdlb2NvZGVkIHtcbiAgICByZXR1cm4gbmV3IExvY2F0aW9uSVFHZW9jb2RlZCh7XG4gICAgICAuLi50aGlzLnRvT2JqZWN0KCksXG4gICAgICBwbGFjZUlkLFxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGdldFBsYWNlSWQoKTogdW5kZWZpbmVkIHwgc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5wbGFjZUlkO1xuICB9XG5cbiAgcHVibGljIHdpdGhEaXNwbGF5TmFtZShkaXNwbGF5TmFtZTogc3RyaW5nKTogTG9jYXRpb25JUUdlb2NvZGVkIHtcbiAgICByZXR1cm4gbmV3IExvY2F0aW9uSVFHZW9jb2RlZCh7XG4gICAgICAuLi50aGlzLnRvT2JqZWN0KCksXG4gICAgICBkaXNwbGF5TmFtZSxcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXREaXNwbGF5TmFtZSgpOiB1bmRlZmluZWQgfCBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmRpc3BsYXlOYW1lO1xuICB9XG5cbiAgcHVibGljIHdpdGhPc21JZChvc21JZDogc3RyaW5nKTogTG9jYXRpb25JUUdlb2NvZGVkIHtcbiAgICByZXR1cm4gbmV3IExvY2F0aW9uSVFHZW9jb2RlZCh7XG4gICAgICAuLi50aGlzLnRvT2JqZWN0KCksXG4gICAgICBvc21JZCxcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRPc21JZCgpOiB1bmRlZmluZWQgfCBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLm9zbUlkO1xuICB9XG5cbiAgcHVibGljIHdpdGhPc21UeXBlKG9zbVR5cGU6IExvY2F0aW9uSVFPc21UeXBlKTogTG9jYXRpb25JUUdlb2NvZGVkIHtcbiAgICByZXR1cm4gbmV3IExvY2F0aW9uSVFHZW9jb2RlZCh7XG4gICAgICAuLi50aGlzLnRvT2JqZWN0KCksXG4gICAgICBvc21UeXBlLFxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGdldE9zbVR5cGUoKTogdW5kZWZpbmVkIHwgTG9jYXRpb25JUU9zbVR5cGUge1xuICAgIHJldHVybiB0aGlzLm9zbVR5cGU7XG4gIH1cblxuICBwdWJsaWMgd2l0aENhdGVnb3JpZXMoY2F0ZWdvcmllczogc3RyaW5nW10pOiBMb2NhdGlvbklRR2VvY29kZWQge1xuICAgIHJldHVybiBuZXcgTG9jYXRpb25JUUdlb2NvZGVkKHtcbiAgICAgIC4uLnRoaXMudG9PYmplY3QoKSxcbiAgICAgIGNhdGVnb3JpZXMsXG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0Q2F0ZWdvcmllcygpOiB1bmRlZmluZWQgfCBzdHJpbmdbXSB7XG4gICAgcmV0dXJuIHRoaXMuY2F0ZWdvcmllcztcbiAgfVxuXG4gIHB1YmxpYyB3aXRoVHlwZXModHlwZXM6IHN0cmluZ1tdKTogTG9jYXRpb25JUUdlb2NvZGVkIHtcbiAgICByZXR1cm4gbmV3IExvY2F0aW9uSVFHZW9jb2RlZCh7XG4gICAgICAuLi50aGlzLnRvT2JqZWN0KCksXG4gICAgICB0eXBlcyxcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRUeXBlcygpOiB1bmRlZmluZWQgfCBzdHJpbmdbXSB7XG4gICAgcmV0dXJuIHRoaXMudHlwZXM7XG4gIH1cblxuICBwdWJsaWMgd2l0aERpc3RhbmNlKGRpc3RhbmNlOiBudW1iZXIpOiBMb2NhdGlvbklRR2VvY29kZWQge1xuICAgIHJldHVybiBuZXcgTG9jYXRpb25JUUdlb2NvZGVkKHtcbiAgICAgIC4uLnRoaXMudG9PYmplY3QoKSxcbiAgICAgIGRpc3RhbmNlLFxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGdldERpc3RhbmNlKCk6IHVuZGVmaW5lZCB8IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuZGlzdGFuY2U7XG4gIH1cblxuICBwdWJsaWMgd2l0aFByZWNpc2lvbihwcmVjaXNpb246IExvY2F0aW9uSVFQcmVjaXNpb24pOiBMb2NhdGlvbklRR2VvY29kZWQge1xuICAgIHJldHVybiBuZXcgTG9jYXRpb25JUUdlb2NvZGVkKHtcbiAgICAgIC4uLnRoaXMudG9PYmplY3QoKSxcbiAgICAgIHByZWNpc2lvbixcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRQcmVjaXNpb24oKTogdW5kZWZpbmVkIHwgTG9jYXRpb25JUVByZWNpc2lvbiB7XG4gICAgcmV0dXJuIHRoaXMucHJlY2lzaW9uO1xuICB9XG5cbiAgcHVibGljIHdpdGhQcmVjaXNpb25Db2RlKFxuICAgIHByZWNpc2lvbkNvZGU6IExvY2F0aW9uSVFQcmVjaXNpb25Db2RlXG4gICk6IExvY2F0aW9uSVFHZW9jb2RlZCB7XG4gICAgcmV0dXJuIG5ldyBMb2NhdGlvbklRR2VvY29kZWQoe1xuICAgICAgLi4udGhpcy50b09iamVjdCgpLFxuICAgICAgcHJlY2lzaW9uQ29kZSxcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRQcmVjaXNpb25Db2RlKCk6IHVuZGVmaW5lZCB8IExvY2F0aW9uSVFQcmVjaXNpb25Db2RlIHtcbiAgICByZXR1cm4gdGhpcy5wcmVjaXNpb25Db2RlO1xuICB9XG5cbiAgcHVibGljIHdpdGhQcmVjaXNpb25UeXBlKFxuICAgIHByZWNpc2lvblR5cGU6IExvY2F0aW9uSVFQcmVjaXNpb25UeXBlXG4gICk6IExvY2F0aW9uSVFHZW9jb2RlZCB7XG4gICAgcmV0dXJuIG5ldyBMb2NhdGlvbklRR2VvY29kZWQoe1xuICAgICAgLi4udGhpcy50b09iamVjdCgpLFxuICAgICAgcHJlY2lzaW9uVHlwZSxcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRQcmVjaXNpb25UeXBlKCk6IHVuZGVmaW5lZCB8IExvY2F0aW9uSVFQcmVjaXNpb25UeXBlIHtcbiAgICByZXR1cm4gdGhpcy5wcmVjaXNpb25UeXBlO1xuICB9XG5cbiAgcHVibGljIHdpdGhBdHRyaWJ1dGlvbihhdHRyaWJ1dGlvbjogc3RyaW5nKTogTG9jYXRpb25JUUdlb2NvZGVkIHtcbiAgICByZXR1cm4gbmV3IExvY2F0aW9uSVFHZW9jb2RlZCh7XG4gICAgICAuLi50aGlzLnRvT2JqZWN0KCksXG4gICAgICBhdHRyaWJ1dGlvbixcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRBdHRyaWJ1dGlvbigpOiB1bmRlZmluZWQgfCBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmF0dHJpYnV0aW9uO1xuICB9XG5cbiAgcHVibGljIGFkZFN1YkxvY2FsaXR5TGV2ZWwoc3ViTG9jYWxpdHlMZXZlbDogQWRtaW5MZXZlbCk6IHZvaWQge1xuICAgIHRoaXMuc3ViTG9jYWxpdHlMZXZlbHMucHVzaChzdWJMb2NhbGl0eUxldmVsKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRTdWJMb2NhbGl0eUxldmVscygpOiBBZG1pbkxldmVsW10ge1xuICAgIHJldHVybiB0aGlzLnN1YkxvY2FsaXR5TGV2ZWxzO1xuICB9XG59XG4iLCJpbXBvcnQge1xuICBFeHRlcm5hbExvYWRlckJvZHksXG4gIEV4dGVybmFsTG9hZGVySGVhZGVycyxcbiAgRXh0ZXJuYWxMb2FkZXJJbnRlcmZhY2UsXG4gIEV4dGVybmFsTG9hZGVyUGFyYW1zLFxufSBmcm9tIFwiRXh0ZXJuYWxMb2FkZXJcIjtcbmltcG9ydCB7XG4gIEVycm9yQ2FsbGJhY2ssXG4gIEdlb2NvZGVkUmVzdWx0c0NhbGxiYWNrLFxuICBMb2NhdGlvbklRR2VvY29kZWQsXG4gIExvY2F0aW9uSVFHZW9jb2RlUXVlcnksXG4gIExvY2F0aW9uSVFHZW9jb2RlUXVlcnlPYmplY3QsXG4gIExvY2F0aW9uSVFSZXZlcnNlUXVlcnksXG4gIExvY2F0aW9uSVFSZXZlcnNlUXVlcnlPYmplY3QsXG4gIFByb3ZpZGVySGVscGVycyxcbiAgUHJvdmlkZXJJbnRlcmZhY2UsXG4gIFByb3ZpZGVyT3B0aW9uc0ludGVyZmFjZSxcbiAgZGVmYXVsdFByb3ZpZGVyT3B0aW9ucyxcbn0gZnJvbSBcInByb3ZpZGVyXCI7XG5pbXBvcnQgQWRtaW5MZXZlbCBmcm9tIFwiQWRtaW5MZXZlbFwiO1xuaW1wb3J0IHsgUmVzcG9uc2VFcnJvciB9IGZyb20gXCJlcnJvclwiO1xuXG5pbnRlcmZhY2UgTG9jYXRpb25JUVJlcXVlc3RQYXJhbXMge1xuICBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkga2V5OiBzdHJpbmc7XG4gIHJlYWRvbmx5IHE/OiBzdHJpbmc7XG4gIHJlYWRvbmx5IGxhdD86IHN0cmluZztcbiAgcmVhZG9ubHkgbG9uPzogc3RyaW5nO1xuICByZWFkb25seSBzdHJlZXQ/OiBzdHJpbmc7XG4gIHJlYWRvbmx5IGNpdHk/OiBzdHJpbmc7XG4gIHJlYWRvbmx5IGNvdW50eT86IHN0cmluZztcbiAgcmVhZG9ubHkgc3RhdGU/OiBzdHJpbmc7XG4gIHJlYWRvbmx5IGNvdW50cnk/OiBzdHJpbmc7XG4gIHJlYWRvbmx5IHBvc3RhbGNvZGU/OiBzdHJpbmc7XG4gIHJlYWRvbmx5IHpvb20/OiBzdHJpbmc7XG4gIHJlYWRvbmx5IGZvcm1hdD86IHN0cmluZztcbiAgcmVhZG9ubHkgdmlld2JveD86IHN0cmluZztcbiAgcmVhZG9ubHkgYm91bmRlZD86IHN0cmluZztcbiAgcmVhZG9ubHkgYWRkcmVzc2RldGFpbHM/OiBzdHJpbmc7XG4gIHJlYWRvbmx5IGxpbWl0Pzogc3RyaW5nO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gIHJlYWRvbmx5IFwiYWNjZXB0LWxhbmd1YWdlXCI/OiBzdHJpbmc7XG4gIHJlYWRvbmx5IGNvdW50cnljb2Rlcz86IHN0cmluZztcbiAgcmVhZG9ubHkgbmFtZWRldGFpbHM/OiBzdHJpbmc7XG4gIHJlYWRvbmx5IGRlZHVwZT86IHN0cmluZztcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICByZWFkb25seSBvc21fdHlwZT86IHN0cmluZztcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICByZWFkb25seSBvc21faWQ/OiBzdHJpbmc7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgcmVhZG9ubHkgcG9seWdvbl9nZW9qc29uPzogc3RyaW5nO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gIHJlYWRvbmx5IHBvbHlnb25fa21sPzogc3RyaW5nO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gIHJlYWRvbmx5IHBvbHlnb25fc3ZnPzogc3RyaW5nO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gIHJlYWRvbmx5IHBvbHlnb25fdGV4dD86IHN0cmluZztcbiAgcmVhZG9ubHkgZXh0cmF0YWdzPzogc3RyaW5nO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gIHJlYWRvbmx5IGV4Y2x1ZGVfcGxhY2VfaWRzPzogc3RyaW5nO1xuICByZWFkb25seSBub3JtYWxpemVhZGRyZXNzPzogc3RyaW5nO1xuICByZWFkb25seSBub3JtYWxpemVjaXR5Pzogc3RyaW5nO1xuICByZWFkb25seSBzdGF0ZWNvZGU/OiBzdHJpbmc7XG4gIHJlYWRvbmx5IHNob3dkaXN0YW5jZT86IHN0cmluZztcbiAgcmVhZG9ubHkgbWF0Y2hxdWFsaXR5Pzogc3RyaW5nO1xuICByZWFkb25seSBwb3N0YWxhZGRyZXNzPzogc3RyaW5nO1xuICByZWFkb25seSBzb3VyY2U/OiBzdHJpbmc7XG4gIHJlYWRvbmx5IGpzb25wQ2FsbGJhY2s/OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBMb2NhdGlvbklRRXJyb3JSZXNwb25zZSB7XG4gIGVycm9yOiBzdHJpbmc7XG59XG5cbmV4cG9ydCB0eXBlIExvY2F0aW9uSVFPc21UeXBlID0gXCJub2RlXCIgfCBcIndheVwiIHwgXCJyZWxhdGlvblwiO1xuZXhwb3J0IHR5cGUgTG9jYXRpb25JUVByZWNpc2lvbiA9XG4gIHwgXCJ2ZW51ZVwiXG4gIHwgXCJidWlsZGluZ1wiXG4gIHwgXCJzdHJlZXRcIlxuICB8IFwibmVpZ2hib3VyaG9vZFwiXG4gIHwgXCJpc2xhbmRcIlxuICB8IFwiYm9yb3VnaFwiXG4gIHwgXCJjaXR5XCJcbiAgfCBcImNvdW50eVwiXG4gIHwgXCJzdGF0ZVwiXG4gIHwgXCJjb3VudHJ5XCJcbiAgfCBcIm1hcmluZVwiXG4gIHwgXCJwb3N0YWxjb2RlXCI7XG5leHBvcnQgdHlwZSBMb2NhdGlvbklRUHJlY2lzaW9uQ29kZSA9IFwiZXhhY3RcIiB8IFwiZmFsbGJhY2tcIiB8IFwiYXBwcm94aW1hdGVcIjtcbmV4cG9ydCB0eXBlIExvY2F0aW9uSVFQcmVjaXNpb25UeXBlID0gXCJwb2ludFwiIHwgXCJjZW50cm9pZFwiIHwgXCJpbnRlcnBvbGF0ZWRcIjtcblxuZXhwb3J0IGludGVyZmFjZSBMb2NhdGlvbklRUmVzdWx0IHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICBwbGFjZV9pZDogc3RyaW5nO1xuICBsaWNlbmNlOiBzdHJpbmc7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgb3NtX3R5cGU6IExvY2F0aW9uSVFPc21UeXBlO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gIG9zbV9pZDogc3RyaW5nO1xuICBib3VuZGluZ2JveDogW3N0cmluZywgc3RyaW5nLCBzdHJpbmcsIHN0cmluZ107XG4gIGxhdDogc3RyaW5nO1xuICBsb246IHN0cmluZztcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICBkaXNwbGF5X25hbWU6IHN0cmluZztcbiAgY2xhc3M/OiBzdHJpbmc7XG4gIHR5cGU/OiBzdHJpbmc7XG4gIGltcG9ydGFuY2U6IG51bWJlcjtcbiAgaWNvbjogc3RyaW5nO1xuICBhZGRyZXNzOiB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICAgIGhvdXNlX251bWJlcj86IHN0cmluZztcbiAgICByb2FkPzogc3RyaW5nO1xuICAgIG5laWdoYm91cmhvb2Q/OiBzdHJpbmc7XG4gICAgaGFtbGV0Pzogc3RyaW5nO1xuICAgIHN1YnVyYj86IHN0cmluZztcbiAgICB2aWxsYWdlPzogc3RyaW5nO1xuICAgIHRvd24/OiBzdHJpbmc7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICAgIGNpdHlfZGlzdHJpY3Q/OiBzdHJpbmc7XG4gICAgY2l0eT86IHN0cmluZztcbiAgICByZWdpb24/OiBzdHJpbmc7XG4gICAgY291bnR5Pzogc3RyaW5nO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgICBzdGF0ZV9kaXN0cmljdD86IHN0cmluZztcbiAgICBzdGF0ZT86IHN0cmluZztcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gICAgc3RhdGVfY29kZT86IHN0cmluZztcbiAgICBwb3N0Y29kZT86IHN0cmluZztcbiAgICBjb3VudHJ5Pzogc3RyaW5nO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgICBjb3VudHJ5X2NvZGU/OiBzdHJpbmc7XG4gICAgbmFtZT86IHN0cmluZztcbiAgfTtcbiAgZXh0cmF0YWdzPzoge1xuICAgIHBob25lPzogc3RyaW5nO1xuICAgIHdlYnNpdGU/OiBzdHJpbmc7XG4gICAgd2lraWRhdGE/OiBzdHJpbmc7XG4gICAgd2lraXBlZGlhPzogc3RyaW5nO1xuICAgIHdoZWVsY2hhaXI/OiBzdHJpbmc7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICAgIG9wZW5pbmdfaG91cnM/OiBzdHJpbmc7XG4gIH07XG4gIG5hbWVkZXRhaWxzPzoge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBbbmFtZTogc3RyaW5nXTogc3RyaW5nO1xuICB9O1xuICBnZW9qc29uPzoge1xuICAgIHR5cGU6IFwiUG9pbnRcIjtcbiAgICBjb29yZGluYXRlczogW251bWJlciwgbnVtYmVyXTtcbiAgfTtcbiAgZ2Vva21sPzogc3RyaW5nO1xuICBzdmc/OiBzdHJpbmc7XG4gIGdlb3RleHQ/OiBzdHJpbmc7XG4gIHN0YXRlY29kZT86IHN0cmluZztcbiAgZGlzdGFuY2U/OiBudW1iZXI7XG4gIG1hdGNocXVhbGl0eT86IHtcbiAgICBtYXRjaGNvZGU6IExvY2F0aW9uSVFQcmVjaXNpb25Db2RlO1xuICAgIG1hdGNodHlwZTogTG9jYXRpb25JUVByZWNpc2lvblR5cGU7XG4gICAgbWF0Y2hsZXZlbDogTG9jYXRpb25JUVByZWNpc2lvbjtcbiAgfTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICBwb3N0YWxfYWRkcmVzcz86IHN0cmluZztcbn1cblxuZXhwb3J0IHR5cGUgTG9jYXRpb25JUVJlc3BvbnNlID1cbiAgfCBMb2NhdGlvbklRRXJyb3JSZXNwb25zZVxuICB8IExvY2F0aW9uSVFSZXN1bHRcbiAgfCBMb2NhdGlvbklRUmVzdWx0W107XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG9jYXRpb25JUVByb3ZpZGVyT3B0aW9uc0ludGVyZmFjZVxuICBleHRlbmRzIFByb3ZpZGVyT3B0aW9uc0ludGVyZmFjZSB7XG4gIHJlYWRvbmx5IGFwaUtleTogc3RyaW5nO1xuICByZWFkb25seSBjb3VudHJ5Q29kZXM/OiBzdHJpbmdbXTtcbiAgcmVhZG9ubHkgc291cmNlPzogXCJub21pbmF0aW1cIiB8IFwibG9jYXRpb25pcVwiO1xufVxuXG5leHBvcnQgY29uc3QgZGVmYXVsdExvY2F0aW9uSVFQcm92aWRlck9wdGlvbnM6IExvY2F0aW9uSVFQcm92aWRlck9wdGlvbnNJbnRlcmZhY2UgPSB7XG4gIC4uLmRlZmF1bHRQcm92aWRlck9wdGlvbnMsXG4gIGFwaUtleTogXCJcIixcbiAgc291cmNlOiBcImxvY2F0aW9uaXFcIixcbn07XG5cbnR5cGUgTG9jYXRpb25JUUdlb2NvZGVkUmVzdWx0c0NhbGxiYWNrID0gR2VvY29kZWRSZXN1bHRzQ2FsbGJhY2s8TG9jYXRpb25JUUdlb2NvZGVkPjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9jYXRpb25JUVByb3ZpZGVyXG4gIGltcGxlbWVudHMgUHJvdmlkZXJJbnRlcmZhY2U8TG9jYXRpb25JUUdlb2NvZGVkPiB7XG4gIHByaXZhdGUgZXh0ZXJuYWxMb2FkZXI6IEV4dGVybmFsTG9hZGVySW50ZXJmYWNlO1xuXG4gIHByaXZhdGUgb3B0aW9uczogTG9jYXRpb25JUVByb3ZpZGVyT3B0aW9uc0ludGVyZmFjZTtcblxuICBwdWJsaWMgY29uc3RydWN0b3IoXG4gICAgX2V4dGVybmFsTG9hZGVyOiBFeHRlcm5hbExvYWRlckludGVyZmFjZSxcbiAgICBvcHRpb25zOiBMb2NhdGlvbklRUHJvdmlkZXJPcHRpb25zSW50ZXJmYWNlID0gZGVmYXVsdExvY2F0aW9uSVFQcm92aWRlck9wdGlvbnNcbiAgKSB7XG4gICAgdGhpcy5leHRlcm5hbExvYWRlciA9IF9leHRlcm5hbExvYWRlcjtcbiAgICB0aGlzLm9wdGlvbnMgPSB7IC4uLmRlZmF1bHRMb2NhdGlvbklRUHJvdmlkZXJPcHRpb25zLCAuLi5vcHRpb25zIH07XG4gICAgaWYgKCF0aGlzLm9wdGlvbnMuYXBpS2V5KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdBbiBBUEkga2V5IGlzIHJlcXVpcmVkIGZvciB0aGUgTG9jYXRpb25JUSBwcm92aWRlci4gUGxlYXNlIGFkZCBpdCBpbiB0aGUgXCJhcGlLZXlcIiBvcHRpb24uJ1xuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKCFbXCJsb2NhdGlvbmlxXCIsIFwibm9taW5hdGltXCJdLmluY2x1ZGVzKHRoaXMub3B0aW9ucy5zb3VyY2UgfHwgXCJcIikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1RoZSBcInNvdXJjZVwiIG9wdGlvbiBtdXN0IGVpdGhlciBiZSBcImxvY2F0aW9uaXFcIiBvciBcIm5vbWluYXRpbVwiLidcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGdlb2NvZGUoXG4gICAgcXVlcnk6IHN0cmluZyB8IExvY2F0aW9uSVFHZW9jb2RlUXVlcnkgfCBMb2NhdGlvbklRR2VvY29kZVF1ZXJ5T2JqZWN0LFxuICAgIGNhbGxiYWNrPzogTG9jYXRpb25JUUdlb2NvZGVkUmVzdWx0c0NhbGxiYWNrLFxuICAgIGVycm9yQ2FsbGJhY2s/OiBFcnJvckNhbGxiYWNrXG4gICk6IHZvaWQgfCBQcm9taXNlPExvY2F0aW9uSVFHZW9jb2RlZFtdPiB7XG4gICAgY29uc3QgZ2VvY29kZVF1ZXJ5ID0gUHJvdmlkZXJIZWxwZXJzLmdldEdlb2NvZGVRdWVyeUZyb21QYXJhbWV0ZXIoXG4gICAgICBxdWVyeSxcbiAgICAgIExvY2F0aW9uSVFHZW9jb2RlUXVlcnlcbiAgICApO1xuXG4gICAgaWYgKGdlb2NvZGVRdWVyeS5nZXRJcCgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiVGhlIExvY2F0aW9uSVEgcHJvdmlkZXIgZG9lcyBub3Qgc3VwcG9ydCBJUCBnZW9sb2NhdGlvbiwgb25seSBsb2NhdGlvbiBnZW9jb2RpbmcuXCJcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdGhpcy5leHRlcm5hbExvYWRlci5zZXRPcHRpb25zKHtcbiAgICAgIHByb3RvY29sOiB0aGlzLm9wdGlvbnMudXNlU3NsID8gXCJodHRwc1wiIDogXCJodHRwXCIsXG4gICAgICBob3N0OiBcImxvY2F0aW9uaXEuY29tXCIsXG4gICAgICBwYXRobmFtZTogXCJ2MS9zZWFyY2gucGhwXCIsXG4gICAgfSk7XG5cbiAgICBjb25zdCBwYXJhbXM6IExvY2F0aW9uSVFSZXF1ZXN0UGFyYW1zID0gdGhpcy53aXRoQ29tbW9uUGFyYW1zKFxuICAgICAge1xuICAgICAgICBxOiBnZW9jb2RlUXVlcnkuZ2V0VGV4dCgpLFxuICAgICAgICBsaW1pdDogZ2VvY29kZVF1ZXJ5LmdldExpbWl0KCkudG9TdHJpbmcoKSxcbiAgICAgICAgY291bnRyeWNvZGVzOiAoPExvY2F0aW9uSVFHZW9jb2RlUXVlcnk+Z2VvY29kZVF1ZXJ5KS5nZXRDb3VudHJ5Q29kZXMoKVxuICAgICAgICAgID8gKDxMb2NhdGlvbklRR2VvY29kZVF1ZXJ5Pmdlb2NvZGVRdWVyeSkuZ2V0Q291bnRyeUNvZGVzKCk/LmpvaW4oXCIsXCIpXG4gICAgICAgICAgOiB0aGlzLm9wdGlvbnMuY291bnRyeUNvZGVzPy5qb2luKFwiLFwiKSxcbiAgICAgICAgZXhjbHVkZV9wbGFjZV9pZHM6ICg8TG9jYXRpb25JUUdlb2NvZGVRdWVyeT4oXG4gICAgICAgICAgZ2VvY29kZVF1ZXJ5XG4gICAgICAgICkpLmdldEV4Y2x1ZGVQbGFjZUlkcygpXG4gICAgICAgICAgPyAoPExvY2F0aW9uSVFHZW9jb2RlUXVlcnk+Z2VvY29kZVF1ZXJ5KVxuICAgICAgICAgICAgICAuZ2V0RXhjbHVkZVBsYWNlSWRzKClcbiAgICAgICAgICAgICAgPy5qb2luKFwiLFwiKVxuICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICB2aWV3Ym94OiBnZW9jb2RlUXVlcnkuZ2V0Qm91bmRzKClcbiAgICAgICAgICA/IGAke2dlb2NvZGVRdWVyeS5nZXRCb3VuZHMoKT8ubG9uZ2l0dWRlU1d9LCR7XG4gICAgICAgICAgICAgIGdlb2NvZGVRdWVyeS5nZXRCb3VuZHMoKT8ubGF0aXR1ZGVTV1xuICAgICAgICAgICAgfSwke2dlb2NvZGVRdWVyeS5nZXRCb3VuZHMoKT8ubG9uZ2l0dWRlTkV9LCR7XG4gICAgICAgICAgICAgIGdlb2NvZGVRdWVyeS5nZXRCb3VuZHMoKT8ubGF0aXR1ZGVORVxuICAgICAgICAgICAgfWBcbiAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgYm91bmRlZDogKDxMb2NhdGlvbklRR2VvY29kZVF1ZXJ5Pmdlb2NvZGVRdWVyeSkuZ2V0Qm91bmRlZCgpXG4gICAgICAgICAgPyAoPExvY2F0aW9uSVFHZW9jb2RlUXVlcnk+Z2VvY29kZVF1ZXJ5KS5nZXRCb3VuZGVkKCk/LnRvU3RyaW5nKClcbiAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgZGVkdXBlOiAoPExvY2F0aW9uSVFHZW9jb2RlUXVlcnk+Z2VvY29kZVF1ZXJ5KS5nZXREZWR1cGUoKVxuICAgICAgICAgID8gKDxMb2NhdGlvbklRR2VvY29kZVF1ZXJ5Pmdlb2NvZGVRdWVyeSkuZ2V0RGVkdXBlKCk/LnRvU3RyaW5nKClcbiAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgbWF0Y2hxdWFsaXR5OiBcIjFcIixcbiAgICAgIH0sXG4gICAgICA8TG9jYXRpb25JUUdlb2NvZGVRdWVyeT5nZW9jb2RlUXVlcnlcbiAgICApO1xuXG4gICAgaWYgKCFjYWxsYmFjaykge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+XG4gICAgICAgIHRoaXMuZXhlY3V0ZVJlcXVlc3QoXG4gICAgICAgICAgcGFyYW1zLFxuICAgICAgICAgIChyZXN1bHRzKSA9PiByZXNvbHZlKHJlc3VsdHMpLFxuICAgICAgICAgIHt9LFxuICAgICAgICAgIHt9LFxuICAgICAgICAgIChlcnJvcikgPT4gcmVqZWN0KGVycm9yKVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5leGVjdXRlUmVxdWVzdChwYXJhbXMsIGNhbGxiYWNrLCB7fSwge30sIGVycm9yQ2FsbGJhY2spO1xuICB9XG5cbiAgcHVibGljIGdlb2RlY29kZShcbiAgICBsYXRpdHVkZU9yUXVlcnk6XG4gICAgICB8IG51bWJlclxuICAgICAgfCBzdHJpbmdcbiAgICAgIHwgTG9jYXRpb25JUVJldmVyc2VRdWVyeVxuICAgICAgfCBMb2NhdGlvbklRUmV2ZXJzZVF1ZXJ5T2JqZWN0LFxuICAgIGxvbmdpdHVkZU9yQ2FsbGJhY2s/OiBudW1iZXIgfCBzdHJpbmcgfCBMb2NhdGlvbklRR2VvY29kZWRSZXN1bHRzQ2FsbGJhY2ssXG4gICAgY2FsbGJhY2tPckVycm9yQ2FsbGJhY2s/OiBMb2NhdGlvbklRR2VvY29kZWRSZXN1bHRzQ2FsbGJhY2sgfCBFcnJvckNhbGxiYWNrLFxuICAgIGVycm9yQ2FsbGJhY2s/OiBFcnJvckNhbGxiYWNrXG4gICk6IHZvaWQgfCBQcm9taXNlPExvY2F0aW9uSVFHZW9jb2RlZFtdPiB7XG4gICAgY29uc3QgcmV2ZXJzZVF1ZXJ5ID0gUHJvdmlkZXJIZWxwZXJzLmdldFJldmVyc2VRdWVyeUZyb21QYXJhbWV0ZXJzKFxuICAgICAgbGF0aXR1ZGVPclF1ZXJ5LFxuICAgICAgbG9uZ2l0dWRlT3JDYWxsYmFjayxcbiAgICAgIExvY2F0aW9uSVFSZXZlcnNlUXVlcnlcbiAgICApO1xuICAgIGNvbnN0IHJldmVyc2VDYWxsYmFjayA9IFByb3ZpZGVySGVscGVycy5nZXRDYWxsYmFja0Zyb21QYXJhbWV0ZXJzKFxuICAgICAgbG9uZ2l0dWRlT3JDYWxsYmFjayxcbiAgICAgIGNhbGxiYWNrT3JFcnJvckNhbGxiYWNrXG4gICAgKTtcbiAgICBjb25zdCByZXZlcnNlRXJyb3JDYWxsYmFjayA9IFByb3ZpZGVySGVscGVycy5nZXRFcnJvckNhbGxiYWNrRnJvbVBhcmFtZXRlcnMoXG4gICAgICBsb25naXR1ZGVPckNhbGxiYWNrLFxuICAgICAgY2FsbGJhY2tPckVycm9yQ2FsbGJhY2ssXG4gICAgICBlcnJvckNhbGxiYWNrXG4gICAgKTtcblxuICAgIHRoaXMuZXh0ZXJuYWxMb2FkZXIuc2V0T3B0aW9ucyh7XG4gICAgICBwcm90b2NvbDogdGhpcy5vcHRpb25zLnVzZVNzbCA/IFwiaHR0cHNcIiA6IFwiaHR0cFwiLFxuICAgICAgaG9zdDogXCJsb2NhdGlvbmlxLmNvbVwiLFxuICAgICAgcGF0aG5hbWU6IFwidjEvcmV2ZXJzZS5waHBcIixcbiAgICB9KTtcblxuICAgIGNvbnN0IHBhcmFtczogTG9jYXRpb25JUVJlcXVlc3RQYXJhbXMgPSB0aGlzLndpdGhDb21tb25QYXJhbXMoXG4gICAgICB7XG4gICAgICAgIGxhdDogcmV2ZXJzZVF1ZXJ5LmdldENvb3JkaW5hdGVzKCkubGF0aXR1ZGUudG9TdHJpbmcoKSxcbiAgICAgICAgbG9uOiByZXZlcnNlUXVlcnkuZ2V0Q29vcmRpbmF0ZXMoKS5sb25naXR1ZGUudG9TdHJpbmcoKSxcbiAgICAgICAgem9vbTpcbiAgICAgICAgICAoPExvY2F0aW9uSVFSZXZlcnNlUXVlcnk+cmV2ZXJzZVF1ZXJ5KS5nZXRab29tKCk/LnRvU3RyaW5nKCkgfHwgXCIxOFwiLFxuICAgICAgICBzaG93ZGlzdGFuY2U6IFwiMVwiLFxuICAgICAgfSxcbiAgICAgIDxMb2NhdGlvbklRUmV2ZXJzZVF1ZXJ5PnJldmVyc2VRdWVyeVxuICAgICk7XG5cbiAgICBpZiAoIXJldmVyc2VDYWxsYmFjaykge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+XG4gICAgICAgIHRoaXMuZXhlY3V0ZVJlcXVlc3QoXG4gICAgICAgICAgcGFyYW1zLFxuICAgICAgICAgIChyZXN1bHRzKSA9PiByZXNvbHZlKHJlc3VsdHMpLFxuICAgICAgICAgIHt9LFxuICAgICAgICAgIHt9LFxuICAgICAgICAgIChlcnJvcikgPT4gcmVqZWN0KGVycm9yKVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5leGVjdXRlUmVxdWVzdChcbiAgICAgIHBhcmFtcyxcbiAgICAgIHJldmVyc2VDYWxsYmFjayxcbiAgICAgIHt9LFxuICAgICAge30sXG4gICAgICByZXZlcnNlRXJyb3JDYWxsYmFja1xuICAgICk7XG4gIH1cblxuICBwcml2YXRlIHdpdGhDb21tb25QYXJhbXMoXG4gICAgcGFyYW1zOiBQaWNrPFxuICAgICAgTG9jYXRpb25JUVJlcXVlc3RQYXJhbXMsXG4gICAgICB8IFwicVwiXG4gICAgICB8IFwibGF0XCJcbiAgICAgIHwgXCJsb25cIlxuICAgICAgfCBcInN0cmVldFwiXG4gICAgICB8IFwiY2l0eVwiXG4gICAgICB8IFwiY291bnR5XCJcbiAgICAgIHwgXCJzdGF0ZVwiXG4gICAgICB8IFwiY291bnRyeVwiXG4gICAgICB8IFwicG9zdGFsY29kZVwiXG4gICAgICB8IFwiem9vbVwiXG4gICAgICB8IFwidmlld2JveFwiXG4gICAgICB8IFwiYm91bmRlZFwiXG4gICAgICB8IFwibGltaXRcIlxuICAgICAgfCBcImNvdW50cnljb2Rlc1wiXG4gICAgICB8IFwiZGVkdXBlXCJcbiAgICAgIHwgXCJvc21fdHlwZVwiXG4gICAgICB8IFwib3NtX2lkXCJcbiAgICAgIHwgXCJleGNsdWRlX3BsYWNlX2lkc1wiXG4gICAgICB8IFwic2hvd2Rpc3RhbmNlXCJcbiAgICAgIHwgXCJtYXRjaHF1YWxpdHlcIlxuICAgID4sXG4gICAgcXVlcnk6IExvY2F0aW9uSVFHZW9jb2RlUXVlcnkgfCBMb2NhdGlvbklRUmV2ZXJzZVF1ZXJ5XG4gICk6IExvY2F0aW9uSVFSZXF1ZXN0UGFyYW1zIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4ucGFyYW1zLFxuICAgICAga2V5OiB0aGlzLm9wdGlvbnMuYXBpS2V5IHx8IFwiXCIsXG4gICAgICBmb3JtYXQ6IFwianNvblwiLFxuICAgICAgYWRkcmVzc2RldGFpbHM6IFwiMVwiLFxuICAgICAgXCJhY2NlcHQtbGFuZ3VhZ2VcIjogcXVlcnkuZ2V0TG9jYWxlKCksXG4gICAgICBqc29ucENhbGxiYWNrOiB0aGlzLm9wdGlvbnMudXNlSnNvbnAgPyBcImpzb25fY2FsbGJhY2tcIiA6IHVuZGVmaW5lZCxcbiAgICAgIG5vcm1hbGl6ZWFkZHJlc3M6IFwiMVwiLFxuICAgICAgbm9ybWFsaXplY2l0eTogXCIxXCIsXG4gICAgICBzdGF0ZWNvZGU6IFwiMVwiLFxuICAgICAgcG9zdGFsYWRkcmVzczogXCIxXCIsXG4gICAgICBzb3VyY2U6IHRoaXMub3B0aW9ucy5zb3VyY2UgPT09IFwibm9taW5hdGltXCIgPyBcIm5vbVwiIDogdW5kZWZpbmVkLFxuICAgIH07XG4gIH1cblxuICBwdWJsaWMgZXhlY3V0ZVJlcXVlc3QoXG4gICAgcGFyYW1zOiBFeHRlcm5hbExvYWRlclBhcmFtcyxcbiAgICBjYWxsYmFjazogTG9jYXRpb25JUUdlb2NvZGVkUmVzdWx0c0NhbGxiYWNrLFxuICAgIGhlYWRlcnM/OiBFeHRlcm5hbExvYWRlckhlYWRlcnMsXG4gICAgYm9keT86IEV4dGVybmFsTG9hZGVyQm9keSxcbiAgICBlcnJvckNhbGxiYWNrPzogRXJyb3JDYWxsYmFja1xuICApOiB2b2lkIHtcbiAgICB0aGlzLmV4dGVybmFsTG9hZGVyLmV4ZWN1dGVSZXF1ZXN0KFxuICAgICAgcGFyYW1zLFxuICAgICAgKGRhdGE6IExvY2F0aW9uSVFSZXNwb25zZSkgPT4ge1xuICAgICAgICBsZXQgcmVzdWx0cyA9IGRhdGE7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgIGlmICgoPExvY2F0aW9uSVFFcnJvclJlc3BvbnNlPmRhdGEpLmVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBgQW4gZXJyb3IgaGFzIG9jY3VycmVkOiAke1xuICAgICAgICAgICAgICAoPExvY2F0aW9uSVFFcnJvclJlc3BvbnNlPmRhdGEpLmVycm9yXG4gICAgICAgICAgICB9YDtcbiAgICAgICAgICAgIGlmIChlcnJvckNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgIGVycm9yQ2FsbGJhY2sobmV3IFJlc3BvbnNlRXJyb3IoZXJyb3JNZXNzYWdlLCBkYXRhKSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHRzID0gWzxMb2NhdGlvbklRUmVzdWx0PmRhdGFdO1xuICAgICAgICB9XG4gICAgICAgIGNhbGxiYWNrKFxuICAgICAgICAgICg8TG9jYXRpb25JUVJlc3VsdFtdPnJlc3VsdHMpLm1hcCgocmVzdWx0KSA9PlxuICAgICAgICAgICAgTG9jYXRpb25JUVByb3ZpZGVyLm1hcFRvR2VvY29kZWQocmVzdWx0KVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICBoZWFkZXJzLFxuICAgICAgYm9keSxcbiAgICAgIGVycm9yQ2FsbGJhY2tcbiAgICApO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBtYXBUb0dlb2NvZGVkKHJlc3VsdDogTG9jYXRpb25JUVJlc3VsdCk6IExvY2F0aW9uSVFHZW9jb2RlZCB7XG4gICAgY29uc3QgbGF0aXR1ZGUgPSBwYXJzZUZsb2F0KHJlc3VsdC5sYXQpO1xuICAgIGNvbnN0IGxvbmdpdHVkZSA9IHBhcnNlRmxvYXQocmVzdWx0Lmxvbik7XG4gICAgY29uc3QgZm9ybWF0dGVkQWRkcmVzcyA9IHJlc3VsdC5wb3N0YWxfYWRkcmVzcztcbiAgICBjb25zdCBkaXNwbGF5TmFtZSA9IHJlc3VsdC5kaXNwbGF5X25hbWU7XG4gICAgY29uc3Qgc3RyZWV0TnVtYmVyID0gcmVzdWx0LmFkZHJlc3MuaG91c2VfbnVtYmVyO1xuICAgIGNvbnN0IHN0cmVldE5hbWUgPSByZXN1bHQuYWRkcmVzcy5yb2FkO1xuICAgIGNvbnN0IHN1YkxvY2FsaXR5ID0gcmVzdWx0LmFkZHJlc3Muc3VidXJiO1xuICAgIGNvbnN0IGxvY2FsaXR5ID0gcmVzdWx0LmFkZHJlc3MuY2l0eTtcbiAgICBjb25zdCBwb3N0YWxDb2RlID0gcmVzdWx0LmFkZHJlc3MucG9zdGNvZGVcbiAgICAgID8gcmVzdWx0LmFkZHJlc3MucG9zdGNvZGUuc3BsaXQoXCI7XCIpWzBdXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCByZWdpb24gPSByZXN1bHQuYWRkcmVzcy5zdGF0ZTtcbiAgICBjb25zdCB7IGNvdW50cnkgfSA9IHJlc3VsdC5hZGRyZXNzO1xuICAgIGNvbnN0IGNvdW50cnlDb2RlID0gcmVzdWx0LmFkZHJlc3MuY291bnRyeV9jb2RlO1xuICAgIGNvbnN0IHBsYWNlSWQgPSByZXN1bHQucGxhY2VfaWQ7XG4gICAgY29uc3Qgb3NtSWQgPSByZXN1bHQub3NtX2lkO1xuICAgIGNvbnN0IG9zbVR5cGUgPSByZXN1bHQub3NtX3R5cGU7XG4gICAgY29uc3QgY2F0ZWdvcmllcyA9IHJlc3VsdC5jbGFzcyA/IFtyZXN1bHQuY2xhc3NdIDogW107XG4gICAgY29uc3QgeyBkaXN0YW5jZSB9ID0gcmVzdWx0O1xuICAgIGNvbnN0IHR5cGVzID0gcmVzdWx0LnR5cGUgPyBbcmVzdWx0LnR5cGVdIDogW107XG4gICAgY29uc3QgcHJlY2lzaW9uID0gcmVzdWx0Lm1hdGNocXVhbGl0eT8ubWF0Y2hsZXZlbDtcbiAgICBjb25zdCBwcmVjaXNpb25Db2RlID0gcmVzdWx0Lm1hdGNocXVhbGl0eT8ubWF0Y2hjb2RlO1xuICAgIGNvbnN0IHByZWNpc2lvblR5cGUgPSByZXN1bHQubWF0Y2hxdWFsaXR5Py5tYXRjaHR5cGU7XG4gICAgY29uc3QgYXR0cmlidXRpb24gPSByZXN1bHQubGljZW5jZTtcblxuICAgIGxldCBnZW9jb2RlZCA9IExvY2F0aW9uSVFHZW9jb2RlZC5jcmVhdGUoe1xuICAgICAgY29vcmRpbmF0ZXM6IHtcbiAgICAgICAgbGF0aXR1ZGUsXG4gICAgICAgIGxvbmdpdHVkZSxcbiAgICAgIH0sXG4gICAgICBmb3JtYXR0ZWRBZGRyZXNzLFxuICAgICAgZGlzcGxheU5hbWUsXG4gICAgICBzdHJlZXROdW1iZXIsXG4gICAgICBzdHJlZXROYW1lLFxuICAgICAgc3ViTG9jYWxpdHksXG4gICAgICBsb2NhbGl0eSxcbiAgICAgIHBvc3RhbENvZGUsXG4gICAgICByZWdpb24sXG4gICAgICBjb3VudHJ5LFxuICAgICAgY291bnRyeUNvZGUsXG4gICAgICBwbGFjZUlkLFxuICAgICAgb3NtSWQsXG4gICAgICBvc21UeXBlLFxuICAgICAgY2F0ZWdvcmllcyxcbiAgICAgIHR5cGVzLFxuICAgICAgZGlzdGFuY2UsXG4gICAgICBwcmVjaXNpb24sXG4gICAgICBwcmVjaXNpb25Db2RlLFxuICAgICAgcHJlY2lzaW9uVHlwZSxcbiAgICAgIGF0dHJpYnV0aW9uLFxuICAgIH0pO1xuXG4gICAgZ2VvY29kZWQgPSA8TG9jYXRpb25JUUdlb2NvZGVkPmdlb2NvZGVkLndpdGhCb3VuZHMoe1xuICAgICAgbGF0aXR1ZGVTVzogcGFyc2VGbG9hdChyZXN1bHQuYm91bmRpbmdib3hbMF0pLFxuICAgICAgbG9uZ2l0dWRlU1c6IHBhcnNlRmxvYXQocmVzdWx0LmJvdW5kaW5nYm94WzJdKSxcbiAgICAgIGxhdGl0dWRlTkU6IHBhcnNlRmxvYXQocmVzdWx0LmJvdW5kaW5nYm94WzFdKSxcbiAgICAgIGxvbmdpdHVkZU5FOiBwYXJzZUZsb2F0KHJlc3VsdC5ib3VuZGluZ2JveFszXSksXG4gICAgfSk7XG5cbiAgICBjb25zdCBhZG1pbkxldmVsczogKFwic3RhdGVcIiB8IFwiY291bnR5XCIpW10gPSBbXCJzdGF0ZVwiLCBcImNvdW50eVwiXTtcbiAgICBhZG1pbkxldmVscy5mb3JFYWNoKChhZG1pbkxldmVsLCBsZXZlbCkgPT4ge1xuICAgICAgaWYgKHJlc3VsdC5hZGRyZXNzW2FkbWluTGV2ZWxdKSB7XG4gICAgICAgIGdlb2NvZGVkLmFkZEFkbWluTGV2ZWwoXG4gICAgICAgICAgQWRtaW5MZXZlbC5jcmVhdGUoe1xuICAgICAgICAgICAgbGV2ZWw6IGxldmVsICsgMSxcbiAgICAgICAgICAgIG5hbWU6IHJlc3VsdC5hZGRyZXNzW2FkbWluTGV2ZWxdIHx8IFwiXCIsXG4gICAgICAgICAgICBjb2RlOlxuICAgICAgICAgICAgICBhZG1pbkxldmVsID09PSBcInN0YXRlXCIgPyByZXN1bHQuYWRkcmVzcy5zdGF0ZV9jb2RlIDogdW5kZWZpbmVkLFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBzdWJMb2NhbGl0eUxldmVsczogKFxuICAgICAgfCBcInN1YnVyYlwiXG4gICAgICB8IFwibmVpZ2hib3VyaG9vZFwiXG4gICAgICB8IFwicm9hZFwiXG4gICAgICB8IFwibmFtZVwiXG4gICAgKVtdID0gW1wic3VidXJiXCIsIFwibmVpZ2hib3VyaG9vZFwiLCBcInJvYWRcIiwgXCJuYW1lXCJdO1xuICAgIHN1YkxvY2FsaXR5TGV2ZWxzLmZvckVhY2goKHN1YkxvY2FsaXR5TGV2ZWwsIGxldmVsKSA9PiB7XG4gICAgICBpZiAocmVzdWx0LmFkZHJlc3Nbc3ViTG9jYWxpdHlMZXZlbF0pIHtcbiAgICAgICAgZ2VvY29kZWQuYWRkU3ViTG9jYWxpdHlMZXZlbChcbiAgICAgICAgICBBZG1pbkxldmVsLmNyZWF0ZSh7XG4gICAgICAgICAgICBsZXZlbDogbGV2ZWwgKyAxLFxuICAgICAgICAgICAgbmFtZTogcmVzdWx0LmFkZHJlc3Nbc3ViTG9jYWxpdHlMZXZlbF0gfHwgXCJcIixcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGdlb2NvZGVkO1xuICB9XG59XG4iLCJpbXBvcnQgeyBSZXZlcnNlUXVlcnksIFJldmVyc2VRdWVyeU9iamVjdCB9IGZyb20gXCJxdWVyeVwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIExvY2F0aW9uSVFSZXZlcnNlUXVlcnlPYmplY3QgZXh0ZW5kcyBSZXZlcnNlUXVlcnlPYmplY3Qge1xuICByZWFkb25seSB6b29tPzogbnVtYmVyO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb2NhdGlvbklRUmV2ZXJzZVF1ZXJ5IGV4dGVuZHMgUmV2ZXJzZVF1ZXJ5IHtcbiAgcHJpdmF0ZSByZWFkb25seSB6b29tPzogbnVtYmVyO1xuXG4gIHByb3RlY3RlZCBjb25zdHJ1Y3Rvcih7XG4gICAgem9vbSxcbiAgICAuLi5yZXZlcnNlUXVlcnlPYmplY3RcbiAgfTogTG9jYXRpb25JUVJldmVyc2VRdWVyeU9iamVjdCkge1xuICAgIHN1cGVyKHJldmVyc2VRdWVyeU9iamVjdCk7XG4gICAgdGhpcy56b29tID0gem9vbTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgY3JlYXRlKFxuICAgIG9iamVjdDogTG9jYXRpb25JUVJldmVyc2VRdWVyeU9iamVjdFxuICApOiBMb2NhdGlvbklRUmV2ZXJzZVF1ZXJ5IHtcbiAgICByZXR1cm4gbmV3IHRoaXMob2JqZWN0KTtcbiAgfVxuXG4gIHB1YmxpYyB0b09iamVjdCgpOiBMb2NhdGlvbklRUmV2ZXJzZVF1ZXJ5T2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3VwZXIudG9PYmplY3QoKSxcbiAgICAgIHpvb206IHRoaXMuem9vbSxcbiAgICB9O1xuICB9XG5cbiAgcHVibGljIHdpdGhab29tKHpvb206IG51bWJlcik6IExvY2F0aW9uSVFSZXZlcnNlUXVlcnkge1xuICAgIHJldHVybiBuZXcgTG9jYXRpb25JUVJldmVyc2VRdWVyeSh7IC4uLnRoaXMudG9PYmplY3QoKSwgem9vbSB9KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRab29tKCk6IHVuZGVmaW5lZCB8IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuem9vbTtcbiAgfVxufVxuIiwiZXhwb3J0IHsgZGVmYXVsdCBhcyBMb2NhdGlvbklRR2VvY29kZWQgfSBmcm9tIFwicHJvdmlkZXIvbG9jYXRpb25pcS9Mb2NhdGlvbklRR2VvY29kZWRcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTG9jYXRpb25JUUdlb2NvZGVRdWVyeSB9IGZyb20gXCJwcm92aWRlci9sb2NhdGlvbmlxL0xvY2F0aW9uSVFHZW9jb2RlUXVlcnlcIjtcbmV4cG9ydCAqIGZyb20gXCJwcm92aWRlci9sb2NhdGlvbmlxL0xvY2F0aW9uSVFHZW9jb2RlUXVlcnlcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTG9jYXRpb25JUVByb3ZpZGVyIH0gZnJvbSBcInByb3ZpZGVyL2xvY2F0aW9uaXEvTG9jYXRpb25JUVByb3ZpZGVyXCI7XG5leHBvcnQgKiBmcm9tIFwicHJvdmlkZXIvbG9jYXRpb25pcS9Mb2NhdGlvbklRUHJvdmlkZXJcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTG9jYXRpb25JUVJldmVyc2VRdWVyeSB9IGZyb20gXCJwcm92aWRlci9sb2NhdGlvbmlxL0xvY2F0aW9uSVFSZXZlcnNlUXVlcnlcIjtcbmV4cG9ydCAqIGZyb20gXCJwcm92aWRlci9sb2NhdGlvbmlxL0xvY2F0aW9uSVFSZXZlcnNlUXVlcnlcIjtcbiIsImltcG9ydCB7IEdlb2NvZGVRdWVyeSwgR2VvY29kZVF1ZXJ5T2JqZWN0IH0gZnJvbSBcInF1ZXJ5XCI7XG5pbXBvcnQgeyBDb29yZGluYXRlcyB9IGZyb20gXCJ0eXBlc1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIE1hcGJveEdlb2NvZGVRdWVyeU9iamVjdCBleHRlbmRzIEdlb2NvZGVRdWVyeU9iamVjdCB7XG4gIHJlYWRvbmx5IGNvdW50cnlDb2Rlcz86IHN0cmluZ1tdO1xuICByZWFkb25seSBwcm94aW1pdHk/OiBDb29yZGluYXRlcztcbiAgcmVhZG9ubHkgdHlwZXM/OiBzdHJpbmdbXTtcbiAgcmVhZG9ubHkgZnV6enlNYXRjaD86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hcGJveEdlb2NvZGVRdWVyeSBleHRlbmRzIEdlb2NvZGVRdWVyeSB7XG4gIHByaXZhdGUgcmVhZG9ubHkgY291bnRyeUNvZGVzPzogc3RyaW5nW107XG5cbiAgcHJpdmF0ZSByZWFkb25seSBwcm94aW1pdHk/OiBDb29yZGluYXRlcztcblxuICBwcml2YXRlIHJlYWRvbmx5IHR5cGVzPzogc3RyaW5nW107XG5cbiAgcHJpdmF0ZSByZWFkb25seSBmdXp6eU1hdGNoPzogYm9vbGVhbjtcblxuICBwcm90ZWN0ZWQgY29uc3RydWN0b3Ioe1xuICAgIGNvdW50cnlDb2RlcyxcbiAgICBwcm94aW1pdHksXG4gICAgdHlwZXMsXG4gICAgZnV6enlNYXRjaCxcbiAgICAuLi5nZW9jb2RlUXVlcnlPYmplY3RcbiAgfTogTWFwYm94R2VvY29kZVF1ZXJ5T2JqZWN0KSB7XG4gICAgc3VwZXIoZ2VvY29kZVF1ZXJ5T2JqZWN0KTtcbiAgICB0aGlzLmNvdW50cnlDb2RlcyA9IGNvdW50cnlDb2RlcztcbiAgICBpZiAocHJveGltaXR5ICYmICghcHJveGltaXR5LmxhdGl0dWRlIHx8ICFwcm94aW1pdHkubG9uZ2l0dWRlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhlIFwicHJveGltaXR5XCIgcGFyYW1ldGVyIG11c3QgYmUgYW4gb2JqZWN0IHdpdGggdGhlIGtleXM6IFwibGF0aXR1ZGVcIiwgXCJsb25naXR1ZGVcIi4nXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLnByb3hpbWl0eSA9IHByb3hpbWl0eTtcbiAgICB0aGlzLnR5cGVzID0gdHlwZXM7XG4gICAgdGhpcy5mdXp6eU1hdGNoID0gZnV6enlNYXRjaDtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgY3JlYXRlKG9iamVjdDogTWFwYm94R2VvY29kZVF1ZXJ5T2JqZWN0KTogTWFwYm94R2VvY29kZVF1ZXJ5IHtcbiAgICByZXR1cm4gbmV3IHRoaXMob2JqZWN0KTtcbiAgfVxuXG4gIHB1YmxpYyB0b09iamVjdCgpOiBNYXBib3hHZW9jb2RlUXVlcnlPYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdXBlci50b09iamVjdCgpLFxuICAgICAgY291bnRyeUNvZGVzOiB0aGlzLmNvdW50cnlDb2RlcyxcbiAgICAgIHByb3hpbWl0eTogdGhpcy5wcm94aW1pdHksXG4gICAgICB0eXBlczogdGhpcy50eXBlcyxcbiAgICAgIGZ1enp5TWF0Y2g6IHRoaXMuZnV6enlNYXRjaCxcbiAgICB9O1xuICB9XG5cbiAgcHVibGljIHdpdGhDb3VudHJ5Q29kZXMoY291bnRyeUNvZGVzOiBzdHJpbmdbXSk6IE1hcGJveEdlb2NvZGVRdWVyeSB7XG4gICAgcmV0dXJuIG5ldyBNYXBib3hHZW9jb2RlUXVlcnkoeyAuLi50aGlzLnRvT2JqZWN0KCksIGNvdW50cnlDb2RlcyB9KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRDb3VudHJ5Q29kZXMoKTogdW5kZWZpbmVkIHwgc3RyaW5nW10ge1xuICAgIHJldHVybiB0aGlzLmNvdW50cnlDb2RlcztcbiAgfVxuXG4gIHB1YmxpYyB3aXRoUHJveGltaXR5KHByb3hpbWl0eTogQ29vcmRpbmF0ZXMpOiBNYXBib3hHZW9jb2RlUXVlcnkge1xuICAgIHJldHVybiBuZXcgTWFwYm94R2VvY29kZVF1ZXJ5KHsgLi4udGhpcy50b09iamVjdCgpLCBwcm94aW1pdHkgfSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0UHJveGltaXR5KCk6IHVuZGVmaW5lZCB8IENvb3JkaW5hdGVzIHtcbiAgICByZXR1cm4gdGhpcy5wcm94aW1pdHk7XG4gIH1cblxuICBwdWJsaWMgd2l0aFR5cGVzKHR5cGVzOiBzdHJpbmdbXSk6IE1hcGJveEdlb2NvZGVRdWVyeSB7XG4gICAgcmV0dXJuIG5ldyBNYXBib3hHZW9jb2RlUXVlcnkoeyAuLi50aGlzLnRvT2JqZWN0KCksIHR5cGVzIH0pO1xuICB9XG5cbiAgcHVibGljIGdldFR5cGVzKCk6IHVuZGVmaW5lZCB8IHN0cmluZ1tdIHtcbiAgICByZXR1cm4gdGhpcy50eXBlcztcbiAgfVxuXG4gIHB1YmxpYyB3aXRoRnV6enlNYXRjaChmdXp6eU1hdGNoOiBib29sZWFuKTogTWFwYm94R2VvY29kZVF1ZXJ5IHtcbiAgICByZXR1cm4gbmV3IE1hcGJveEdlb2NvZGVRdWVyeSh7IC4uLnRoaXMudG9PYmplY3QoKSwgZnV6enlNYXRjaCB9KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRGdXp6eU1hdGNoKCk6IHVuZGVmaW5lZCB8IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLmZ1enp5TWF0Y2g7XG4gIH1cbn1cbiIsImltcG9ydCBHZW9jb2RlZCwgeyBHZW9jb2RlZE9iamVjdCB9IGZyb20gXCJHZW9jb2RlZFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIE1hcGJveEdlb2NvZGVkT2JqZWN0IGV4dGVuZHMgR2VvY29kZWRPYmplY3Qge1xuICByZWFkb25seSB0eXBlcz86IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXBib3hHZW9jb2RlZCBleHRlbmRzIEdlb2NvZGVkIHtcbiAgcHJpdmF0ZSByZWFkb25seSB0eXBlcz86IHN0cmluZ1tdO1xuXG4gIHByb3RlY3RlZCBjb25zdHJ1Y3Rvcih7IHR5cGVzLCAuLi5nZW9jb2RlZE9iamVjdCB9OiBNYXBib3hHZW9jb2RlZE9iamVjdCkge1xuICAgIHN1cGVyKGdlb2NvZGVkT2JqZWN0KTtcbiAgICB0aGlzLnR5cGVzID0gdHlwZXM7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGNyZWF0ZShvYmplY3Q6IE1hcGJveEdlb2NvZGVkT2JqZWN0KTogTWFwYm94R2VvY29kZWQge1xuICAgIHJldHVybiBuZXcgdGhpcyhvYmplY3QpO1xuICB9XG5cbiAgcHVibGljIHRvT2JqZWN0KCk6IE1hcGJveEdlb2NvZGVkT2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3VwZXIudG9PYmplY3QoKSxcbiAgICAgIHR5cGVzOiB0aGlzLnR5cGVzLFxuICAgIH07XG4gIH1cblxuICBwdWJsaWMgd2l0aFR5cGVzKHR5cGVzOiBzdHJpbmdbXSk6IE1hcGJveEdlb2NvZGVkIHtcbiAgICByZXR1cm4gbmV3IE1hcGJveEdlb2NvZGVkKHtcbiAgICAgIC4uLnRoaXMudG9PYmplY3QoKSxcbiAgICAgIHR5cGVzLFxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGdldFR5cGVzKCk6IHVuZGVmaW5lZCB8IHN0cmluZ1tdIHtcbiAgICByZXR1cm4gdGhpcy50eXBlcztcbiAgfVxufVxuIiwiaW1wb3J0IHtcbiAgRXh0ZXJuYWxMb2FkZXJCb2R5LFxuICBFeHRlcm5hbExvYWRlckhlYWRlcnMsXG4gIEV4dGVybmFsTG9hZGVySW50ZXJmYWNlLFxuICBFeHRlcm5hbExvYWRlclBhcmFtcyxcbn0gZnJvbSBcIkV4dGVybmFsTG9hZGVyXCI7XG5pbXBvcnQge1xuICBFcnJvckNhbGxiYWNrLFxuICBHZW9jb2RlZFJlc3VsdHNDYWxsYmFjayxcbiAgTWFwYm94R2VvY29kZWQsXG4gIE1hcGJveEdlb2NvZGVRdWVyeSxcbiAgTWFwYm94R2VvY29kZVF1ZXJ5T2JqZWN0LFxuICBNYXBib3hSZXZlcnNlUXVlcnksXG4gIE1hcGJveFJldmVyc2VRdWVyeU9iamVjdCxcbiAgUHJvdmlkZXJIZWxwZXJzLFxuICBQcm92aWRlckludGVyZmFjZSxcbiAgUHJvdmlkZXJPcHRpb25zSW50ZXJmYWNlLFxuICBkZWZhdWx0UHJvdmlkZXJPcHRpb25zLFxufSBmcm9tIFwicHJvdmlkZXJcIjtcbmltcG9ydCB7IEZsYXRCb3VuZGluZ0JveCwgRmxhdENvb3JkaW5hdGVzIH0gZnJvbSBcInR5cGVzXCI7XG5pbXBvcnQgQWRtaW5MZXZlbCwgeyBBRE1JTl9MRVZFTF9DT0RFUyB9IGZyb20gXCJBZG1pbkxldmVsXCI7XG5cbmludGVyZmFjZSBNYXBib3hSZXF1ZXN0UGFyYW1zIHtcbiAgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgcmVhZG9ubHkgYWNjZXNzX3Rva2VuOiBzdHJpbmc7XG4gIHJlYWRvbmx5IGNvdW50cnk/OiBzdHJpbmc7XG4gIHJlYWRvbmx5IGxhbmd1YWdlPzogc3RyaW5nO1xuICByZWFkb25seSBsaW1pdD86IHN0cmluZztcbiAgcmVhZG9ubHkgYmJveD86IHN0cmluZztcbiAgcmVhZG9ubHkgZnV6enlNYXRjaD86IHN0cmluZztcbiAgcmVhZG9ubHkgcHJveGltaXR5Pzogc3RyaW5nO1xuICByZWFkb25seSByZXZlcnNlTW9kZT86IFwiZGlzdGFuY2VcIiB8IFwic2NvcmVcIjtcbiAgcmVhZG9ubHkgdHlwZXM/OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBNYXBib3hGZWF0dXJlQ29udGV4dFByb3BlcnRpZXMge1xuICBpZDogc3RyaW5nO1xuICB0ZXh0OiBzdHJpbmc7XG4gIHdpa2lkYXRhPzogc3RyaW5nO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gIHNob3J0X2NvZGU/OiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBNYXBib3hGZWF0dXJlUHJvcGVydGllcyB7XG4gIGFjY3VyYWN5Pzogc3RyaW5nO1xuICBhZGRyZXNzPzogc3RyaW5nO1xuICBjYXRlZ29yeT86IHN0cmluZztcbiAgbWFraT86IHN0cmluZztcbiAgd2lraWRhdGE/OiBzdHJpbmc7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgc2hvcnRfY29kZT86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNYXBib3hSZXN1bHQge1xuICBpZDogc3RyaW5nO1xuICB0eXBlOiBcIkZlYXR1cmVcIjtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICBwbGFjZV90eXBlOiAoXG4gICAgfCBcImNvdW50cnlcIlxuICAgIHwgXCJyZWdpb25cIlxuICAgIHwgXCJwb3N0Y29kZVwiXG4gICAgfCBcImRpc3RyaWN0XCJcbiAgICB8IFwicGxhY2VcIlxuICAgIHwgXCJsb2NhbGl0eVwiXG4gICAgfCBcIm5laWdoYm9yaG9vZFwiXG4gICAgfCBcImFkZHJlc3NcIlxuICAgIHwgXCJwb2lcIlxuICApW107XG4gIHJlbGV2YW5jZTogbnVtYmVyO1xuICBhZGRyZXNzPzogc3RyaW5nO1xuICBwcm9wZXJ0aWVzOiBNYXBib3hGZWF0dXJlUHJvcGVydGllcztcbiAgdGV4dDogc3RyaW5nO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gIHBsYWNlX25hbWU6IHN0cmluZztcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICBtYXRjaGluZ190ZXh0Pzogc3RyaW5nO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gIG1hdGNoaW5nX3BsYWNlX25hbWU/OiBzdHJpbmc7XG4gIGxhbmd1YWdlPzogc3RyaW5nO1xuICBiYm94PzogRmxhdEJvdW5kaW5nQm94O1xuICBjZW50ZXI6IEZsYXRDb29yZGluYXRlcztcbiAgZ2VvbWV0cnk6IHtcbiAgICB0eXBlOiBcIlBvaW50XCI7XG4gICAgY29vcmRpbmF0ZXM6IEZsYXRDb29yZGluYXRlcztcbiAgfTtcbiAgY29udGV4dD86IE1hcGJveEZlYXR1cmVDb250ZXh0UHJvcGVydGllc1tdO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gIHJvdXRhYmxlX3BvaW50cz86IHtcbiAgICBwb2ludHM/OiB7XG4gICAgICBjb29yZGluYXRlczogRmxhdENvb3JkaW5hdGVzO1xuICAgIH1bXTtcbiAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNYXBib3hSZXNwb25zZSB7XG4gIHR5cGU6IFwiRmVhdHVyZUNvbGxlY3Rpb25cIjtcbiAgcXVlcnk6IHN0cmluZ1tdO1xuICBmZWF0dXJlczogTWFwYm94UmVzdWx0W107XG4gIGF0dHJpYnV0aW9uOiBzdHJpbmc7XG59XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zaGFkb3dcbmV4cG9ydCBlbnVtIE1BUEJPWF9TT1VSQ0VTIHtcbiAgU09VUkNFX1BMQUNFUyA9IFwibWFwYm94LnBsYWNlc1wiLFxuICBTT1VSQ0VfUExBQ0VTX1BFUk1BTkVOVCA9IFwibWFwYm94LnBsYWNlcy1wZXJtYW5lbnRcIixcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNYXBib3hQcm92aWRlck9wdGlvbnNJbnRlcmZhY2VcbiAgZXh0ZW5kcyBQcm92aWRlck9wdGlvbnNJbnRlcmZhY2Uge1xuICByZWFkb25seSBhcGlLZXk6IHN0cmluZztcbiAgcmVhZG9ubHkgc291cmNlPzogTUFQQk9YX1NPVVJDRVM7XG4gIHJlYWRvbmx5IGNvdW50cnlDb2Rlcz86IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgY29uc3QgZGVmYXVsdE1hcGJveFByb3ZpZGVyT3B0aW9ucyA9IHtcbiAgLi4uZGVmYXVsdFByb3ZpZGVyT3B0aW9ucyxcbiAgYXBpS2V5OiBcIlwiLFxuICBzb3VyY2U6IE1BUEJPWF9TT1VSQ0VTLlNPVVJDRV9QTEFDRVMsXG59O1xuXG50eXBlIE1hcGJveEdlb2NvZGVkUmVzdWx0c0NhbGxiYWNrID0gR2VvY29kZWRSZXN1bHRzQ2FsbGJhY2s8TWFwYm94R2VvY29kZWQ+O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXBib3hQcm92aWRlclxuICBpbXBsZW1lbnRzIFByb3ZpZGVySW50ZXJmYWNlPE1hcGJveEdlb2NvZGVkPiB7XG4gIHByaXZhdGUgZXh0ZXJuYWxMb2FkZXI6IEV4dGVybmFsTG9hZGVySW50ZXJmYWNlO1xuXG4gIHByaXZhdGUgb3B0aW9uczogTWFwYm94UHJvdmlkZXJPcHRpb25zSW50ZXJmYWNlO1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihcbiAgICBfZXh0ZXJuYWxMb2FkZXI6IEV4dGVybmFsTG9hZGVySW50ZXJmYWNlLFxuICAgIG9wdGlvbnM6IE1hcGJveFByb3ZpZGVyT3B0aW9uc0ludGVyZmFjZSA9IGRlZmF1bHRNYXBib3hQcm92aWRlck9wdGlvbnNcbiAgKSB7XG4gICAgdGhpcy5leHRlcm5hbExvYWRlciA9IF9leHRlcm5hbExvYWRlcjtcbiAgICB0aGlzLm9wdGlvbnMgPSB7IC4uLmRlZmF1bHRNYXBib3hQcm92aWRlck9wdGlvbnMsIC4uLm9wdGlvbnMgfTtcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5hcGlLZXkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ0FuIEFQSSBrZXkgaXMgcmVxdWlyZWQgZm9yIHRoZSBNYXBib3ggcHJvdmlkZXIuIFBsZWFzZSBhZGQgaXQgaW4gdGhlIFwiYXBpS2V5XCIgb3B0aW9uLidcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChcbiAgICAgICEoPHN0cmluZ1tdPltcbiAgICAgICAgTUFQQk9YX1NPVVJDRVMuU09VUkNFX1BMQUNFUyxcbiAgICAgICAgTUFQQk9YX1NPVVJDRVMuU09VUkNFX1BMQUNFU19QRVJNQU5FTlQsXG4gICAgICBdKS5pbmNsdWRlcyh0aGlzLm9wdGlvbnMuc291cmNlIHx8IFwiXCIpXG4gICAgKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBUaGUgXCJzb3VyY2VcIiBvcHRpb24gbXVzdCBlaXRoZXIgYmUgXCIke01BUEJPWF9TT1VSQ0VTLlNPVVJDRV9QTEFDRVN9XCIgb3IgXCIke01BUEJPWF9TT1VSQ0VTLlNPVVJDRV9QTEFDRVNfUEVSTUFORU5UfVwiLmBcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGdlb2NvZGUoXG4gICAgcXVlcnk6IHN0cmluZyB8IE1hcGJveEdlb2NvZGVRdWVyeSB8IE1hcGJveEdlb2NvZGVRdWVyeU9iamVjdCxcbiAgICBjYWxsYmFjaz86IE1hcGJveEdlb2NvZGVkUmVzdWx0c0NhbGxiYWNrLFxuICAgIGVycm9yQ2FsbGJhY2s/OiBFcnJvckNhbGxiYWNrXG4gICk6IHZvaWQgfCBQcm9taXNlPE1hcGJveEdlb2NvZGVkW10+IHtcbiAgICBjb25zdCBnZW9jb2RlUXVlcnkgPSBQcm92aWRlckhlbHBlcnMuZ2V0R2VvY29kZVF1ZXJ5RnJvbVBhcmFtZXRlcihcbiAgICAgIHF1ZXJ5LFxuICAgICAgTWFwYm94R2VvY29kZVF1ZXJ5XG4gICAgKTtcblxuICAgIGlmIChnZW9jb2RlUXVlcnkuZ2V0SXAoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIlRoZSBNYXBib3ggcHJvdmlkZXIgZG9lcyBub3Qgc3VwcG9ydCBJUCBnZW9sb2NhdGlvbiwgb25seSBsb2NhdGlvbiBnZW9jb2RpbmcuXCJcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdGhpcy5leHRlcm5hbExvYWRlci5zZXRPcHRpb25zKHtcbiAgICAgIHByb3RvY29sOiB0aGlzLm9wdGlvbnMudXNlU3NsID8gXCJodHRwc1wiIDogXCJodHRwXCIsXG4gICAgICBob3N0OiBcImFwaS5tYXBib3guY29tXCIsXG4gICAgICBwYXRobmFtZTogYGdlb2NvZGluZy92NS8ke1xuICAgICAgICB0aGlzLm9wdGlvbnMuc291cmNlXG4gICAgICB9LyR7Z2VvY29kZVF1ZXJ5LmdldFRleHQoKX0uanNvbmAsXG4gICAgfSk7XG5cbiAgICBjb25zdCBmdXp6eU1hdGNoID0gKDxNYXBib3hHZW9jb2RlUXVlcnk+Z2VvY29kZVF1ZXJ5KS5nZXRGdXp6eU1hdGNoKClcbiAgICAgID8gXCJ0cnVlXCJcbiAgICAgIDogXCJmYWxzZVwiO1xuICAgIGNvbnN0IHBhcmFtczogTWFwYm94UmVxdWVzdFBhcmFtcyA9IHRoaXMud2l0aENvbW1vblBhcmFtcyhcbiAgICAgIHtcbiAgICAgICAgYmJveDogZ2VvY29kZVF1ZXJ5LmdldEJvdW5kcygpXG4gICAgICAgICAgPyBgJHtnZW9jb2RlUXVlcnkuZ2V0Qm91bmRzKCk/LmxvbmdpdHVkZVNXfSwke1xuICAgICAgICAgICAgICBnZW9jb2RlUXVlcnkuZ2V0Qm91bmRzKCk/LmxhdGl0dWRlU1dcbiAgICAgICAgICAgIH0sJHtnZW9jb2RlUXVlcnkuZ2V0Qm91bmRzKCk/LmxvbmdpdHVkZU5FfSwke1xuICAgICAgICAgICAgICBnZW9jb2RlUXVlcnkuZ2V0Qm91bmRzKCk/LmxhdGl0dWRlTkVcbiAgICAgICAgICAgIH1gXG4gICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgIGZ1enp5TWF0Y2g6XG4gICAgICAgICAgKDxNYXBib3hHZW9jb2RlUXVlcnk+Z2VvY29kZVF1ZXJ5KS5nZXRGdXp6eU1hdGNoKCkgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBmdXp6eU1hdGNoXG4gICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgcHJveGltaXR5OiAoPE1hcGJveEdlb2NvZGVRdWVyeT5nZW9jb2RlUXVlcnkpLmdldFByb3hpbWl0eSgpXG4gICAgICAgICAgPyBgJHsoPE1hcGJveEdlb2NvZGVRdWVyeT5nZW9jb2RlUXVlcnkpLmdldFByb3hpbWl0eSgpPy5sb25naXR1ZGV9LCR7XG4gICAgICAgICAgICAgICg8TWFwYm94R2VvY29kZVF1ZXJ5Pmdlb2NvZGVRdWVyeSkuZ2V0UHJveGltaXR5KCk/LmxhdGl0dWRlXG4gICAgICAgICAgICB9YFxuICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICB0eXBlczogKDxNYXBib3hHZW9jb2RlUXVlcnk+Z2VvY29kZVF1ZXJ5KS5nZXRUeXBlcygpXG4gICAgICAgICAgPyAoPE1hcGJveEdlb2NvZGVRdWVyeT5nZW9jb2RlUXVlcnkpLmdldFR5cGVzKCk/LmpvaW4oXCIsXCIpXG4gICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICB9LFxuICAgICAgPE1hcGJveEdlb2NvZGVRdWVyeT5nZW9jb2RlUXVlcnlcbiAgICApO1xuXG4gICAgaWYgKCFjYWxsYmFjaykge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+XG4gICAgICAgIHRoaXMuZXhlY3V0ZVJlcXVlc3QoXG4gICAgICAgICAgcGFyYW1zLFxuICAgICAgICAgIChyZXN1bHRzKSA9PiByZXNvbHZlKHJlc3VsdHMpLFxuICAgICAgICAgIHt9LFxuICAgICAgICAgIHt9LFxuICAgICAgICAgIChlcnJvcikgPT4gcmVqZWN0KGVycm9yKVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5leGVjdXRlUmVxdWVzdChwYXJhbXMsIGNhbGxiYWNrLCB7fSwge30sIGVycm9yQ2FsbGJhY2spO1xuICB9XG5cbiAgcHVibGljIGdlb2RlY29kZShcbiAgICBsYXRpdHVkZU9yUXVlcnk6XG4gICAgICB8IG51bWJlclxuICAgICAgfCBzdHJpbmdcbiAgICAgIHwgTWFwYm94UmV2ZXJzZVF1ZXJ5XG4gICAgICB8IE1hcGJveFJldmVyc2VRdWVyeU9iamVjdCxcbiAgICBsb25naXR1ZGVPckNhbGxiYWNrPzogbnVtYmVyIHwgc3RyaW5nIHwgTWFwYm94R2VvY29kZWRSZXN1bHRzQ2FsbGJhY2ssXG4gICAgY2FsbGJhY2tPckVycm9yQ2FsbGJhY2s/OiBNYXBib3hHZW9jb2RlZFJlc3VsdHNDYWxsYmFjayB8IEVycm9yQ2FsbGJhY2ssXG4gICAgZXJyb3JDYWxsYmFjaz86IEVycm9yQ2FsbGJhY2tcbiAgKTogdm9pZCB8IFByb21pc2U8TWFwYm94R2VvY29kZWRbXT4ge1xuICAgIGNvbnN0IHJldmVyc2VRdWVyeSA9IFByb3ZpZGVySGVscGVycy5nZXRSZXZlcnNlUXVlcnlGcm9tUGFyYW1ldGVycyhcbiAgICAgIGxhdGl0dWRlT3JRdWVyeSxcbiAgICAgIGxvbmdpdHVkZU9yQ2FsbGJhY2ssXG4gICAgICBNYXBib3hSZXZlcnNlUXVlcnlcbiAgICApO1xuICAgIGNvbnN0IHJldmVyc2VDYWxsYmFjayA9IFByb3ZpZGVySGVscGVycy5nZXRDYWxsYmFja0Zyb21QYXJhbWV0ZXJzKFxuICAgICAgbG9uZ2l0dWRlT3JDYWxsYmFjayxcbiAgICAgIGNhbGxiYWNrT3JFcnJvckNhbGxiYWNrXG4gICAgKTtcbiAgICBjb25zdCByZXZlcnNlRXJyb3JDYWxsYmFjayA9IFByb3ZpZGVySGVscGVycy5nZXRFcnJvckNhbGxiYWNrRnJvbVBhcmFtZXRlcnMoXG4gICAgICBsb25naXR1ZGVPckNhbGxiYWNrLFxuICAgICAgY2FsbGJhY2tPckVycm9yQ2FsbGJhY2ssXG4gICAgICBlcnJvckNhbGxiYWNrXG4gICAgKTtcblxuICAgIHRoaXMuZXh0ZXJuYWxMb2FkZXIuc2V0T3B0aW9ucyh7XG4gICAgICBwcm90b2NvbDogdGhpcy5vcHRpb25zLnVzZVNzbCA/IFwiaHR0cHNcIiA6IFwiaHR0cFwiLFxuICAgICAgaG9zdDogXCJhcGkubWFwYm94LmNvbVwiLFxuICAgICAgcGF0aG5hbWU6IGBnZW9jb2RpbmcvdjUvJHt0aGlzLm9wdGlvbnMuc291cmNlfS8ke1xuICAgICAgICByZXZlcnNlUXVlcnkuZ2V0Q29vcmRpbmF0ZXMoKS5sb25naXR1ZGVcbiAgICAgIH0sJHtyZXZlcnNlUXVlcnkuZ2V0Q29vcmRpbmF0ZXMoKS5sYXRpdHVkZX0uanNvbmAsXG4gICAgfSk7XG5cbiAgICBjb25zdCBwYXJhbXM6IE1hcGJveFJlcXVlc3RQYXJhbXMgPSB0aGlzLndpdGhDb21tb25QYXJhbXMoXG4gICAgICB7XG4gICAgICAgIHJldmVyc2VNb2RlOiAoPE1hcGJveFJldmVyc2VRdWVyeT5yZXZlcnNlUXVlcnkpLmdldFJldmVyc2VNb2RlKClcbiAgICAgICAgICA/ICg8TWFwYm94UmV2ZXJzZVF1ZXJ5PnJldmVyc2VRdWVyeSkuZ2V0UmV2ZXJzZU1vZGUoKVxuICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICB0eXBlczogKDxNYXBib3hSZXZlcnNlUXVlcnk+cmV2ZXJzZVF1ZXJ5KS5nZXRUeXBlcygpXG4gICAgICAgICAgPyAoPE1hcGJveFJldmVyc2VRdWVyeT5yZXZlcnNlUXVlcnkpLmdldFR5cGVzKCk/LmpvaW4oXCIsXCIpXG4gICAgICAgICAgOiBcImFkZHJlc3NcIixcbiAgICAgIH0sXG4gICAgICA8TWFwYm94UmV2ZXJzZVF1ZXJ5PnJldmVyc2VRdWVyeVxuICAgICk7XG5cbiAgICBpZiAoIXJldmVyc2VDYWxsYmFjaykge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+XG4gICAgICAgIHRoaXMuZXhlY3V0ZVJlcXVlc3QoXG4gICAgICAgICAgcGFyYW1zLFxuICAgICAgICAgIChyZXN1bHRzKSA9PiByZXNvbHZlKHJlc3VsdHMpLFxuICAgICAgICAgIHt9LFxuICAgICAgICAgIHt9LFxuICAgICAgICAgIChlcnJvcikgPT4gcmVqZWN0KGVycm9yKVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5leGVjdXRlUmVxdWVzdChcbiAgICAgIHBhcmFtcyxcbiAgICAgIHJldmVyc2VDYWxsYmFjayxcbiAgICAgIHt9LFxuICAgICAge30sXG4gICAgICByZXZlcnNlRXJyb3JDYWxsYmFja1xuICAgICk7XG4gIH1cblxuICBwcml2YXRlIHdpdGhDb21tb25QYXJhbXMoXG4gICAgcGFyYW1zOiBQaWNrPFxuICAgICAgTWFwYm94UmVxdWVzdFBhcmFtcyxcbiAgICAgIFwiYmJveFwiIHwgXCJmdXp6eU1hdGNoXCIgfCBcInByb3hpbWl0eVwiIHwgXCJyZXZlcnNlTW9kZVwiIHwgXCJ0eXBlc1wiXG4gICAgPixcbiAgICBxdWVyeTogTWFwYm94R2VvY29kZVF1ZXJ5IHwgTWFwYm94UmV2ZXJzZVF1ZXJ5XG4gICk6IE1hcGJveFJlcXVlc3RQYXJhbXMge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5wYXJhbXMsXG4gICAgICBhY2Nlc3NfdG9rZW46IHRoaXMub3B0aW9ucy5hcGlLZXkgfHwgXCJcIixcbiAgICAgIGNvdW50cnk6IHF1ZXJ5LmdldENvdW50cnlDb2RlcygpXG4gICAgICAgID8gcXVlcnkuZ2V0Q291bnRyeUNvZGVzKCk/LmpvaW4oXCIsXCIpXG4gICAgICAgIDogdGhpcy5vcHRpb25zLmNvdW50cnlDb2Rlcz8uam9pbihcIixcIiksXG4gICAgICBsYW5ndWFnZTogcXVlcnkuZ2V0TG9jYWxlKCksXG4gICAgICBsaW1pdDogcXVlcnkuZ2V0TGltaXQoKS50b1N0cmluZygpLFxuICAgIH07XG4gIH1cblxuICBwdWJsaWMgZXhlY3V0ZVJlcXVlc3QoXG4gICAgcGFyYW1zOiBFeHRlcm5hbExvYWRlclBhcmFtcyxcbiAgICBjYWxsYmFjazogTWFwYm94R2VvY29kZWRSZXN1bHRzQ2FsbGJhY2ssXG4gICAgaGVhZGVycz86IEV4dGVybmFsTG9hZGVySGVhZGVycyxcbiAgICBib2R5PzogRXh0ZXJuYWxMb2FkZXJCb2R5LFxuICAgIGVycm9yQ2FsbGJhY2s/OiBFcnJvckNhbGxiYWNrXG4gICk6IHZvaWQge1xuICAgIHRoaXMuZXh0ZXJuYWxMb2FkZXIuZXhlY3V0ZVJlcXVlc3QoXG4gICAgICBwYXJhbXMsXG4gICAgICAoZGF0YTogTWFwYm94UmVzcG9uc2UpID0+IHtcbiAgICAgICAgY2FsbGJhY2soXG4gICAgICAgICAgZGF0YS5mZWF0dXJlcy5tYXAoKHJlc3VsdDogTWFwYm94UmVzdWx0KSA9PlxuICAgICAgICAgICAgTWFwYm94UHJvdmlkZXIubWFwVG9HZW9jb2RlZChyZXN1bHQpXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgIGhlYWRlcnMsXG4gICAgICBib2R5LFxuICAgICAgZXJyb3JDYWxsYmFja1xuICAgICk7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIG1hcFRvR2VvY29kZWQocmVzdWx0OiBNYXBib3hSZXN1bHQpOiBNYXBib3hHZW9jb2RlZCB7XG4gICAgY29uc3QgbGF0aXR1ZGUgPSByZXN1bHQuZ2VvbWV0cnkuY29vcmRpbmF0ZXNbMV07XG4gICAgY29uc3QgbG9uZ2l0dWRlID0gcmVzdWx0Lmdlb21ldHJ5LmNvb3JkaW5hdGVzWzBdO1xuICAgIGNvbnN0IGZvcm1hdHRlZEFkZHJlc3MgPSByZXN1bHQucGxhY2VfbmFtZTtcbiAgICBjb25zdCBzdHJlZXROdW1iZXIgPSByZXN1bHQuYWRkcmVzcztcbiAgICBjb25zdCBzdHJlZXROYW1lID0gcmVzdWx0LnRleHQ7XG4gICAgbGV0IGxvY2FsaXR5O1xuICAgIGxldCBwb3N0YWxDb2RlO1xuICAgIGxldCByZWdpb247XG4gICAgbGV0IGNvdW50cnk7XG4gICAgbGV0IGNvdW50cnlDb2RlO1xuICAgIGNvbnN0IGFkbWluTGV2ZWxzOiBBZG1pbkxldmVsW10gPSBbXTtcbiAgICBjb25zdCB0eXBlcyA9IHJlc3VsdC5wbGFjZV90eXBlO1xuXG4gICAgbGV0IGFkbWluTGV2ZWxDb2RlOiB1bmRlZmluZWQgfCBzdHJpbmc7XG4gICAgKHJlc3VsdC5jb250ZXh0IHx8IFtdKS5mb3JFYWNoKChmZWF0dXJlKSA9PiB7XG4gICAgICBjb25zdCB0eXBlID0gZmVhdHVyZS5pZC5zcGxpdChcIi5cIilbMF07XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcImxvY2FsaXR5XCI6XG4gICAgICAgICAgbG9jYWxpdHkgPSBmZWF0dXJlLnRleHQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJwbGFjZVwiOlxuICAgICAgICAgIGxvY2FsaXR5ID0gZmVhdHVyZS50ZXh0O1xuICAgICAgICAgIGFkbWluTGV2ZWxzLnB1c2goXG4gICAgICAgICAgICBBZG1pbkxldmVsLmNyZWF0ZSh7XG4gICAgICAgICAgICAgIGxldmVsOiBBRE1JTl9MRVZFTF9DT0RFUy5DT1VOVFlfQ09ERSxcbiAgICAgICAgICAgICAgbmFtZTogbG9jYWxpdHksXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJwb3N0Y29kZVwiOlxuICAgICAgICAgIHBvc3RhbENvZGUgPSBmZWF0dXJlLnRleHQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJyZWdpb25cIjpcbiAgICAgICAgICByZWdpb24gPSBmZWF0dXJlLnRleHQ7XG4gICAgICAgICAgYWRtaW5MZXZlbENvZGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgaWYgKGZlYXR1cmUuc2hvcnRfY29kZSAmJiBmZWF0dXJlLnNob3J0X2NvZGUubWF0Y2goL1tBLXpdezJ9LS8pKSB7XG4gICAgICAgICAgICBhZG1pbkxldmVsQ29kZSA9IGZlYXR1cmUuc2hvcnRfY29kZS5yZXBsYWNlKC9bQS16XXsyfS0vLCBcIlwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYWRtaW5MZXZlbHMucHVzaChcbiAgICAgICAgICAgIEFkbWluTGV2ZWwuY3JlYXRlKHtcbiAgICAgICAgICAgICAgbGV2ZWw6IEFETUlOX0xFVkVMX0NPREVTLlNUQVRFX0NPREUsXG4gICAgICAgICAgICAgIG5hbWU6IHJlZ2lvbixcbiAgICAgICAgICAgICAgY29kZTogYWRtaW5MZXZlbENvZGUsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJjb3VudHJ5XCI6XG4gICAgICAgICAgY291bnRyeSA9IGZlYXR1cmUudGV4dDtcbiAgICAgICAgICBjb3VudHJ5Q29kZSA9IGZlYXR1cmUuc2hvcnRfY29kZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGxldCBnZW9jb2RlZCA9IE1hcGJveEdlb2NvZGVkLmNyZWF0ZSh7XG4gICAgICBjb29yZGluYXRlczoge1xuICAgICAgICBsYXRpdHVkZSxcbiAgICAgICAgbG9uZ2l0dWRlLFxuICAgICAgfSxcbiAgICAgIGZvcm1hdHRlZEFkZHJlc3MsXG4gICAgICBzdHJlZXROdW1iZXIsXG4gICAgICBzdHJlZXROYW1lLFxuICAgICAgbG9jYWxpdHksXG4gICAgICBwb3N0YWxDb2RlLFxuICAgICAgcmVnaW9uLFxuICAgICAgYWRtaW5MZXZlbHMsXG4gICAgICBjb3VudHJ5LFxuICAgICAgY291bnRyeUNvZGUsXG4gICAgICB0eXBlcyxcbiAgICB9KTtcbiAgICBpZiAocmVzdWx0LmJib3gpIHtcbiAgICAgIGdlb2NvZGVkID0gPE1hcGJveEdlb2NvZGVkPmdlb2NvZGVkLndpdGhCb3VuZHMoe1xuICAgICAgICBsYXRpdHVkZVNXOiByZXN1bHQuYmJveFsxXSxcbiAgICAgICAgbG9uZ2l0dWRlU1c6IHJlc3VsdC5iYm94WzBdLFxuICAgICAgICBsYXRpdHVkZU5FOiByZXN1bHQuYmJveFszXSxcbiAgICAgICAgbG9uZ2l0dWRlTkU6IHJlc3VsdC5iYm94WzJdLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdlb2NvZGVkO1xuICB9XG59XG4iLCJpbXBvcnQgeyBSZXZlcnNlUXVlcnksIFJldmVyc2VRdWVyeU9iamVjdCB9IGZyb20gXCJxdWVyeVwiO1xuXG50eXBlIFJldmVyc2VNb2RlID0gXCJkaXN0YW5jZVwiIHwgXCJzY29yZVwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIE1hcGJveFJldmVyc2VRdWVyeU9iamVjdCBleHRlbmRzIFJldmVyc2VRdWVyeU9iamVjdCB7XG4gIHJlYWRvbmx5IGNvdW50cnlDb2Rlcz86IHN0cmluZ1tdO1xuICByZWFkb25seSByZXZlcnNlTW9kZT86IFJldmVyc2VNb2RlO1xuICByZWFkb25seSB0eXBlcz86IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXBib3hSZXZlcnNlUXVlcnkgZXh0ZW5kcyBSZXZlcnNlUXVlcnkge1xuICBwcml2YXRlIHJlYWRvbmx5IGNvdW50cnlDb2Rlcz86IHN0cmluZ1tdO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgcmV2ZXJzZU1vZGU/OiBSZXZlcnNlTW9kZTtcblxuICBwcml2YXRlIHJlYWRvbmx5IHR5cGVzPzogc3RyaW5nW107XG5cbiAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKHtcbiAgICBjb3VudHJ5Q29kZXMsXG4gICAgcmV2ZXJzZU1vZGUsXG4gICAgdHlwZXMsXG4gICAgLi4ucmV2ZXJzZVF1ZXJ5T2JqZWN0XG4gIH06IE1hcGJveFJldmVyc2VRdWVyeU9iamVjdCkge1xuICAgIHN1cGVyKHJldmVyc2VRdWVyeU9iamVjdCk7XG4gICAgdGhpcy5jb3VudHJ5Q29kZXMgPSBjb3VudHJ5Q29kZXM7XG4gICAgdGhpcy5yZXZlcnNlTW9kZSA9IHJldmVyc2VNb2RlO1xuICAgIHRoaXMudHlwZXMgPSB0eXBlcztcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgY3JlYXRlKG9iamVjdDogTWFwYm94UmV2ZXJzZVF1ZXJ5T2JqZWN0KTogTWFwYm94UmV2ZXJzZVF1ZXJ5IHtcbiAgICByZXR1cm4gbmV3IHRoaXMob2JqZWN0KTtcbiAgfVxuXG4gIHB1YmxpYyB0b09iamVjdCgpOiBNYXBib3hSZXZlcnNlUXVlcnlPYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdXBlci50b09iamVjdCgpLFxuICAgICAgY291bnRyeUNvZGVzOiB0aGlzLmNvdW50cnlDb2RlcyxcbiAgICAgIHJldmVyc2VNb2RlOiB0aGlzLnJldmVyc2VNb2RlLFxuICAgICAgdHlwZXM6IHRoaXMudHlwZXMsXG4gICAgfTtcbiAgfVxuXG4gIHB1YmxpYyB3aXRoQ291bnRyeUNvZGVzKGNvdW50cnlDb2Rlczogc3RyaW5nW10pOiBNYXBib3hSZXZlcnNlUXVlcnkge1xuICAgIHJldHVybiBuZXcgTWFwYm94UmV2ZXJzZVF1ZXJ5KHsgLi4udGhpcy50b09iamVjdCgpLCBjb3VudHJ5Q29kZXMgfSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0Q291bnRyeUNvZGVzKCk6IHVuZGVmaW5lZCB8IHN0cmluZ1tdIHtcbiAgICByZXR1cm4gdGhpcy5jb3VudHJ5Q29kZXM7XG4gIH1cblxuICBwdWJsaWMgd2l0aFJldmVyc2VNb2RlKHJldmVyc2VNb2RlOiBSZXZlcnNlTW9kZSk6IE1hcGJveFJldmVyc2VRdWVyeSB7XG4gICAgcmV0dXJuIG5ldyBNYXBib3hSZXZlcnNlUXVlcnkoeyAuLi50aGlzLnRvT2JqZWN0KCksIHJldmVyc2VNb2RlIH0pO1xuICB9XG5cbiAgcHVibGljIGdldFJldmVyc2VNb2RlKCk6IHVuZGVmaW5lZCB8IFJldmVyc2VNb2RlIHtcbiAgICByZXR1cm4gdGhpcy5yZXZlcnNlTW9kZTtcbiAgfVxuXG4gIHB1YmxpYyB3aXRoVHlwZXModHlwZXM6IHN0cmluZ1tdKTogTWFwYm94UmV2ZXJzZVF1ZXJ5IHtcbiAgICByZXR1cm4gbmV3IE1hcGJveFJldmVyc2VRdWVyeSh7IC4uLnRoaXMudG9PYmplY3QoKSwgdHlwZXMgfSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0VHlwZXMoKTogdW5kZWZpbmVkIHwgc3RyaW5nW10ge1xuICAgIHJldHVybiB0aGlzLnR5cGVzO1xuICB9XG59XG4iLCJleHBvcnQgeyBkZWZhdWx0IGFzIE1hcGJveEdlb2NvZGVkIH0gZnJvbSBcInByb3ZpZGVyL21hcGJveC9NYXBib3hHZW9jb2RlZFwiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBNYXBib3hHZW9jb2RlUXVlcnkgfSBmcm9tIFwicHJvdmlkZXIvbWFwYm94L01hcGJveEdlb2NvZGVRdWVyeVwiO1xuZXhwb3J0ICogZnJvbSBcInByb3ZpZGVyL21hcGJveC9NYXBib3hHZW9jb2RlUXVlcnlcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTWFwYm94UHJvdmlkZXIgfSBmcm9tIFwicHJvdmlkZXIvbWFwYm94L01hcGJveFByb3ZpZGVyXCI7XG5leHBvcnQgKiBmcm9tIFwicHJvdmlkZXIvbWFwYm94L01hcGJveFByb3ZpZGVyXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIE1hcGJveFJldmVyc2VRdWVyeSB9IGZyb20gXCJwcm92aWRlci9tYXBib3gvTWFwYm94UmV2ZXJzZVF1ZXJ5XCI7XG5leHBvcnQgKiBmcm9tIFwicHJvdmlkZXIvbWFwYm94L01hcGJveFJldmVyc2VRdWVyeVwiO1xuIiwiaW1wb3J0IHsgR2VvY29kZVF1ZXJ5LCBHZW9jb2RlUXVlcnlPYmplY3QgfSBmcm9tIFwicXVlcnlcIjtcbmltcG9ydCB7IE1hcFF1ZXN0TG9jYXRpb24sIE1hcFF1ZXN0TG9jYXRpb25PYmplY3QgfSBmcm9tIFwicHJvdmlkZXJcIjtcbmltcG9ydCBHZW9jb2RlZCwgeyBHZW9jb2RlZE9iamVjdCB9IGZyb20gXCJHZW9jb2RlZFwiO1xuaW1wb3J0IHsgQURNSU5fTEVWRUxfQ09ERVMgfSBmcm9tIFwiQWRtaW5MZXZlbFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIE1hcFF1ZXN0R2VvY29kZVF1ZXJ5T2JqZWN0IGV4dGVuZHMgR2VvY29kZVF1ZXJ5T2JqZWN0IHtcbiAgcmVhZG9ubHkgbG9jYXRpb24/OlxuICAgIHwgTWFwUXVlc3RMb2NhdGlvbk9iamVjdFxuICAgIHwgTWFwUXVlc3RMb2NhdGlvblxuICAgIHwgR2VvY29kZWRPYmplY3RcbiAgICB8IEdlb2NvZGVkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXBRdWVzdEdlb2NvZGVRdWVyeSBleHRlbmRzIEdlb2NvZGVRdWVyeSB7XG4gIHByaXZhdGUgcmVhZG9ubHkgbG9jYXRpb24/OiBNYXBRdWVzdExvY2F0aW9uT2JqZWN0O1xuXG4gIHByb3RlY3RlZCBjb25zdHJ1Y3Rvcih7XG4gICAgbG9jYXRpb24sXG4gICAgLi4uZ2VvY29kZVF1ZXJ5T2JqZWN0XG4gIH06IE1hcFF1ZXN0R2VvY29kZVF1ZXJ5T2JqZWN0KSB7XG4gICAgc3VwZXIoe1xuICAgICAgLi4uZ2VvY29kZVF1ZXJ5T2JqZWN0LFxuICAgICAgdGV4dDogbG9jYXRpb24gPyBcImZyb21fbG9jYXRpb25cIiA6IGdlb2NvZGVRdWVyeU9iamVjdC50ZXh0LFxuICAgIH0pO1xuICAgIGlmICghbG9jYXRpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKFwiZ2V0TGF0TG5nXCIgaW4gbG9jYXRpb24pIHtcbiAgICAgIHRoaXMubG9jYXRpb24gPSAoPE1hcFF1ZXN0TG9jYXRpb24+bG9jYXRpb24pLnRvT2JqZWN0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChcImdldExvY2FsaXR5XCIgaW4gbG9jYXRpb24pIHtcbiAgICAgIHRoaXMubG9jYXRpb24gPSBNYXBRdWVzdEdlb2NvZGVRdWVyeS5jb252ZXJ0R2VvY29kZWRUb0xvY2F0aW9uT2JqZWN0KFxuICAgICAgICA8R2VvY29kZWQ+bG9jYXRpb25cbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBnZW9jb2RlZFByb3BzTnVtYmVyID0gMDtcbiAgICBsZXQgbWFwUXVlc3RMb2NhdGlvblByb3BzTnVtYmVyID0gMDtcbiAgICBjb25zdCBnZW9jb2RlZE9iamVjdCA9IEdlb2NvZGVkLmNyZWF0ZSh7fSkudG9PYmplY3QoKTtcbiAgICBPYmplY3Qua2V5cyhnZW9jb2RlZE9iamVjdCkuZm9yRWFjaCgocHJvcCkgPT4ge1xuICAgICAgaWYgKHByb3AgaW4gbG9jYXRpb24pIHtcbiAgICAgICAgZ2VvY29kZWRQcm9wc051bWJlciArPSAxO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFtcbiAgICAgIFwic3RyZWV0XCIsXG4gICAgICBcImFkbWluQXJlYTVcIixcbiAgICAgIFwiY2l0eVwiLFxuICAgICAgXCJhZG1pbkFyZWE0XCIsXG4gICAgICBcImNvdW50eVwiLFxuICAgICAgXCJhZG1pbkFyZWEzXCIsXG4gICAgICBcInN0YXRlXCIsXG4gICAgICBcImFkbWluQXJlYTFcIixcbiAgICAgIFwiY291bnRyeVwiLFxuICAgICAgXCJwb3N0YWxDb2RlXCIsXG4gICAgICBcInR5cGVcIixcbiAgICBdLmZvckVhY2goKHByb3ApID0+IHtcbiAgICAgIGlmIChwcm9wIGluIGxvY2F0aW9uKSB7XG4gICAgICAgIG1hcFF1ZXN0TG9jYXRpb25Qcm9wc051bWJlciArPSAxO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChnZW9jb2RlZFByb3BzTnVtYmVyID4gbWFwUXVlc3RMb2NhdGlvblByb3BzTnVtYmVyKSB7XG4gICAgICB0aGlzLmxvY2F0aW9uID0gTWFwUXVlc3RHZW9jb2RlUXVlcnkuY29udmVydEdlb2NvZGVkVG9Mb2NhdGlvbk9iamVjdChcbiAgICAgICAgR2VvY29kZWQuY3JlYXRlKDxHZW9jb2RlZE9iamVjdD5sb2NhdGlvbilcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5sb2NhdGlvbiA9IGxvY2F0aW9uO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBjcmVhdGUoXG4gICAgb2JqZWN0OiBNYXBRdWVzdEdlb2NvZGVRdWVyeU9iamVjdFxuICApOiBNYXBRdWVzdEdlb2NvZGVRdWVyeSB7XG4gICAgcmV0dXJuIG5ldyB0aGlzKG9iamVjdCk7XG4gIH1cblxuICBwdWJsaWMgdG9PYmplY3QoKTogTWFwUXVlc3RHZW9jb2RlUXVlcnlPYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdXBlci50b09iamVjdCgpLFxuICAgICAgbG9jYXRpb246IHRoaXMubG9jYXRpb24sXG4gICAgfTtcbiAgfVxuXG4gIHB1YmxpYyB3aXRoTG9jYXRpb24oXG4gICAgbG9jYXRpb246XG4gICAgICB8IE1hcFF1ZXN0TG9jYXRpb25PYmplY3RcbiAgICAgIHwgTWFwUXVlc3RMb2NhdGlvblxuICAgICAgfCBHZW9jb2RlZE9iamVjdFxuICAgICAgfCBHZW9jb2RlZFxuICApOiBNYXBRdWVzdEdlb2NvZGVRdWVyeSB7XG4gICAgcmV0dXJuIG5ldyBNYXBRdWVzdEdlb2NvZGVRdWVyeSh7IC4uLnRoaXMudG9PYmplY3QoKSwgbG9jYXRpb24gfSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0TG9jYXRpb24oKTogdW5kZWZpbmVkIHwgTWFwUXVlc3RMb2NhdGlvbk9iamVjdCB7XG4gICAgcmV0dXJuIHRoaXMubG9jYXRpb247XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBjb252ZXJ0R2VvY29kZWRUb0xvY2F0aW9uT2JqZWN0KFxuICAgIGdlb2NvZGVkOiBHZW9jb2RlZFxuICApOiBNYXBRdWVzdExvY2F0aW9uT2JqZWN0IHtcbiAgICBjb25zdCBsb2NhdGlvbjogTWFwUXVlc3RMb2NhdGlvbk9iamVjdCA9IHt9O1xuXG4gICAgY29uc3Qgc3RyZWV0UGFydHMgPSBbXG4gICAgICBnZW9jb2RlZC5nZXRTdHJlZXROdW1iZXIoKSB8fCBcIlwiLFxuICAgICAgZ2VvY29kZWQuZ2V0U3RyZWV0TmFtZSgpIHx8IFwiXCIsXG4gICAgXTtcbiAgICBjb25zdCBzdHJlZXQgPSBzdHJlZXRQYXJ0cy5qb2luKFwiIFwiKTtcbiAgICBpZiAoc3RyZWV0KSB7XG4gICAgICBsb2NhdGlvbi5zdHJlZXQgPSBzdHJlZXQ7XG4gICAgfVxuICAgIGlmIChnZW9jb2RlZC5nZXRMb2NhbGl0eSgpKSB7XG4gICAgICBsb2NhdGlvbi5jaXR5ID0gZ2VvY29kZWQuZ2V0TG9jYWxpdHkoKTtcbiAgICB9XG4gICAgaWYgKGdlb2NvZGVkLmdldENvdW50cnkoKSkge1xuICAgICAgbG9jYXRpb24uY291bnRyeSA9IGdlb2NvZGVkLmdldENvdW50cnkoKTtcbiAgICB9XG4gICAgaWYgKGdlb2NvZGVkLmdldFBvc3RhbENvZGUoKSkge1xuICAgICAgbG9jYXRpb24ucG9zdGFsQ29kZSA9IGdlb2NvZGVkLmdldFBvc3RhbENvZGUoKTtcbiAgICB9XG4gICAgZ2VvY29kZWQuZ2V0QWRtaW5MZXZlbHMoKS5mb3JFYWNoKChhZG1pbkxldmVsKSA9PiB7XG4gICAgICBpZiAoYWRtaW5MZXZlbC5nZXRMZXZlbCgpID09PSBBRE1JTl9MRVZFTF9DT0RFUy5TVEFURV9DT0RFKSB7XG4gICAgICAgIGxvY2F0aW9uLnN0YXRlID0gYWRtaW5MZXZlbC5nZXRDb2RlKCkgfHwgYWRtaW5MZXZlbC5nZXROYW1lKCk7XG4gICAgICB9XG4gICAgICBpZiAoYWRtaW5MZXZlbC5nZXRMZXZlbCgpID09PSBBRE1JTl9MRVZFTF9DT0RFUy5DT1VOVFlfQ09ERSkge1xuICAgICAgICBsb2NhdGlvbi5jb3VudHkgPSBhZG1pbkxldmVsLmdldENvZGUoKSB8fCBhZG1pbkxldmVsLmdldE5hbWUoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBsb2NhdGlvbjtcbiAgfVxufVxuIiwiaW1wb3J0IEdlb2NvZGVkLCB7IEdlb2NvZGVkT2JqZWN0IH0gZnJvbSBcIkdlb2NvZGVkXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWFwUXVlc3RHZW9jb2RlZE9iamVjdCBleHRlbmRzIEdlb2NvZGVkT2JqZWN0IHtcbiAgcmVhZG9ubHkgcHJlY2lzaW9uPzogc3RyaW5nO1xuICByZWFkb25seSBwcmVjaXNpb25Db2RlPzogc3RyaW5nO1xuICByZWFkb25seSBtYXBVcmw/OiBzdHJpbmc7XG4gIHJlYWRvbmx5IGF0dHJpYnV0aW9uPzogc3RyaW5nO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXBRdWVzdEdlb2NvZGVkIGV4dGVuZHMgR2VvY29kZWQge1xuICBwcml2YXRlIHJlYWRvbmx5IHByZWNpc2lvbj86IHN0cmluZztcblxuICBwcml2YXRlIHJlYWRvbmx5IHByZWNpc2lvbkNvZGU/OiBzdHJpbmc7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBtYXBVcmw/OiBzdHJpbmc7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBhdHRyaWJ1dGlvbj86IHN0cmluZztcblxuICBwcm90ZWN0ZWQgY29uc3RydWN0b3Ioe1xuICAgIHByZWNpc2lvbixcbiAgICBwcmVjaXNpb25Db2RlLFxuICAgIG1hcFVybCxcbiAgICBhdHRyaWJ1dGlvbixcbiAgICAuLi5nZW9jb2RlZE9iamVjdFxuICB9OiBNYXBRdWVzdEdlb2NvZGVkT2JqZWN0KSB7XG4gICAgc3VwZXIoZ2VvY29kZWRPYmplY3QpO1xuICAgIHRoaXMucHJlY2lzaW9uID0gcHJlY2lzaW9uO1xuICAgIHRoaXMucHJlY2lzaW9uQ29kZSA9IHByZWNpc2lvbkNvZGU7XG4gICAgdGhpcy5tYXBVcmwgPSBtYXBVcmw7XG4gICAgdGhpcy5hdHRyaWJ1dGlvbiA9IGF0dHJpYnV0aW9uO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBjcmVhdGUob2JqZWN0OiBNYXBRdWVzdEdlb2NvZGVkT2JqZWN0KTogTWFwUXVlc3RHZW9jb2RlZCB7XG4gICAgcmV0dXJuIG5ldyB0aGlzKG9iamVjdCk7XG4gIH1cblxuICBwdWJsaWMgdG9PYmplY3QoKTogTWFwUXVlc3RHZW9jb2RlZE9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN1cGVyLnRvT2JqZWN0KCksXG4gICAgICBwcmVjaXNpb246IHRoaXMucHJlY2lzaW9uLFxuICAgICAgcHJlY2lzaW9uQ29kZTogdGhpcy5wcmVjaXNpb25Db2RlLFxuICAgICAgbWFwVXJsOiB0aGlzLm1hcFVybCxcbiAgICAgIGF0dHJpYnV0aW9uOiB0aGlzLmF0dHJpYnV0aW9uLFxuICAgIH07XG4gIH1cblxuICBwdWJsaWMgd2l0aFByZWNpc2lvbihwcmVjaXNpb246IHN0cmluZyk6IE1hcFF1ZXN0R2VvY29kZWQge1xuICAgIHJldHVybiBuZXcgTWFwUXVlc3RHZW9jb2RlZCh7XG4gICAgICAuLi50aGlzLnRvT2JqZWN0KCksXG4gICAgICBwcmVjaXNpb24sXG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0UHJlY2lzaW9uKCk6IHVuZGVmaW5lZCB8IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMucHJlY2lzaW9uO1xuICB9XG5cbiAgcHVibGljIHdpdGhQcmVjaXNpb25Db2RlKHByZWNpc2lvbkNvZGU6IHN0cmluZyk6IE1hcFF1ZXN0R2VvY29kZWQge1xuICAgIHJldHVybiBuZXcgTWFwUXVlc3RHZW9jb2RlZCh7XG4gICAgICAuLi50aGlzLnRvT2JqZWN0KCksXG4gICAgICBwcmVjaXNpb25Db2RlLFxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGdldFByZWNpc2lvbkNvZGUoKTogdW5kZWZpbmVkIHwgc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5wcmVjaXNpb25Db2RlO1xuICB9XG5cbiAgcHVibGljIHdpdGhNYXBVcmwobWFwVXJsOiBzdHJpbmcpOiBNYXBRdWVzdEdlb2NvZGVkIHtcbiAgICByZXR1cm4gbmV3IE1hcFF1ZXN0R2VvY29kZWQoe1xuICAgICAgLi4udGhpcy50b09iamVjdCgpLFxuICAgICAgbWFwVXJsLFxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGdldE1hcFVybCgpOiB1bmRlZmluZWQgfCBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLm1hcFVybDtcbiAgfVxuXG4gIHB1YmxpYyB3aXRoQXR0cmlidXRpb24oYXR0cmlidXRpb246IHN0cmluZyk6IE1hcFF1ZXN0R2VvY29kZWQge1xuICAgIHJldHVybiBuZXcgTWFwUXVlc3RHZW9jb2RlZCh7XG4gICAgICAuLi50aGlzLnRvT2JqZWN0KCksXG4gICAgICBhdHRyaWJ1dGlvbixcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRBdHRyaWJ1dGlvbigpOiB1bmRlZmluZWQgfCBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmF0dHJpYnV0aW9uO1xuICB9XG59XG4iLCJpbXBvcnQgeyBNYXBRdWVzdENvb3JkaW5hdGVzIH0gZnJvbSBcInByb3ZpZGVyXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWFwUXVlc3RMb2NhdGlvbk9iamVjdCB7XG4gIGxhdExuZz86IE1hcFF1ZXN0Q29vcmRpbmF0ZXM7XG4gIHN0cmVldD86IHN0cmluZztcbiAgYWRtaW5BcmVhMT86IHN0cmluZztcbiAgY291bnRyeT86IHN0cmluZztcbiAgYWRtaW5BcmVhMz86IHN0cmluZztcbiAgc3RhdGU/OiBzdHJpbmc7XG4gIGFkbWluQXJlYTQ/OiBzdHJpbmc7XG4gIGNvdW50eT86IHN0cmluZztcbiAgYWRtaW5BcmVhNT86IHN0cmluZztcbiAgY2l0eT86IHN0cmluZztcbiAgcG9zdGFsQ29kZT86IHN0cmluZztcbiAgdHlwZT86IFwic1wiIHwgXCJ2XCI7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hcFF1ZXN0TG9jYXRpb24ge1xuICBwcml2YXRlIHJlYWRvbmx5IGxhdExuZz86IE1hcFF1ZXN0Q29vcmRpbmF0ZXM7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBzdHJlZXQ/OiBzdHJpbmc7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBhZG1pbkFyZWExPzogc3RyaW5nO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgY291bnRyeT86IHN0cmluZztcblxuICBwcml2YXRlIHJlYWRvbmx5IGFkbWluQXJlYTM/OiBzdHJpbmc7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBzdGF0ZT86IHN0cmluZztcblxuICBwcml2YXRlIHJlYWRvbmx5IGFkbWluQXJlYTQ/OiBzdHJpbmc7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBjb3VudHk/OiBzdHJpbmc7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBhZG1pbkFyZWE1Pzogc3RyaW5nO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgY2l0eT86IHN0cmluZztcblxuICBwcml2YXRlIHJlYWRvbmx5IHBvc3RhbENvZGU/OiBzdHJpbmc7XG5cbiAgcHJpdmF0ZSByZWFkb25seSB0eXBlPzogXCJzXCIgfCBcInZcIjtcblxuICBwcm90ZWN0ZWQgY29uc3RydWN0b3Ioe1xuICAgIGxhdExuZyxcbiAgICBzdHJlZXQsXG4gICAgYWRtaW5BcmVhMSxcbiAgICBjb3VudHJ5LFxuICAgIGFkbWluQXJlYTMsXG4gICAgc3RhdGUsXG4gICAgYWRtaW5BcmVhNCxcbiAgICBjb3VudHksXG4gICAgYWRtaW5BcmVhNSxcbiAgICBjaXR5LFxuICAgIHBvc3RhbENvZGUsXG4gICAgdHlwZSxcbiAgfTogTWFwUXVlc3RMb2NhdGlvbk9iamVjdCkge1xuICAgIHRoaXMubGF0TG5nID0gbGF0TG5nO1xuICAgIHRoaXMuc3RyZWV0ID0gc3RyZWV0O1xuICAgIHRoaXMuYWRtaW5BcmVhMSA9IGFkbWluQXJlYTE7XG4gICAgdGhpcy5jb3VudHJ5ID0gY291bnRyeTtcbiAgICB0aGlzLmFkbWluQXJlYTMgPSBhZG1pbkFyZWEzO1xuICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICB0aGlzLmFkbWluQXJlYTQgPSBhZG1pbkFyZWE0O1xuICAgIHRoaXMuY291bnR5ID0gY291bnR5O1xuICAgIHRoaXMuYWRtaW5BcmVhNSA9IGFkbWluQXJlYTU7XG4gICAgdGhpcy5jaXR5ID0gY2l0eTtcbiAgICB0aGlzLnBvc3RhbENvZGUgPSBwb3N0YWxDb2RlO1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGNyZWF0ZShvYmplY3Q6IE1hcFF1ZXN0TG9jYXRpb25PYmplY3QpOiBNYXBRdWVzdExvY2F0aW9uIHtcbiAgICByZXR1cm4gbmV3IHRoaXMob2JqZWN0KTtcbiAgfVxuXG4gIHB1YmxpYyB0b09iamVjdCgpOiBNYXBRdWVzdExvY2F0aW9uT2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgbGF0TG5nOiB0aGlzLmxhdExuZyxcbiAgICAgIHN0cmVldDogdGhpcy5zdHJlZXQsXG4gICAgICBhZG1pbkFyZWExOiB0aGlzLmFkbWluQXJlYTEsXG4gICAgICBjb3VudHJ5OiB0aGlzLmNvdW50cnksXG4gICAgICBhZG1pbkFyZWEzOiB0aGlzLmFkbWluQXJlYTMsXG4gICAgICBzdGF0ZTogdGhpcy5zdGF0ZSxcbiAgICAgIGFkbWluQXJlYTQ6IHRoaXMuYWRtaW5BcmVhNCxcbiAgICAgIGNvdW50eTogdGhpcy5jb3VudHksXG4gICAgICBhZG1pbkFyZWE1OiB0aGlzLmFkbWluQXJlYTUsXG4gICAgICBjaXR5OiB0aGlzLmNpdHksXG4gICAgICBwb3N0YWxDb2RlOiB0aGlzLnBvc3RhbENvZGUsXG4gICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgfTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRMYXRMbmcoKTogdW5kZWZpbmVkIHwgTWFwUXVlc3RDb29yZGluYXRlcyB7XG4gICAgcmV0dXJuIHRoaXMubGF0TG5nO1xuICB9XG5cbiAgcHVibGljIGdldFN0cmVldCgpOiB1bmRlZmluZWQgfCBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLnN0cmVldDtcbiAgfVxuXG4gIHB1YmxpYyBnZXRBZG1pbkFyZWExKCk6IHVuZGVmaW5lZCB8IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuYWRtaW5BcmVhMTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRDb3VudHJ5KCk6IHVuZGVmaW5lZCB8IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuY291bnRyeTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRBZG1pbkFyZWEzKCk6IHVuZGVmaW5lZCB8IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuYWRtaW5BcmVhMztcbiAgfVxuXG4gIHB1YmxpYyBnZXRTdGF0ZSgpOiB1bmRlZmluZWQgfCBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLnN0YXRlO1xuICB9XG5cbiAgcHVibGljIGdldEFkbWluQXJlYTQoKTogdW5kZWZpbmVkIHwgc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5hZG1pbkFyZWE0O1xuICB9XG5cbiAgcHVibGljIGdldENvdW50eSgpOiB1bmRlZmluZWQgfCBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmNvdW50eTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRBZG1pbkFyZWE1KCk6IHVuZGVmaW5lZCB8IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuYWRtaW5BcmVhNTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRDaXR5KCk6IHVuZGVmaW5lZCB8IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuY2l0eTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRQb3N0YWxDb2RlKCk6IHVuZGVmaW5lZCB8IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMucG9zdGFsQ29kZTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRUeXBlKCk6IHVuZGVmaW5lZCB8IFwic1wiIHwgXCJ2XCIge1xuICAgIHJldHVybiB0aGlzLnR5cGU7XG4gIH1cbn1cbiIsImltcG9ydCB7XG4gIEV4dGVybmFsTG9hZGVyQm9keSxcbiAgRXh0ZXJuYWxMb2FkZXJIZWFkZXJzLFxuICBFeHRlcm5hbExvYWRlckludGVyZmFjZSxcbiAgRXh0ZXJuYWxMb2FkZXJQYXJhbXMsXG59IGZyb20gXCJFeHRlcm5hbExvYWRlclwiO1xuaW1wb3J0IHtcbiAgRXJyb3JDYWxsYmFjayxcbiAgR2VvY29kZWRSZXN1bHRzQ2FsbGJhY2ssXG4gIE1hcFF1ZXN0R2VvY29kZWQsXG4gIE1hcFF1ZXN0R2VvY29kZVF1ZXJ5LFxuICBNYXBRdWVzdEdlb2NvZGVRdWVyeU9iamVjdCxcbiAgUHJvdmlkZXJIZWxwZXJzLFxuICBQcm92aWRlckludGVyZmFjZSxcbiAgUHJvdmlkZXJPcHRpb25zSW50ZXJmYWNlLFxuICBkZWZhdWx0UHJvdmlkZXJPcHRpb25zLFxufSBmcm9tIFwicHJvdmlkZXJcIjtcbmltcG9ydCB7IFJldmVyc2VRdWVyeSwgUmV2ZXJzZVF1ZXJ5T2JqZWN0IH0gZnJvbSBcInF1ZXJ5XCI7XG5pbXBvcnQgQWRtaW5MZXZlbCwgeyBBRE1JTl9MRVZFTF9DT0RFUyB9IGZyb20gXCJBZG1pbkxldmVsXCI7XG5pbXBvcnQgeyBSZXNwb25zZUVycm9yIH0gZnJvbSBcImVycm9yXCI7XG5cbmludGVyZmFjZSBNYXBRdWVzdFJlcXVlc3RQYXJhbXMge1xuICBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkga2V5OiBzdHJpbmc7XG4gIHJlYWRvbmx5IGxvY2F0aW9uPzogc3RyaW5nO1xuICByZWFkb25seSBib3VuZGluZ0JveD86IHN0cmluZztcbiAgcmVhZG9ubHkgbWF4UmVzdWx0cz86IHN0cmluZztcbiAgcmVhZG9ubHkganNvbnBDYWxsYmFjaz86IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNYXBRdWVzdENvb3JkaW5hdGVzIHtcbiAgbGF0OiBudW1iZXI7XG4gIGxuZzogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE1hcFF1ZXN0UmVzdWx0IHtcbiAgbGF0TG5nOiBNYXBRdWVzdENvb3JkaW5hdGVzO1xuICBkaXNwbGF5TGF0TG5nOiBNYXBRdWVzdENvb3JkaW5hdGVzO1xuICBzdHJlZXQ6IHN0cmluZztcbiAgc2lkZU9mU3RyZWV0OiBzdHJpbmc7XG4gIGFkbWluQXJlYTE/OiBzdHJpbmc7XG4gIGFkbWluQXJlYTFUeXBlPzogc3RyaW5nO1xuICBhZG1pbkFyZWEzPzogc3RyaW5nO1xuICBhZG1pbkFyZWEzVHlwZT86IHN0cmluZztcbiAgYWRtaW5BcmVhND86IHN0cmluZztcbiAgYWRtaW5BcmVhNFR5cGU/OiBzdHJpbmc7XG4gIGFkbWluQXJlYTU/OiBzdHJpbmc7XG4gIGFkbWluQXJlYTVUeXBlPzogc3RyaW5nO1xuICBhZG1pbkFyZWE2Pzogc3RyaW5nO1xuICBhZG1pbkFyZWE2VHlwZT86IHN0cmluZztcbiAgcG9zdGFsQ29kZTogc3RyaW5nO1xuICB0eXBlOiBcInNcIiB8IFwidlwiO1xuICBsaW5rSWQ6IHN0cmluZztcbiAgZHJhZ1BvaW50OiBib29sZWFuO1xuICBnZW9jb2RlUXVhbGl0eTpcbiAgICB8IFwiUE9JTlRcIlxuICAgIHwgXCJBRERSRVNTXCJcbiAgICB8IFwiSU5URVJTRUNUSU9OXCJcbiAgICB8IFwiU1RSRUVUXCJcbiAgICB8IFwiQ09VTlRSWVwiXG4gICAgfCBcIlNUQVRFXCJcbiAgICB8IFwiQ09VTlRZXCJcbiAgICB8IFwiQ0lUWVwiXG4gICAgfCBcIk5FSUdIQk9SSE9PRFwiXG4gICAgfCBcIlpJUFwiXG4gICAgfCBcIlpJUF9FWFRFTkRFRFwiO1xuICBnZW9jb2RlUXVhbGl0eUNvZGU6IHN0cmluZztcbiAgbWFwVXJsOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWFwUXVlc3RSZXNwb25zZSB7XG4gIGluZm86IHtcbiAgICBzdGF0dXNjb2RlOiAwIHwgNDAwIHwgNDAzIHwgNTAwO1xuICAgIGNvcHlyaWdodDoge1xuICAgICAgdGV4dDogc3RyaW5nO1xuICAgICAgaW1hZ2VVcmw6IHN0cmluZztcbiAgICAgIGltYWdlQWx0VGV4dDogc3RyaW5nO1xuICAgIH07XG4gICAgbWVzc2FnZXM6IHN0cmluZ1tdO1xuICB9O1xuICByZXN1bHRzOiB7XG4gICAgcHJvdmlkZWRMb2NhdGlvbjoge1xuICAgICAgbG9jYXRpb24/OiBzdHJpbmc7XG4gICAgICBsYXRMbmc/OiBNYXBRdWVzdENvb3JkaW5hdGVzO1xuICAgIH07XG4gICAgbG9jYXRpb25zOiBNYXBRdWVzdFJlc3VsdFtdO1xuICB9W107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWFwUXVlc3RQcm92aWRlck9wdGlvbnNJbnRlcmZhY2VcbiAgZXh0ZW5kcyBQcm92aWRlck9wdGlvbnNJbnRlcmZhY2Uge1xuICByZWFkb25seSBhcGlLZXk6IHN0cmluZztcbiAgcmVhZG9ubHkgbWV0aG9kPzogXCJHRVRcIiB8IFwiUE9TVFwiO1xuICByZWFkb25seSBzb3VyY2U/OiBcIm5vbWluYXRpbVwiIHwgXCJtYXBxdWVzdFwiO1xufVxuXG5leHBvcnQgY29uc3QgZGVmYXVsdE1hcFF1ZXN0UHJvdmlkZXJPcHRpb25zOiBNYXBRdWVzdFByb3ZpZGVyT3B0aW9uc0ludGVyZmFjZSA9IHtcbiAgLi4uZGVmYXVsdFByb3ZpZGVyT3B0aW9ucyxcbiAgYXBpS2V5OiBcIlwiLFxuICBtZXRob2Q6IFwiR0VUXCIsXG4gIHNvdXJjZTogXCJtYXBxdWVzdFwiLFxufTtcblxudHlwZSBNYXBRdWVzdEdlb2NvZGVkUmVzdWx0c0NhbGxiYWNrID0gR2VvY29kZWRSZXN1bHRzQ2FsbGJhY2s8TWFwUXVlc3RHZW9jb2RlZD47XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hcFF1ZXN0UHJvdmlkZXJcbiAgaW1wbGVtZW50cyBQcm92aWRlckludGVyZmFjZTxNYXBRdWVzdEdlb2NvZGVkPiB7XG4gIHByaXZhdGUgZXh0ZXJuYWxMb2FkZXI6IEV4dGVybmFsTG9hZGVySW50ZXJmYWNlO1xuXG4gIHByaXZhdGUgb3B0aW9uczogTWFwUXVlc3RQcm92aWRlck9wdGlvbnNJbnRlcmZhY2U7XG5cbiAgcHVibGljIGNvbnN0cnVjdG9yKFxuICAgIF9leHRlcm5hbExvYWRlcjogRXh0ZXJuYWxMb2FkZXJJbnRlcmZhY2UsXG4gICAgb3B0aW9uczogTWFwUXVlc3RQcm92aWRlck9wdGlvbnNJbnRlcmZhY2UgPSBkZWZhdWx0TWFwUXVlc3RQcm92aWRlck9wdGlvbnNcbiAgKSB7XG4gICAgdGhpcy5leHRlcm5hbExvYWRlciA9IF9leHRlcm5hbExvYWRlcjtcbiAgICB0aGlzLm9wdGlvbnMgPSB7IC4uLmRlZmF1bHRNYXBRdWVzdFByb3ZpZGVyT3B0aW9ucywgLi4ub3B0aW9ucyB9O1xuICAgIGlmICghdGhpcy5vcHRpb25zLmFwaUtleSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnQW4gQVBJIGtleSBpcyByZXF1aXJlZCBmb3IgdGhlIE1hcFF1ZXN0IHByb3ZpZGVyLiBQbGVhc2UgYWRkIGl0IGluIHRoZSBcImFwaUtleVwiIG9wdGlvbi4nXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoIVtcIkdFVFwiLCBcIlBPU1RcIl0uaW5jbHVkZXModGhpcy5vcHRpb25zLm1ldGhvZCB8fCBcIlwiKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgXCJtZXRob2RcIiBvcHRpb24gbXVzdCBlaXRoZXIgYmUgXCJHRVRcIiBvciBcIlBPU1RcIi4nKTtcbiAgICB9XG4gICAgaWYgKCFbXCJtYXBxdWVzdFwiLCBcIm5vbWluYXRpbVwiXS5pbmNsdWRlcyh0aGlzLm9wdGlvbnMuc291cmNlIHx8IFwiXCIpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdUaGUgXCJzb3VyY2VcIiBvcHRpb24gbXVzdCBlaXRoZXIgYmUgXCJtYXBxdWVzdFwiIG9yIFwibm9taW5hdGltXCIuJ1xuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgZ2VvY29kZShcbiAgICBxdWVyeTogc3RyaW5nIHwgTWFwUXVlc3RHZW9jb2RlUXVlcnkgfCBNYXBRdWVzdEdlb2NvZGVRdWVyeU9iamVjdCxcbiAgICBjYWxsYmFjaz86IE1hcFF1ZXN0R2VvY29kZWRSZXN1bHRzQ2FsbGJhY2ssXG4gICAgZXJyb3JDYWxsYmFjaz86IEVycm9yQ2FsbGJhY2tcbiAgKTogdm9pZCB8IFByb21pc2U8TWFwUXVlc3RHZW9jb2RlZFtdPiB7XG4gICAgY29uc3QgZ2VvY29kZVF1ZXJ5ID0gUHJvdmlkZXJIZWxwZXJzLmdldEdlb2NvZGVRdWVyeUZyb21QYXJhbWV0ZXIoXG4gICAgICBxdWVyeSxcbiAgICAgIE1hcFF1ZXN0R2VvY29kZVF1ZXJ5XG4gICAgKTtcblxuICAgIGlmIChnZW9jb2RlUXVlcnkuZ2V0SXAoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIlRoZSBNYXBRdWVzdCBwcm92aWRlciBkb2VzIG5vdCBzdXBwb3J0IElQIGdlb2xvY2F0aW9uLCBvbmx5IGxvY2F0aW9uIGdlb2NvZGluZy5cIlxuICAgICAgKTtcbiAgICB9XG5cbiAgICB0aGlzLmV4dGVybmFsTG9hZGVyLnNldE9wdGlvbnMoe1xuICAgICAgbWV0aG9kOiB0aGlzLm9wdGlvbnMubWV0aG9kLFxuICAgICAgcHJvdG9jb2w6IHRoaXMub3B0aW9ucy51c2VTc2wgPyBcImh0dHBzXCIgOiBcImh0dHBcIixcbiAgICAgIGhvc3Q6XG4gICAgICAgIHRoaXMub3B0aW9ucy5zb3VyY2UgPT09IFwibm9taW5hdGltXCJcbiAgICAgICAgICA/IFwib3Blbi5tYXBxdWVzdGFwaS5jb21cIlxuICAgICAgICAgIDogXCJ3d3cubWFwcXVlc3RhcGkuY29tXCIsXG4gICAgICBwYXRobmFtZTogXCJnZW9jb2RpbmcvdjEvYWRkcmVzc1wiLFxuICAgIH0pO1xuXG4gICAgbGV0IHJlcXVlc3RQYXJhbXM6IHtcbiAgICAgIGxvY2F0aW9uPzogc3RyaW5nO1xuICAgICAgYm91bmRpbmdCb3g/OiBzdHJpbmc7XG4gICAgICBtYXhSZXN1bHRzPzogc3RyaW5nO1xuICAgIH0gPSB7XG4gICAgICBib3VuZGluZ0JveDogZ2VvY29kZVF1ZXJ5LmdldEJvdW5kcygpXG4gICAgICAgID8gYCR7Z2VvY29kZVF1ZXJ5LmdldEJvdW5kcygpPy5sYXRpdHVkZU5FfSwke1xuICAgICAgICAgICAgZ2VvY29kZVF1ZXJ5LmdldEJvdW5kcygpPy5sb25naXR1ZGVTV1xuICAgICAgICAgIH0sJHtnZW9jb2RlUXVlcnkuZ2V0Qm91bmRzKCk/LmxhdGl0dWRlU1d9LCR7XG4gICAgICAgICAgICBnZW9jb2RlUXVlcnkuZ2V0Qm91bmRzKCk/LmxvbmdpdHVkZU5FXG4gICAgICAgICAgfWBcbiAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICBtYXhSZXN1bHRzOiBnZW9jb2RlUXVlcnkuZ2V0TGltaXQoKS50b1N0cmluZygpLFxuICAgIH07XG4gICAgaWYgKCg8TWFwUXVlc3RHZW9jb2RlUXVlcnk+Z2VvY29kZVF1ZXJ5KS5nZXRMb2NhdGlvbigpKSB7XG4gICAgICByZXF1ZXN0UGFyYW1zID0ge1xuICAgICAgICAuLi4oPE1hcFF1ZXN0R2VvY29kZVF1ZXJ5Pmdlb2NvZGVRdWVyeSkuZ2V0TG9jYXRpb24oKSxcbiAgICAgICAgLi4ucmVxdWVzdFBhcmFtcyxcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcXVlc3RQYXJhbXMgPSB7XG4gICAgICAgIGxvY2F0aW9uOiBnZW9jb2RlUXVlcnkuZ2V0VGV4dCgpLFxuICAgICAgICAuLi5yZXF1ZXN0UGFyYW1zLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICByZXF1ZXN0UGFyYW1zID0gdGhpcy5vcHRpb25zLm1ldGhvZCA9PT0gXCJHRVRcIiA/IHJlcXVlc3RQYXJhbXMgOiB7fTtcbiAgICBjb25zdCBwYXJhbXM6IE1hcFF1ZXN0UmVxdWVzdFBhcmFtcyA9IHRoaXMud2l0aENvbW1vblBhcmFtcyhyZXF1ZXN0UGFyYW1zKTtcblxuICAgIGNvbnN0IGJvZHkgPVxuICAgICAgdGhpcy5vcHRpb25zLm1ldGhvZCA9PT0gXCJQT1NUXCJcbiAgICAgICAgPyB7XG4gICAgICAgICAgICBsb2NhdGlvbjogKDxNYXBRdWVzdEdlb2NvZGVRdWVyeT5nZW9jb2RlUXVlcnkpLmdldExvY2F0aW9uKClcbiAgICAgICAgICAgICAgPyA8RXh0ZXJuYWxMb2FkZXJCb2R5PihcbiAgICAgICAgICAgICAgICAgICg8TWFwUXVlc3RHZW9jb2RlUXVlcnk+Z2VvY29kZVF1ZXJ5KS5nZXRMb2NhdGlvbigpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICA6IGdlb2NvZGVRdWVyeS5nZXRUZXh0KCksXG4gICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgIGJvdW5kaW5nQm94OiBnZW9jb2RlUXVlcnkuZ2V0Qm91bmRzKClcbiAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgdWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICBsYXQ6IGdlb2NvZGVRdWVyeS5nZXRCb3VuZHMoKT8ubGF0aXR1ZGVORSxcbiAgICAgICAgICAgICAgICAgICAgICBsbmc6IGdlb2NvZGVRdWVyeS5nZXRCb3VuZHMoKT8ubG9uZ2l0dWRlU1csXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGxyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgbGF0OiBnZW9jb2RlUXVlcnkuZ2V0Qm91bmRzKCk/LmxhdGl0dWRlU1csXG4gICAgICAgICAgICAgICAgICAgICAgbG5nOiBnZW9jb2RlUXVlcnkuZ2V0Qm91bmRzKCk/LmxvbmdpdHVkZU5FLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICBtYXhSZXN1bHRzOiBnZW9jb2RlUXVlcnkuZ2V0TGltaXQoKS50b1N0cmluZygpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9XG4gICAgICAgIDoge307XG5cbiAgICBpZiAoIWNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT5cbiAgICAgICAgdGhpcy5leGVjdXRlUmVxdWVzdChcbiAgICAgICAgICBwYXJhbXMsXG4gICAgICAgICAgKHJlc3VsdHMpID0+IHJlc29sdmUocmVzdWx0cyksXG4gICAgICAgICAge30sXG4gICAgICAgICAgYm9keSxcbiAgICAgICAgICAoZXJyb3IpID0+IHJlamVjdChlcnJvcilcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZXhlY3V0ZVJlcXVlc3QocGFyYW1zLCBjYWxsYmFjaywge30sIGJvZHksIGVycm9yQ2FsbGJhY2spO1xuICB9XG5cbiAgcHVibGljIGdlb2RlY29kZShcbiAgICBsYXRpdHVkZU9yUXVlcnk6IG51bWJlciB8IHN0cmluZyB8IFJldmVyc2VRdWVyeSB8IFJldmVyc2VRdWVyeU9iamVjdCxcbiAgICBsb25naXR1ZGVPckNhbGxiYWNrPzogbnVtYmVyIHwgc3RyaW5nIHwgTWFwUXVlc3RHZW9jb2RlZFJlc3VsdHNDYWxsYmFjayxcbiAgICBjYWxsYmFja09yRXJyb3JDYWxsYmFjaz86IE1hcFF1ZXN0R2VvY29kZWRSZXN1bHRzQ2FsbGJhY2sgfCBFcnJvckNhbGxiYWNrLFxuICAgIGVycm9yQ2FsbGJhY2s/OiBFcnJvckNhbGxiYWNrXG4gICk6IHZvaWQgfCBQcm9taXNlPE1hcFF1ZXN0R2VvY29kZWRbXT4ge1xuICAgIGNvbnN0IHJldmVyc2VRdWVyeSA9IFByb3ZpZGVySGVscGVycy5nZXRSZXZlcnNlUXVlcnlGcm9tUGFyYW1ldGVycyhcbiAgICAgIGxhdGl0dWRlT3JRdWVyeSxcbiAgICAgIGxvbmdpdHVkZU9yQ2FsbGJhY2tcbiAgICApO1xuICAgIGNvbnN0IHJldmVyc2VDYWxsYmFjayA9IFByb3ZpZGVySGVscGVycy5nZXRDYWxsYmFja0Zyb21QYXJhbWV0ZXJzKFxuICAgICAgbG9uZ2l0dWRlT3JDYWxsYmFjayxcbiAgICAgIGNhbGxiYWNrT3JFcnJvckNhbGxiYWNrXG4gICAgKTtcbiAgICBjb25zdCByZXZlcnNlRXJyb3JDYWxsYmFjayA9IFByb3ZpZGVySGVscGVycy5nZXRFcnJvckNhbGxiYWNrRnJvbVBhcmFtZXRlcnMoXG4gICAgICBsb25naXR1ZGVPckNhbGxiYWNrLFxuICAgICAgY2FsbGJhY2tPckVycm9yQ2FsbGJhY2ssXG4gICAgICBlcnJvckNhbGxiYWNrXG4gICAgKTtcblxuICAgIHRoaXMuZXh0ZXJuYWxMb2FkZXIuc2V0T3B0aW9ucyh7XG4gICAgICBtZXRob2Q6IHRoaXMub3B0aW9ucy5tZXRob2QsXG4gICAgICBwcm90b2NvbDogdGhpcy5vcHRpb25zLnVzZVNzbCA/IFwiaHR0cHNcIiA6IFwiaHR0cFwiLFxuICAgICAgaG9zdDpcbiAgICAgICAgdGhpcy5vcHRpb25zLnNvdXJjZSA9PT0gXCJub21pbmF0aW1cIlxuICAgICAgICAgID8gXCJvcGVuLm1hcHF1ZXN0YXBpLmNvbVwiXG4gICAgICAgICAgOiBcInd3dy5tYXBxdWVzdGFwaS5jb21cIixcbiAgICAgIHBhdGhuYW1lOiBcImdlb2NvZGluZy92MS9yZXZlcnNlXCIsXG4gICAgfSk7XG5cbiAgICBjb25zdCByZXF1ZXN0UGFyYW1zID1cbiAgICAgIHRoaXMub3B0aW9ucy5tZXRob2QgPT09IFwiR0VUXCJcbiAgICAgICAgPyB7XG4gICAgICAgICAgICBsb2NhdGlvbjogYCR7cmV2ZXJzZVF1ZXJ5LmdldENvb3JkaW5hdGVzKCkubGF0aXR1ZGV9LCR7XG4gICAgICAgICAgICAgIHJldmVyc2VRdWVyeS5nZXRDb29yZGluYXRlcygpLmxvbmdpdHVkZVxuICAgICAgICAgICAgfWAsXG4gICAgICAgICAgfVxuICAgICAgICA6IHt9O1xuICAgIGNvbnN0IHBhcmFtczogTWFwUXVlc3RSZXF1ZXN0UGFyYW1zID0gdGhpcy53aXRoQ29tbW9uUGFyYW1zKHJlcXVlc3RQYXJhbXMpO1xuXG4gICAgY29uc3QgYm9keSA9XG4gICAgICB0aGlzLm9wdGlvbnMubWV0aG9kID09PSBcIlBPU1RcIlxuICAgICAgICA/IHtcbiAgICAgICAgICAgIGxvY2F0aW9uOiB7XG4gICAgICAgICAgICAgIGxhdExuZzoge1xuICAgICAgICAgICAgICAgIGxhdDogcmV2ZXJzZVF1ZXJ5LmdldENvb3JkaW5hdGVzKCkubGF0aXR1ZGUsXG4gICAgICAgICAgICAgICAgbG5nOiByZXZlcnNlUXVlcnkuZ2V0Q29vcmRpbmF0ZXMoKS5sb25naXR1ZGUsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH1cbiAgICAgICAgOiB7fTtcblxuICAgIGlmICghcmV2ZXJzZUNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT5cbiAgICAgICAgdGhpcy5leGVjdXRlUmVxdWVzdChcbiAgICAgICAgICBwYXJhbXMsXG4gICAgICAgICAgKHJlc3VsdHMpID0+IHJlc29sdmUocmVzdWx0cyksXG4gICAgICAgICAge30sXG4gICAgICAgICAgYm9keSxcbiAgICAgICAgICAoZXJyb3IpID0+IHJlamVjdChlcnJvcilcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZXhlY3V0ZVJlcXVlc3QoXG4gICAgICBwYXJhbXMsXG4gICAgICByZXZlcnNlQ2FsbGJhY2ssXG4gICAgICB7fSxcbiAgICAgIGJvZHksXG4gICAgICByZXZlcnNlRXJyb3JDYWxsYmFja1xuICAgICk7XG4gIH1cblxuICBwcml2YXRlIHdpdGhDb21tb25QYXJhbXMoXG4gICAgcGFyYW1zOiBQaWNrPFxuICAgICAgTWFwUXVlc3RSZXF1ZXN0UGFyYW1zLFxuICAgICAgXCJsb2NhdGlvblwiIHwgXCJib3VuZGluZ0JveFwiIHwgXCJtYXhSZXN1bHRzXCJcbiAgICA+XG4gICk6IE1hcFF1ZXN0UmVxdWVzdFBhcmFtcyB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnBhcmFtcyxcbiAgICAgIGtleTogdGhpcy5vcHRpb25zLmFwaUtleSB8fCBcIlwiLFxuICAgICAganNvbnBDYWxsYmFjazogdGhpcy5vcHRpb25zLnVzZUpzb25wID8gXCJjYWxsYmFja1wiIDogdW5kZWZpbmVkLFxuICAgIH07XG4gIH1cblxuICBwdWJsaWMgZXhlY3V0ZVJlcXVlc3QoXG4gICAgcGFyYW1zOiBFeHRlcm5hbExvYWRlclBhcmFtcyxcbiAgICBjYWxsYmFjazogTWFwUXVlc3RHZW9jb2RlZFJlc3VsdHNDYWxsYmFjayxcbiAgICBoZWFkZXJzPzogRXh0ZXJuYWxMb2FkZXJIZWFkZXJzLFxuICAgIGJvZHk/OiBFeHRlcm5hbExvYWRlckJvZHksXG4gICAgZXJyb3JDYWxsYmFjaz86IEVycm9yQ2FsbGJhY2tcbiAgKTogdm9pZCB7XG4gICAgdGhpcy5leHRlcm5hbExvYWRlci5leGVjdXRlUmVxdWVzdChcbiAgICAgIHBhcmFtcyxcbiAgICAgIChkYXRhOiBNYXBRdWVzdFJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGlmIChkYXRhLmluZm8uc3RhdHVzY29kZSAhPT0gMCkge1xuICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGBBbiBlcnJvciBoYXMgb2NjdXJyZWQgKCR7XG4gICAgICAgICAgICBkYXRhLmluZm8uc3RhdHVzY29kZVxuICAgICAgICAgIH0pOiAke2RhdGEuaW5mby5tZXNzYWdlcy5qb2luKFwiIC8gXCIpfWA7XG4gICAgICAgICAgaWYgKGVycm9yQ2FsbGJhY2spIHtcbiAgICAgICAgICAgIGVycm9yQ2FsbGJhY2sobmV3IFJlc3BvbnNlRXJyb3IoZXJyb3JNZXNzYWdlLCBkYXRhKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNhbGxiYWNrKFxuICAgICAgICAgIGRhdGEucmVzdWx0c1swXS5sb2NhdGlvbnMubWFwKChyZXN1bHQ6IE1hcFF1ZXN0UmVzdWx0KSA9PlxuICAgICAgICAgICAgTWFwUXVlc3RQcm92aWRlci5tYXBUb0dlb2NvZGVkKHJlc3VsdCwgZGF0YS5pbmZvLmNvcHlyaWdodC50ZXh0KVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICBoZWFkZXJzLFxuICAgICAgYm9keSxcbiAgICAgIGVycm9yQ2FsbGJhY2tcbiAgICApO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBtYXBUb0dlb2NvZGVkKFxuICAgIHJlc3VsdDogTWFwUXVlc3RSZXN1bHQsXG4gICAgYXR0cmlidXRpb24/OiBzdHJpbmdcbiAgKTogTWFwUXVlc3RHZW9jb2RlZCB7XG4gICAgY29uc3QgbGF0aXR1ZGUgPSByZXN1bHQubGF0TG5nLmxhdDtcbiAgICBjb25zdCBsb25naXR1ZGUgPSByZXN1bHQubGF0TG5nLmxuZztcbiAgICBjb25zdCBzdHJlZXROYW1lID0gcmVzdWx0LnN0cmVldDtcbiAgICBjb25zdCBzdWJMb2NhbGl0eSA9IHJlc3VsdC5hZG1pbkFyZWE2O1xuICAgIGNvbnN0IGxvY2FsaXR5ID0gcmVzdWx0LmFkbWluQXJlYTU7XG4gICAgY29uc3QgeyBwb3N0YWxDb2RlIH0gPSByZXN1bHQ7XG4gICAgY29uc3QgcmVnaW9uID0gcmVzdWx0LmFkbWluQXJlYTQ7XG4gICAgY29uc3QgY291bnRyeSA9IHJlc3VsdC5hZG1pbkFyZWExO1xuICAgIGNvbnN0IGNvdW50cnlDb2RlID0gcmVzdWx0LmFkbWluQXJlYTE7XG4gICAgY29uc3QgcHJlY2lzaW9uID0gcmVzdWx0Lmdlb2NvZGVRdWFsaXR5O1xuICAgIGNvbnN0IHByZWNpc2lvbkNvZGUgPSByZXN1bHQuZ2VvY29kZVF1YWxpdHlDb2RlO1xuICAgIGNvbnN0IHsgbWFwVXJsIH0gPSByZXN1bHQ7XG5cbiAgICBjb25zdCBnZW9jb2RlZCA9IE1hcFF1ZXN0R2VvY29kZWQuY3JlYXRlKHtcbiAgICAgIGNvb3JkaW5hdGVzOiB7XG4gICAgICAgIGxhdGl0dWRlLFxuICAgICAgICBsb25naXR1ZGUsXG4gICAgICB9LFxuICAgICAgc3RyZWV0TmFtZSxcbiAgICAgIHN1YkxvY2FsaXR5LFxuICAgICAgbG9jYWxpdHksXG4gICAgICBwb3N0YWxDb2RlLFxuICAgICAgcmVnaW9uLFxuICAgICAgY291bnRyeSxcbiAgICAgIGNvdW50cnlDb2RlLFxuICAgICAgYXR0cmlidXRpb24sXG4gICAgICBwcmVjaXNpb24sXG4gICAgICBwcmVjaXNpb25Db2RlLFxuICAgICAgbWFwVXJsLFxuICAgIH0pO1xuXG4gICAgaWYgKHJlc3VsdC5hZG1pbkFyZWEzKSB7XG4gICAgICBnZW9jb2RlZC5hZGRBZG1pbkxldmVsKFxuICAgICAgICBBZG1pbkxldmVsLmNyZWF0ZSh7XG4gICAgICAgICAgbGV2ZWw6IEFETUlOX0xFVkVMX0NPREVTLlNUQVRFX0NPREUsXG4gICAgICAgICAgbmFtZTogcmVzdWx0LmFkbWluQXJlYTMsXG4gICAgICAgICAgY29kZTogcmVzdWx0LmFkbWluQXJlYTMubGVuZ3RoID09PSAyID8gcmVzdWx0LmFkbWluQXJlYTMgOiB1bmRlZmluZWQsXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAocmVzdWx0LmFkbWluQXJlYTQpIHtcbiAgICAgIGdlb2NvZGVkLmFkZEFkbWluTGV2ZWwoXG4gICAgICAgIEFkbWluTGV2ZWwuY3JlYXRlKHtcbiAgICAgICAgICBsZXZlbDogQURNSU5fTEVWRUxfQ09ERVMuQ09VTlRZX0NPREUsXG4gICAgICAgICAgbmFtZTogcmVzdWx0LmFkbWluQXJlYTQsXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBnZW9jb2RlZDtcbiAgfVxufVxuIiwiZXhwb3J0IHsgZGVmYXVsdCBhcyBNYXBRdWVzdEdlb2NvZGVkIH0gZnJvbSBcInByb3ZpZGVyL21hcHF1ZXN0L01hcFF1ZXN0R2VvY29kZWRcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTWFwUXVlc3RHZW9jb2RlUXVlcnkgfSBmcm9tIFwicHJvdmlkZXIvbWFwcXVlc3QvTWFwUXVlc3RHZW9jb2RlUXVlcnlcIjtcbmV4cG9ydCAqIGZyb20gXCJwcm92aWRlci9tYXBxdWVzdC9NYXBRdWVzdEdlb2NvZGVRdWVyeVwiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBNYXBRdWVzdExvY2F0aW9uIH0gZnJvbSBcInByb3ZpZGVyL21hcHF1ZXN0L01hcFF1ZXN0TG9jYXRpb25cIjtcbmV4cG9ydCAqIGZyb20gXCJwcm92aWRlci9tYXBxdWVzdC9NYXBRdWVzdExvY2F0aW9uXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIE1hcFF1ZXN0UHJvdmlkZXIgfSBmcm9tIFwicHJvdmlkZXIvbWFwcXVlc3QvTWFwUXVlc3RQcm92aWRlclwiO1xuZXhwb3J0ICogZnJvbSBcInByb3ZpZGVyL21hcHF1ZXN0L01hcFF1ZXN0UHJvdmlkZXJcIjtcbiIsImltcG9ydCB7IEdlb2NvZGVRdWVyeSwgR2VvY29kZVF1ZXJ5T2JqZWN0IH0gZnJvbSBcInF1ZXJ5XCI7XG5cbnR5cGUgU2hhcGUgPSBcImdlb2pzb25cIiB8IFwia21sXCIgfCBcInN2Z1wiIHwgXCJ0ZXh0XCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTm9taW5hdGltR2VvY29kZVF1ZXJ5T2JqZWN0IGV4dGVuZHMgR2VvY29kZVF1ZXJ5T2JqZWN0IHtcbiAgcmVhZG9ubHkgY291bnRyeUNvZGVzPzogc3RyaW5nW107XG4gIHJlYWRvbmx5IGV4Y2x1ZGVQbGFjZUlkcz86IG51bWJlcltdO1xuICByZWFkb25seSBib3VuZGVkPzogYm9vbGVhbjtcbiAgcmVhZG9ubHkgZGVkdXBlPzogYm9vbGVhbjtcbiAgcmVhZG9ubHkgc2hhcGU/OiBTaGFwZTtcbiAgcmVhZG9ubHkgc2hhcGVUaHJlc2hvbGQ/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5vbWluYXRpbUdlb2NvZGVRdWVyeSBleHRlbmRzIEdlb2NvZGVRdWVyeSB7XG4gIHByaXZhdGUgcmVhZG9ubHkgY291bnRyeUNvZGVzPzogc3RyaW5nW107XG5cbiAgcHJpdmF0ZSByZWFkb25seSBleGNsdWRlUGxhY2VJZHM/OiBudW1iZXJbXTtcblxuICBwcml2YXRlIHJlYWRvbmx5IGJvdW5kZWQ/OiBib29sZWFuO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgZGVkdXBlPzogYm9vbGVhbjtcblxuICBwcml2YXRlIHJlYWRvbmx5IHNoYXBlPzogU2hhcGU7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBzaGFwZVRocmVzaG9sZD86IG51bWJlcjtcblxuICBwcm90ZWN0ZWQgY29uc3RydWN0b3Ioe1xuICAgIGNvdW50cnlDb2RlcyxcbiAgICBleGNsdWRlUGxhY2VJZHMsXG4gICAgYm91bmRlZCxcbiAgICBib3VuZHMsXG4gICAgZGVkdXBlLFxuICAgIHNoYXBlLFxuICAgIHNoYXBlVGhyZXNob2xkLFxuICAgIC4uLmdlb2NvZGVRdWVyeU9iamVjdFxuICB9OiBOb21pbmF0aW1HZW9jb2RlUXVlcnlPYmplY3QpIHtcbiAgICBzdXBlcih7IGJvdW5kcywgLi4uZ2VvY29kZVF1ZXJ5T2JqZWN0IH0pO1xuICAgIHRoaXMuY291bnRyeUNvZGVzID0gY291bnRyeUNvZGVzO1xuICAgIHRoaXMuZXhjbHVkZVBsYWNlSWRzID0gZXhjbHVkZVBsYWNlSWRzO1xuICAgIGlmIChib3VuZGVkICYmICFib3VuZHMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1RoZSBcImJvdW5kZWRcIiBwYXJhbWV0ZXIgY2FuIG9ubHkgYmUgdXNlZCB3aXRoIHRoZSBcImJvdW5kc1wiIHBhcmFtZXRlci4nXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLmJvdW5kZWQgPSBib3VuZGVkO1xuICAgIHRoaXMuZGVkdXBlID0gZGVkdXBlO1xuICAgIGlmIChzaGFwZSAmJiAhW1wiZ2VvanNvblwiLCBcImttbFwiLCBcInN2Z1wiLCBcInRleHRcIl0uaW5jbHVkZXMoc2hhcGUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdUaGUgXCJzaGFwZVwiIHBhcmFtZXRlciBjYW4gb25seSBoYXZlIHRoZSBmb2xsb3dpbmcgdmFsdWVzOiBcImdlb2pzb25cIiwgXCJrbWxcIiwgXCJzdmdcIiwgXCJ0ZXh0XCIuJ1xuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5zaGFwZSA9IHNoYXBlO1xuICAgIHRoaXMuc2hhcGVUaHJlc2hvbGQgPSBzaGFwZVRocmVzaG9sZDtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgY3JlYXRlKFxuICAgIG9iamVjdDogTm9taW5hdGltR2VvY29kZVF1ZXJ5T2JqZWN0XG4gICk6IE5vbWluYXRpbUdlb2NvZGVRdWVyeSB7XG4gICAgcmV0dXJuIG5ldyB0aGlzKG9iamVjdCk7XG4gIH1cblxuICBwdWJsaWMgdG9PYmplY3QoKTogTm9taW5hdGltR2VvY29kZVF1ZXJ5T2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3VwZXIudG9PYmplY3QoKSxcbiAgICAgIGNvdW50cnlDb2RlczogdGhpcy5jb3VudHJ5Q29kZXMsXG4gICAgICBleGNsdWRlUGxhY2VJZHM6IHRoaXMuZXhjbHVkZVBsYWNlSWRzLFxuICAgICAgYm91bmRlZDogdGhpcy5ib3VuZGVkLFxuICAgICAgZGVkdXBlOiB0aGlzLmRlZHVwZSxcbiAgICAgIHNoYXBlOiB0aGlzLnNoYXBlLFxuICAgICAgc2hhcGVUaHJlc2hvbGQ6IHRoaXMuc2hhcGVUaHJlc2hvbGQsXG4gICAgfTtcbiAgfVxuXG4gIHB1YmxpYyB3aXRoQ291bnRyeUNvZGVzKGNvdW50cnlDb2Rlczogc3RyaW5nW10pOiBOb21pbmF0aW1HZW9jb2RlUXVlcnkge1xuICAgIHJldHVybiBuZXcgTm9taW5hdGltR2VvY29kZVF1ZXJ5KHsgLi4udGhpcy50b09iamVjdCgpLCBjb3VudHJ5Q29kZXMgfSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0Q291bnRyeUNvZGVzKCk6IHVuZGVmaW5lZCB8IHN0cmluZ1tdIHtcbiAgICByZXR1cm4gdGhpcy5jb3VudHJ5Q29kZXM7XG4gIH1cblxuICBwdWJsaWMgd2l0aEV4Y2x1ZGVQbGFjZUlkcyhleGNsdWRlUGxhY2VJZHM6IG51bWJlcltdKTogTm9taW5hdGltR2VvY29kZVF1ZXJ5IHtcbiAgICByZXR1cm4gbmV3IE5vbWluYXRpbUdlb2NvZGVRdWVyeSh7IC4uLnRoaXMudG9PYmplY3QoKSwgZXhjbHVkZVBsYWNlSWRzIH0pO1xuICB9XG5cbiAgcHVibGljIGdldEV4Y2x1ZGVQbGFjZUlkcygpOiB1bmRlZmluZWQgfCBudW1iZXJbXSB7XG4gICAgcmV0dXJuIHRoaXMuZXhjbHVkZVBsYWNlSWRzO1xuICB9XG5cbiAgcHVibGljIHdpdGhCb3VuZGVkKGJvdW5kZWQ6IGJvb2xlYW4pOiBOb21pbmF0aW1HZW9jb2RlUXVlcnkge1xuICAgIHJldHVybiBuZXcgTm9taW5hdGltR2VvY29kZVF1ZXJ5KHsgLi4udGhpcy50b09iamVjdCgpLCBib3VuZGVkIH0pO1xuICB9XG5cbiAgcHVibGljIGdldEJvdW5kZWQoKTogdW5kZWZpbmVkIHwgYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuYm91bmRlZDtcbiAgfVxuXG4gIHB1YmxpYyB3aXRoRGVkdXBlKGRlZHVwZTogYm9vbGVhbik6IE5vbWluYXRpbUdlb2NvZGVRdWVyeSB7XG4gICAgcmV0dXJuIG5ldyBOb21pbmF0aW1HZW9jb2RlUXVlcnkoeyAuLi50aGlzLnRvT2JqZWN0KCksIGRlZHVwZSB9KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXREZWR1cGUoKTogdW5kZWZpbmVkIHwgYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZGVkdXBlO1xuICB9XG5cbiAgcHVibGljIHdpdGhTaGFwZShzaGFwZTogU2hhcGUpOiBOb21pbmF0aW1HZW9jb2RlUXVlcnkge1xuICAgIHJldHVybiBuZXcgTm9taW5hdGltR2VvY29kZVF1ZXJ5KHsgLi4udGhpcy50b09iamVjdCgpLCBzaGFwZSB9KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRTaGFwZSgpOiB1bmRlZmluZWQgfCBTaGFwZSB7XG4gICAgcmV0dXJuIHRoaXMuc2hhcGU7XG4gIH1cblxuICBwdWJsaWMgd2l0aFNoYXBlVGhyZXNob2xkKHNoYXBlVGhyZXNob2xkOiBudW1iZXIpOiBOb21pbmF0aW1HZW9jb2RlUXVlcnkge1xuICAgIHJldHVybiBuZXcgTm9taW5hdGltR2VvY29kZVF1ZXJ5KHsgLi4udGhpcy50b09iamVjdCgpLCBzaGFwZVRocmVzaG9sZCB9KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRTaGFwZVRocmVzaG9sZCgpOiB1bmRlZmluZWQgfCBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLnNoYXBlVGhyZXNob2xkO1xuICB9XG59XG4iLCIvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW1wb3J0L25vLXVucmVzb2x2ZWRcbmltcG9ydCB0eXBlICogYXMgR2VvSnNvbiBmcm9tIFwiZ2VvanNvblwiO1xuaW1wb3J0IEdlb2NvZGVkLCB7IEdlb2NvZGVkT2JqZWN0IH0gZnJvbSBcIkdlb2NvZGVkXCI7XG5pbXBvcnQgQWRtaW5MZXZlbCBmcm9tIFwiQWRtaW5MZXZlbFwiO1xuaW1wb3J0IHsgTm9taW5hdGltT3NtVHlwZSB9IGZyb20gXCJwcm92aWRlclwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIE5vbWluYXRpbUdlb2NvZGVkT2JqZWN0IGV4dGVuZHMgR2VvY29kZWRPYmplY3Qge1xuICByZWFkb25seSBkaXNwbGF5TmFtZT86IHN0cmluZztcbiAgcmVhZG9ubHkgb3NtSWQ/OiBudW1iZXI7XG4gIHJlYWRvbmx5IG9zbVR5cGU/OiBOb21pbmF0aW1Pc21UeXBlO1xuICByZWFkb25seSBjYXRlZ29yaWVzPzogc3RyaW5nW107XG4gIHJlYWRvbmx5IHR5cGVzPzogc3RyaW5nW107XG4gIHJlYWRvbmx5IGF0dHJpYnV0aW9uPzogc3RyaW5nO1xuICByZWFkb25seSBzdWJMb2NhbGl0eUxldmVscz86IEFkbWluTGV2ZWxbXTtcbiAgcmVhZG9ubHkgc2hhcGU/OiBHZW9Kc29uLkdlb21ldHJ5IHwgc3RyaW5nO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOb21pbmF0aW1HZW9jb2RlZCBleHRlbmRzIEdlb2NvZGVkIHtcbiAgcHJpdmF0ZSByZWFkb25seSBkaXNwbGF5TmFtZT86IHN0cmluZztcblxuICBwcml2YXRlIHJlYWRvbmx5IG9zbUlkPzogbnVtYmVyO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgb3NtVHlwZT86IE5vbWluYXRpbU9zbVR5cGU7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBjYXRlZ29yaWVzPzogc3RyaW5nW107XG5cbiAgcHJpdmF0ZSByZWFkb25seSB0eXBlcz86IHN0cmluZ1tdO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgYXR0cmlidXRpb24/OiBzdHJpbmc7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBzdWJMb2NhbGl0eUxldmVsczogQWRtaW5MZXZlbFtdO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgc2hhcGU/OiBHZW9Kc29uLkdlb21ldHJ5IHwgc3RyaW5nO1xuXG4gIHByb3RlY3RlZCBjb25zdHJ1Y3Rvcih7XG4gICAgZGlzcGxheU5hbWUsXG4gICAgb3NtSWQsXG4gICAgb3NtVHlwZSxcbiAgICBjYXRlZ29yaWVzLFxuICAgIHR5cGVzLFxuICAgIGF0dHJpYnV0aW9uLFxuICAgIHN1YkxvY2FsaXR5TGV2ZWxzLFxuICAgIHNoYXBlLFxuICAgIC4uLmdlb2NvZGVkT2JqZWN0XG4gIH06IE5vbWluYXRpbUdlb2NvZGVkT2JqZWN0KSB7XG4gICAgc3VwZXIoZ2VvY29kZWRPYmplY3QpO1xuICAgIHRoaXMuZGlzcGxheU5hbWUgPSBkaXNwbGF5TmFtZTtcbiAgICB0aGlzLm9zbUlkID0gb3NtSWQ7XG4gICAgdGhpcy5vc21UeXBlID0gb3NtVHlwZTtcbiAgICB0aGlzLmNhdGVnb3JpZXMgPSBjYXRlZ29yaWVzO1xuICAgIHRoaXMudHlwZXMgPSB0eXBlcztcbiAgICB0aGlzLmF0dHJpYnV0aW9uID0gYXR0cmlidXRpb247XG4gICAgdGhpcy5zdWJMb2NhbGl0eUxldmVscyA9IHN1YkxvY2FsaXR5TGV2ZWxzIHx8IFtdO1xuICAgIHRoaXMuc2hhcGUgPSBzaGFwZTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgY3JlYXRlKG9iamVjdDogTm9taW5hdGltR2VvY29kZWRPYmplY3QpOiBOb21pbmF0aW1HZW9jb2RlZCB7XG4gICAgcmV0dXJuIG5ldyB0aGlzKG9iamVjdCk7XG4gIH1cblxuICBwdWJsaWMgdG9PYmplY3QoKTogTm9taW5hdGltR2VvY29kZWRPYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdXBlci50b09iamVjdCgpLFxuICAgICAgZGlzcGxheU5hbWU6IHRoaXMuZGlzcGxheU5hbWUsXG4gICAgICBvc21JZDogdGhpcy5vc21JZCxcbiAgICAgIG9zbVR5cGU6IHRoaXMub3NtVHlwZSxcbiAgICAgIGNhdGVnb3JpZXM6IHRoaXMuY2F0ZWdvcmllcyxcbiAgICAgIHR5cGVzOiB0aGlzLnR5cGVzLFxuICAgICAgYXR0cmlidXRpb246IHRoaXMuYXR0cmlidXRpb24sXG4gICAgICBzdWJMb2NhbGl0eUxldmVsczogdGhpcy5zdWJMb2NhbGl0eUxldmVscyxcbiAgICAgIHNoYXBlOiB0aGlzLnNoYXBlLFxuICAgIH07XG4gIH1cblxuICBwdWJsaWMgd2l0aERpc3BsYXlOYW1lKGRpc3BsYXlOYW1lOiBzdHJpbmcpOiBOb21pbmF0aW1HZW9jb2RlZCB7XG4gICAgcmV0dXJuIG5ldyBOb21pbmF0aW1HZW9jb2RlZCh7XG4gICAgICAuLi50aGlzLnRvT2JqZWN0KCksXG4gICAgICBkaXNwbGF5TmFtZSxcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXREaXNwbGF5TmFtZSgpOiB1bmRlZmluZWQgfCBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmRpc3BsYXlOYW1lO1xuICB9XG5cbiAgcHVibGljIHdpdGhPc21JZChvc21JZDogbnVtYmVyKTogTm9taW5hdGltR2VvY29kZWQge1xuICAgIHJldHVybiBuZXcgTm9taW5hdGltR2VvY29kZWQoe1xuICAgICAgLi4udGhpcy50b09iamVjdCgpLFxuICAgICAgb3NtSWQsXG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0T3NtSWQoKTogdW5kZWZpbmVkIHwgbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5vc21JZDtcbiAgfVxuXG4gIHB1YmxpYyB3aXRoT3NtVHlwZShvc21UeXBlOiBOb21pbmF0aW1Pc21UeXBlKTogTm9taW5hdGltR2VvY29kZWQge1xuICAgIHJldHVybiBuZXcgTm9taW5hdGltR2VvY29kZWQoe1xuICAgICAgLi4udGhpcy50b09iamVjdCgpLFxuICAgICAgb3NtVHlwZSxcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRPc21UeXBlKCk6IHVuZGVmaW5lZCB8IE5vbWluYXRpbU9zbVR5cGUge1xuICAgIHJldHVybiB0aGlzLm9zbVR5cGU7XG4gIH1cblxuICBwdWJsaWMgd2l0aENhdGVnb3JpZXMoY2F0ZWdvcmllczogc3RyaW5nW10pOiBOb21pbmF0aW1HZW9jb2RlZCB7XG4gICAgcmV0dXJuIG5ldyBOb21pbmF0aW1HZW9jb2RlZCh7XG4gICAgICAuLi50aGlzLnRvT2JqZWN0KCksXG4gICAgICBjYXRlZ29yaWVzLFxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGdldENhdGVnb3JpZXMoKTogdW5kZWZpbmVkIHwgc3RyaW5nW10ge1xuICAgIHJldHVybiB0aGlzLmNhdGVnb3JpZXM7XG4gIH1cblxuICBwdWJsaWMgd2l0aFR5cGVzKHR5cGVzOiBzdHJpbmdbXSk6IE5vbWluYXRpbUdlb2NvZGVkIHtcbiAgICByZXR1cm4gbmV3IE5vbWluYXRpbUdlb2NvZGVkKHtcbiAgICAgIC4uLnRoaXMudG9PYmplY3QoKSxcbiAgICAgIHR5cGVzLFxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGdldFR5cGVzKCk6IHVuZGVmaW5lZCB8IHN0cmluZ1tdIHtcbiAgICByZXR1cm4gdGhpcy50eXBlcztcbiAgfVxuXG4gIHB1YmxpYyB3aXRoQXR0cmlidXRpb24oYXR0cmlidXRpb246IHN0cmluZyk6IE5vbWluYXRpbUdlb2NvZGVkIHtcbiAgICByZXR1cm4gbmV3IE5vbWluYXRpbUdlb2NvZGVkKHtcbiAgICAgIC4uLnRoaXMudG9PYmplY3QoKSxcbiAgICAgIGF0dHJpYnV0aW9uLFxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGdldEF0dHJpYnV0aW9uKCk6IHVuZGVmaW5lZCB8IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuYXR0cmlidXRpb247XG4gIH1cblxuICBwdWJsaWMgYWRkU3ViTG9jYWxpdHlMZXZlbChzdWJMb2NhbGl0eUxldmVsOiBBZG1pbkxldmVsKTogdm9pZCB7XG4gICAgdGhpcy5zdWJMb2NhbGl0eUxldmVscy5wdXNoKHN1YkxvY2FsaXR5TGV2ZWwpO1xuICB9XG5cbiAgcHVibGljIGdldFN1YkxvY2FsaXR5TGV2ZWxzKCk6IEFkbWluTGV2ZWxbXSB7XG4gICAgcmV0dXJuIHRoaXMuc3ViTG9jYWxpdHlMZXZlbHM7XG4gIH1cblxuICBwdWJsaWMgd2l0aFNoYXBlKHNoYXBlOiBHZW9Kc29uLkdlb21ldHJ5IHwgc3RyaW5nKTogTm9taW5hdGltR2VvY29kZWQge1xuICAgIHJldHVybiBuZXcgTm9taW5hdGltR2VvY29kZWQoe1xuICAgICAgLi4udGhpcy50b09iamVjdCgpLFxuICAgICAgc2hhcGUsXG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0U2hhcGUoKTogdW5kZWZpbmVkIHwgR2VvSnNvbi5HZW9tZXRyeSB8IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuc2hhcGU7XG4gIH1cbn1cbiIsImltcG9ydCB7XG4gIEV4dGVybmFsTG9hZGVyQm9keSxcbiAgRXh0ZXJuYWxMb2FkZXJIZWFkZXJzLFxuICBFeHRlcm5hbExvYWRlckludGVyZmFjZSxcbiAgRXh0ZXJuYWxMb2FkZXJQYXJhbXMsXG59IGZyb20gXCJFeHRlcm5hbExvYWRlclwiO1xuaW1wb3J0IHtcbiAgRXJyb3JDYWxsYmFjayxcbiAgR2VvY29kZWRSZXN1bHRzQ2FsbGJhY2ssXG4gIE5vbWluYXRpbUdlb2NvZGVkLFxuICBOb21pbmF0aW1SZXZlcnNlUXVlcnksXG4gIE5vbWluYXRpbVJldmVyc2VRdWVyeU9iamVjdCxcbiAgTm9taW5hdGltR2VvY29kZVF1ZXJ5T2JqZWN0LFxuICBOb21pbmF0aW1HZW9jb2RlUXVlcnksXG4gIFByb3ZpZGVySGVscGVycyxcbiAgUHJvdmlkZXJJbnRlcmZhY2UsXG4gIFByb3ZpZGVyT3B0aW9uc0ludGVyZmFjZSxcbiAgZGVmYXVsdFByb3ZpZGVyT3B0aW9ucyxcbn0gZnJvbSBcInByb3ZpZGVyXCI7XG5pbXBvcnQgQWRtaW5MZXZlbCBmcm9tIFwiQWRtaW5MZXZlbFwiO1xuaW1wb3J0IHsgUmVzcG9uc2VFcnJvciB9IGZyb20gXCJlcnJvclwiO1xuXG5pbnRlcmZhY2UgTm9taW5hdGltUmVxdWVzdFBhcmFtcyB7XG4gIFtwYXJhbTogc3RyaW5nXTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBxPzogc3RyaW5nO1xuICByZWFkb25seSBsYXQ/OiBzdHJpbmc7XG4gIHJlYWRvbmx5IGxvbj86IHN0cmluZztcbiAgcmVhZG9ubHkgc3RyZWV0Pzogc3RyaW5nO1xuICByZWFkb25seSBjaXR5Pzogc3RyaW5nO1xuICByZWFkb25seSBjb3VudHk/OiBzdHJpbmc7XG4gIHJlYWRvbmx5IHN0YXRlPzogc3RyaW5nO1xuICByZWFkb25seSBjb3VudHJ5Pzogc3RyaW5nO1xuICByZWFkb25seSBwb3N0YWxjb2RlPzogc3RyaW5nO1xuICByZWFkb25seSBmb3JtYXQ6IHN0cmluZztcbiAgcmVhZG9ubHkgYWRkcmVzc2RldGFpbHM6IHN0cmluZztcbiAgcmVhZG9ubHkgbmFtZWRldGFpbHM/OiBzdHJpbmc7XG4gIHJlYWRvbmx5IGV4dHJhdGFncz86IHN0cmluZztcbiAgcmVhZG9ubHkgem9vbT86IHN0cmluZztcbiAgcmVhZG9ubHkgbGltaXQ/OiBzdHJpbmc7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgcmVhZG9ubHkgXCJhY2NlcHQtbGFuZ3VhZ2VcIj86IHN0cmluZztcbiAgcmVhZG9ubHkgY291bnRyeWNvZGVzPzogc3RyaW5nO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gIHJlYWRvbmx5IGV4Y2x1ZGVfcGxhY2VfaWRzPzogc3RyaW5nO1xuICByZWFkb25seSB2aWV3Ym94Pzogc3RyaW5nO1xuICByZWFkb25seSBib3VuZGVkPzogc3RyaW5nO1xuICByZWFkb25seSBkZWR1cGU/OiBzdHJpbmc7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgcmVhZG9ubHkgcG9seWdvbl9nZW9qc29uPzogc3RyaW5nO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gIHJlYWRvbmx5IHBvbHlnb25fa21sPzogc3RyaW5nO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gIHJlYWRvbmx5IHBvbHlnb25fc3ZnPzogc3RyaW5nO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gIHJlYWRvbmx5IHBvbHlnb25fdGV4dD86IHN0cmluZztcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICByZWFkb25seSBwb2x5Z29uX3RocmVzaG9sZD86IHN0cmluZztcbiAgcmVhZG9ubHkganNvbnBDYWxsYmFjaz86IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIE5vbWluYXRpbUVycm9yUmVzcG9uc2Uge1xuICBlcnJvcjogc3RyaW5nO1xufVxuXG5leHBvcnQgdHlwZSBOb21pbmF0aW1Pc21UeXBlID0gXCJub2RlXCIgfCBcIndheVwiIHwgXCJyZWxhdGlvblwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIE5vbWluYXRpbVJlc3VsdCB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgcGxhY2VfaWQ6IG51bWJlcjtcbiAgbGljZW5jZTogc3RyaW5nO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gIG9zbV90eXBlOiBOb21pbmF0aW1Pc21UeXBlO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gIG9zbV9pZDogbnVtYmVyO1xuICBib3VuZGluZ2JveDogW3N0cmluZywgc3RyaW5nLCBzdHJpbmcsIHN0cmluZ107XG4gIGxhdDogc3RyaW5nO1xuICBsb246IHN0cmluZztcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICBkaXNwbGF5X25hbWU6IHN0cmluZztcbiAgY2F0ZWdvcnk6IHN0cmluZztcbiAgdHlwZTogc3RyaW5nO1xuICBpbXBvcnRhbmNlOiBudW1iZXI7XG4gIGljb246IHN0cmluZztcbiAgYWRkcmVzczoge1xuICAgIGF0dHJhY3Rpb24/OiBzdHJpbmc7XG4gICAgcGVkZXN0cmlhbj86IHN0cmluZztcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gICAgaG91c2VfbmFtZT86IHN0cmluZztcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gICAgaG91c2VfbnVtYmVyPzogc3RyaW5nO1xuICAgIHJvYWQ/OiBzdHJpbmc7XG4gICAgcmV0YWlsPzogc3RyaW5nO1xuICAgIGNvbW1lcmNpYWw/OiBzdHJpbmc7XG4gICAgaW5kdXN0cmlhbD86IHN0cmluZztcbiAgICBmYXJteWFyZD86IHN0cmluZztcbiAgICBmYXJtPzogc3RyaW5nO1xuICAgIHJlc2lkZW50YWw/OiBzdHJpbmc7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICAgIGNpdHlfYmxvY2s/OiBzdHJpbmc7XG4gICAgcXVhcnRlcj86IHN0cmluZztcbiAgICBhbGxvdG1lbnRzPzogc3RyaW5nO1xuICAgIG5laWdoYm91cmhvb2Q/OiBzdHJpbmc7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICAgIGlzb2xhdGVkX2R3ZWxsaW5nPzogc3RyaW5nO1xuICAgIGNyb2Z0Pzogc3RyaW5nO1xuICAgIGhhbWxldD86IHN0cmluZztcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gICAgY2l0eV9kaXN0cmljdD86IHN0cmluZztcbiAgICBkaXN0cmljdD86IHN0cmluZztcbiAgICBib3JvdWdoPzogc3RyaW5nO1xuICAgIHN1YmRpdmlzaW9uPzogc3RyaW5nO1xuICAgIHN1YnVyYj86IHN0cmluZztcbiAgICBtdW5pY2lwYWxpdHk/OiBzdHJpbmc7XG4gICAgY2l0eT86IHN0cmluZztcbiAgICB0b3duPzogc3RyaW5nO1xuICAgIHZpbGxhZ2U/OiBzdHJpbmc7XG4gICAgcmVnaW9uPzogc3RyaW5nO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgICBzdGF0ZV9kaXN0cmljdD86IHN0cmluZztcbiAgICBzdGF0ZT86IHN0cmluZztcbiAgICBjb3VudHk/OiBzdHJpbmc7XG4gICAgcG9zdGNvZGU/OiBzdHJpbmc7XG4gICAgY291bnRyeT86IHN0cmluZztcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gICAgY291bnRyeV9jb2RlPzogc3RyaW5nO1xuICAgIGNvbnRpbmVudD86IHN0cmluZztcbiAgfTtcbiAgZXh0cmF0YWdzPzoge1xuICAgIHBob25lPzogc3RyaW5nO1xuICAgIHdlYnNpdGU/OiBzdHJpbmc7XG4gICAgd2lraWRhdGE/OiBzdHJpbmc7XG4gICAgd2lraXBlZGlhPzogc3RyaW5nO1xuICAgIHdoZWVsY2hhaXI/OiBzdHJpbmc7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICAgIG9wZW5pbmdfaG91cnM/OiBzdHJpbmc7XG4gIH07XG4gIG5hbWVkZXRhaWxzPzoge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBbbmFtZTogc3RyaW5nXTogc3RyaW5nO1xuICB9O1xuICBnZW9qc29uPzoge1xuICAgIHR5cGU6IFwiUG9pbnRcIjtcbiAgICBjb29yZGluYXRlczogW251bWJlciwgbnVtYmVyXTtcbiAgfTtcbiAgZ2Vva21sPzogc3RyaW5nO1xuICBzdmc/OiBzdHJpbmc7XG4gIGdlb3RleHQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCB0eXBlIE5vbWluYXRpbVJlc3BvbnNlID1cbiAgfCBOb21pbmF0aW1FcnJvclJlc3BvbnNlXG4gIHwgTm9taW5hdGltUmVzdWx0XG4gIHwgTm9taW5hdGltUmVzdWx0W107XG5cbmV4cG9ydCBpbnRlcmZhY2UgTm9taW5hdGltUHJvdmlkZXJPcHRpb25zSW50ZXJmYWNlXG4gIGV4dGVuZHMgUHJvdmlkZXJPcHRpb25zSW50ZXJmYWNlIHtcbiAgcmVhZG9ubHkgaG9zdD86IHN0cmluZztcbiAgcmVhZG9ubHkgdXNlckFnZW50OiBzdHJpbmc7XG4gIHJlYWRvbmx5IHJlZmVyZXI/OiBzdHJpbmc7XG4gIHJlYWRvbmx5IGNvdW50cnlDb2Rlcz86IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgY29uc3QgZGVmYXVsdE5vbWluYXRpbVByb3ZpZGVyT3B0aW9ucyA9IHtcbiAgLi4uZGVmYXVsdFByb3ZpZGVyT3B0aW9ucyxcbiAgaG9zdDogXCJub21pbmF0aW0ub3BlbnN0cmVldG1hcC5vcmdcIixcbiAgdXNlckFnZW50OiBcIlwiLFxufTtcblxudHlwZSBOb21pbmF0aW1HZW9jb2RlZFJlc3VsdHNDYWxsYmFjayA9IEdlb2NvZGVkUmVzdWx0c0NhbGxiYWNrPE5vbWluYXRpbUdlb2NvZGVkPjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTm9taW5hdGltUHJvdmlkZXJcbiAgaW1wbGVtZW50cyBQcm92aWRlckludGVyZmFjZTxOb21pbmF0aW1HZW9jb2RlZD4ge1xuICBwcml2YXRlIGV4dGVybmFsTG9hZGVyOiBFeHRlcm5hbExvYWRlckludGVyZmFjZTtcblxuICBwcml2YXRlIG9wdGlvbnM6IE5vbWluYXRpbVByb3ZpZGVyT3B0aW9uc0ludGVyZmFjZTtcblxuICBwdWJsaWMgY29uc3RydWN0b3IoXG4gICAgX2V4dGVybmFsTG9hZGVyOiBFeHRlcm5hbExvYWRlckludGVyZmFjZSxcbiAgICBvcHRpb25zOiBOb21pbmF0aW1Qcm92aWRlck9wdGlvbnNJbnRlcmZhY2UgPSBkZWZhdWx0Tm9taW5hdGltUHJvdmlkZXJPcHRpb25zXG4gICkge1xuICAgIHRoaXMuZXh0ZXJuYWxMb2FkZXIgPSBfZXh0ZXJuYWxMb2FkZXI7XG4gICAgdGhpcy5vcHRpb25zID0geyAuLi5kZWZhdWx0Tm9taW5hdGltUHJvdmlkZXJPcHRpb25zLCAuLi5vcHRpb25zIH07XG4gICAgaWYgKFxuICAgICAgdGhpcy5vcHRpb25zLmhvc3QgPT09IGRlZmF1bHROb21pbmF0aW1Qcm92aWRlck9wdGlvbnMuaG9zdCAmJlxuICAgICAgIXRoaXMub3B0aW9ucy51c2VyQWdlbnRcbiAgICApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ0FuIFVzZXItQWdlbnQgaWRlbnRpZnlpbmcgeW91ciBhcHBsaWNhdGlvbiBpcyByZXF1aXJlZCBmb3IgdGhlIE9wZW5TdHJlZXRNYXAgLyBOb21pbmF0aW0gcHJvdmlkZXIgd2hlbiB1c2luZyB0aGUgZGVmYXVsdCBob3N0LiBQbGVhc2UgYWRkIGl0IGluIHRoZSBcInVzZXJBZ2VudFwiIG9wdGlvbi4nXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBnZW9jb2RlKFxuICAgIHF1ZXJ5OiBzdHJpbmcgfCBOb21pbmF0aW1HZW9jb2RlUXVlcnkgfCBOb21pbmF0aW1HZW9jb2RlUXVlcnlPYmplY3QsXG4gICAgY2FsbGJhY2s/OiBOb21pbmF0aW1HZW9jb2RlZFJlc3VsdHNDYWxsYmFjayxcbiAgICBlcnJvckNhbGxiYWNrPzogRXJyb3JDYWxsYmFja1xuICApOiB2b2lkIHwgUHJvbWlzZTxOb21pbmF0aW1HZW9jb2RlZFtdPiB7XG4gICAgY29uc3QgZ2VvY29kZVF1ZXJ5ID0gUHJvdmlkZXJIZWxwZXJzLmdldEdlb2NvZGVRdWVyeUZyb21QYXJhbWV0ZXIoXG4gICAgICBxdWVyeSxcbiAgICAgIE5vbWluYXRpbUdlb2NvZGVRdWVyeVxuICAgICk7XG5cbiAgICBpZiAoZ2VvY29kZVF1ZXJ5LmdldElwKCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJUaGUgT3BlblN0cmVldE1hcCAvIE5vbWluYXRpbSBwcm92aWRlciBkb2VzIG5vdCBzdXBwb3J0IElQIGdlb2xvY2F0aW9uLCBvbmx5IGxvY2F0aW9uIGdlb2NvZGluZy5cIlxuICAgICAgKTtcbiAgICB9XG5cbiAgICB0aGlzLmV4dGVybmFsTG9hZGVyLnNldE9wdGlvbnMoe1xuICAgICAgcHJvdG9jb2w6IHRoaXMub3B0aW9ucy51c2VTc2wgPyBcImh0dHBzXCIgOiBcImh0dHBcIixcbiAgICAgIGhvc3Q6IHRoaXMub3B0aW9ucy5ob3N0LFxuICAgICAgcGF0aG5hbWU6IFwic2VhcmNoXCIsXG4gICAgfSk7XG5cbiAgICBjb25zdCBwYXJhbXM6IE5vbWluYXRpbVJlcXVlc3RQYXJhbXMgPSB0aGlzLndpdGhDb21tb25QYXJhbXMoXG4gICAgICB7XG4gICAgICAgIHE6IGdlb2NvZGVRdWVyeS5nZXRUZXh0KCksXG4gICAgICAgIGxpbWl0OiBnZW9jb2RlUXVlcnkuZ2V0TGltaXQoKS50b1N0cmluZygpLFxuICAgICAgICBjb3VudHJ5Y29kZXM6ICg8Tm9taW5hdGltR2VvY29kZVF1ZXJ5Pmdlb2NvZGVRdWVyeSkuZ2V0Q291bnRyeUNvZGVzKClcbiAgICAgICAgICA/ICg8Tm9taW5hdGltR2VvY29kZVF1ZXJ5Pmdlb2NvZGVRdWVyeSkuZ2V0Q291bnRyeUNvZGVzKCk/LmpvaW4oXCIsXCIpXG4gICAgICAgICAgOiB0aGlzLm9wdGlvbnMuY291bnRyeUNvZGVzPy5qb2luKFwiLFwiKSxcbiAgICAgICAgZXhjbHVkZV9wbGFjZV9pZHM6ICg8Tm9taW5hdGltR2VvY29kZVF1ZXJ5PihcbiAgICAgICAgICBnZW9jb2RlUXVlcnlcbiAgICAgICAgKSkuZ2V0RXhjbHVkZVBsYWNlSWRzKClcbiAgICAgICAgICA/ICg8Tm9taW5hdGltR2VvY29kZVF1ZXJ5Pmdlb2NvZGVRdWVyeSlcbiAgICAgICAgICAgICAgLmdldEV4Y2x1ZGVQbGFjZUlkcygpXG4gICAgICAgICAgICAgID8uam9pbihcIixcIilcbiAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgdmlld2JveDogZ2VvY29kZVF1ZXJ5LmdldEJvdW5kcygpXG4gICAgICAgICAgPyBgJHtnZW9jb2RlUXVlcnkuZ2V0Qm91bmRzKCk/LmxvbmdpdHVkZVNXfSwke1xuICAgICAgICAgICAgICBnZW9jb2RlUXVlcnkuZ2V0Qm91bmRzKCk/LmxhdGl0dWRlU1dcbiAgICAgICAgICAgIH0sJHtnZW9jb2RlUXVlcnkuZ2V0Qm91bmRzKCk/LmxvbmdpdHVkZU5FfSwke1xuICAgICAgICAgICAgICBnZW9jb2RlUXVlcnkuZ2V0Qm91bmRzKCk/LmxhdGl0dWRlTkVcbiAgICAgICAgICAgIH1gXG4gICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgIGJvdW5kZWQ6ICg8Tm9taW5hdGltR2VvY29kZVF1ZXJ5Pmdlb2NvZGVRdWVyeSkuZ2V0Qm91bmRlZCgpXG4gICAgICAgICAgPyAoPE5vbWluYXRpbUdlb2NvZGVRdWVyeT5nZW9jb2RlUXVlcnkpLmdldEJvdW5kZWQoKT8udG9TdHJpbmcoKVxuICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICBkZWR1cGU6ICg8Tm9taW5hdGltR2VvY29kZVF1ZXJ5Pmdlb2NvZGVRdWVyeSkuZ2V0RGVkdXBlKClcbiAgICAgICAgICA/ICg8Tm9taW5hdGltR2VvY29kZVF1ZXJ5Pmdlb2NvZGVRdWVyeSkuZ2V0RGVkdXBlKCk/LnRvU3RyaW5nKClcbiAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgIH0sXG4gICAgICA8Tm9taW5hdGltR2VvY29kZVF1ZXJ5Pmdlb2NvZGVRdWVyeVxuICAgICk7XG5cbiAgICBpZiAoIWNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT5cbiAgICAgICAgdGhpcy5leGVjdXRlUmVxdWVzdChcbiAgICAgICAgICBwYXJhbXMsXG4gICAgICAgICAgKHJlc3VsdHMpID0+IHJlc29sdmUocmVzdWx0cyksXG4gICAgICAgICAgdGhpcy5nZXRIZWFkZXJzKCksXG4gICAgICAgICAge30sXG4gICAgICAgICAgKGVycm9yKSA9PiByZWplY3QoZXJyb3IpXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmV4ZWN1dGVSZXF1ZXN0KFxuICAgICAgcGFyYW1zLFxuICAgICAgY2FsbGJhY2ssXG4gICAgICB0aGlzLmdldEhlYWRlcnMoKSxcbiAgICAgIHt9LFxuICAgICAgZXJyb3JDYWxsYmFja1xuICAgICk7XG4gIH1cblxuICBwdWJsaWMgZ2VvZGVjb2RlKFxuICAgIGxhdGl0dWRlT3JRdWVyeTpcbiAgICAgIHwgbnVtYmVyXG4gICAgICB8IHN0cmluZ1xuICAgICAgfCBOb21pbmF0aW1SZXZlcnNlUXVlcnlcbiAgICAgIHwgTm9taW5hdGltUmV2ZXJzZVF1ZXJ5T2JqZWN0LFxuICAgIGxvbmdpdHVkZU9yQ2FsbGJhY2s/OiBudW1iZXIgfCBzdHJpbmcgfCBOb21pbmF0aW1HZW9jb2RlZFJlc3VsdHNDYWxsYmFjayxcbiAgICBjYWxsYmFja09yRXJyb3JDYWxsYmFjaz86IE5vbWluYXRpbUdlb2NvZGVkUmVzdWx0c0NhbGxiYWNrIHwgRXJyb3JDYWxsYmFjayxcbiAgICBlcnJvckNhbGxiYWNrPzogRXJyb3JDYWxsYmFja1xuICApOiB2b2lkIHwgUHJvbWlzZTxOb21pbmF0aW1HZW9jb2RlZFtdPiB7XG4gICAgY29uc3QgcmV2ZXJzZVF1ZXJ5ID0gUHJvdmlkZXJIZWxwZXJzLmdldFJldmVyc2VRdWVyeUZyb21QYXJhbWV0ZXJzKFxuICAgICAgbGF0aXR1ZGVPclF1ZXJ5LFxuICAgICAgbG9uZ2l0dWRlT3JDYWxsYmFjayxcbiAgICAgIE5vbWluYXRpbVJldmVyc2VRdWVyeVxuICAgICk7XG4gICAgY29uc3QgcmV2ZXJzZUNhbGxiYWNrID0gUHJvdmlkZXJIZWxwZXJzLmdldENhbGxiYWNrRnJvbVBhcmFtZXRlcnMoXG4gICAgICBsb25naXR1ZGVPckNhbGxiYWNrLFxuICAgICAgY2FsbGJhY2tPckVycm9yQ2FsbGJhY2tcbiAgICApO1xuICAgIGNvbnN0IHJldmVyc2VFcnJvckNhbGxiYWNrID0gUHJvdmlkZXJIZWxwZXJzLmdldEVycm9yQ2FsbGJhY2tGcm9tUGFyYW1ldGVycyhcbiAgICAgIGxvbmdpdHVkZU9yQ2FsbGJhY2ssXG4gICAgICBjYWxsYmFja09yRXJyb3JDYWxsYmFjayxcbiAgICAgIGVycm9yQ2FsbGJhY2tcbiAgICApO1xuXG4gICAgdGhpcy5leHRlcm5hbExvYWRlci5zZXRPcHRpb25zKHtcbiAgICAgIHByb3RvY29sOiB0aGlzLm9wdGlvbnMudXNlU3NsID8gXCJodHRwc1wiIDogXCJodHRwXCIsXG4gICAgICBob3N0OiB0aGlzLm9wdGlvbnMuaG9zdCxcbiAgICAgIHBhdGhuYW1lOiBcInJldmVyc2VcIixcbiAgICB9KTtcblxuICAgIGNvbnN0IHBhcmFtczogTm9taW5hdGltUmVxdWVzdFBhcmFtcyA9IHRoaXMud2l0aENvbW1vblBhcmFtcyhcbiAgICAgIHtcbiAgICAgICAgbGF0OiByZXZlcnNlUXVlcnkuZ2V0Q29vcmRpbmF0ZXMoKS5sYXRpdHVkZS50b1N0cmluZygpLFxuICAgICAgICBsb246IHJldmVyc2VRdWVyeS5nZXRDb29yZGluYXRlcygpLmxvbmdpdHVkZS50b1N0cmluZygpLFxuICAgICAgICB6b29tOlxuICAgICAgICAgICg8Tm9taW5hdGltUmV2ZXJzZVF1ZXJ5PnJldmVyc2VRdWVyeSkuZ2V0Wm9vbSgpPy50b1N0cmluZygpIHx8IFwiMThcIixcbiAgICAgIH0sXG4gICAgICA8Tm9taW5hdGltUmV2ZXJzZVF1ZXJ5PnJldmVyc2VRdWVyeVxuICAgICk7XG5cbiAgICBpZiAoIXJldmVyc2VDYWxsYmFjaykge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+XG4gICAgICAgIHRoaXMuZXhlY3V0ZVJlcXVlc3QoXG4gICAgICAgICAgcGFyYW1zLFxuICAgICAgICAgIChyZXN1bHRzKSA9PiByZXNvbHZlKHJlc3VsdHMpLFxuICAgICAgICAgIHRoaXMuZ2V0SGVhZGVycygpLFxuICAgICAgICAgIHt9LFxuICAgICAgICAgIChlcnJvcikgPT4gcmVqZWN0KGVycm9yKVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5leGVjdXRlUmVxdWVzdChcbiAgICAgIHBhcmFtcyxcbiAgICAgIHJldmVyc2VDYWxsYmFjayxcbiAgICAgIHRoaXMuZ2V0SGVhZGVycygpLFxuICAgICAge30sXG4gICAgICByZXZlcnNlRXJyb3JDYWxsYmFja1xuICAgICk7XG4gIH1cblxuICBwcml2YXRlIHdpdGhDb21tb25QYXJhbXMoXG4gICAgcGFyYW1zOiBQYXJ0aWFsPE5vbWluYXRpbVJlcXVlc3RQYXJhbXM+LFxuICAgIHF1ZXJ5OiBOb21pbmF0aW1HZW9jb2RlUXVlcnkgfCBOb21pbmF0aW1SZXZlcnNlUXVlcnlcbiAgKTogTm9taW5hdGltUmVxdWVzdFBhcmFtcyB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnBhcmFtcyxcbiAgICAgIGZvcm1hdDogXCJqc29udjJcIixcbiAgICAgIGFkZHJlc3NkZXRhaWxzOiBcIjFcIixcbiAgICAgIHBvbHlnb25fZ2VvanNvbjpcbiAgICAgICAgcXVlcnkuZ2V0U2hhcGUoKSAmJiBxdWVyeS5nZXRTaGFwZSgpID09PSBcImdlb2pzb25cIiA/IFwiMVwiIDogdW5kZWZpbmVkLFxuICAgICAgcG9seWdvbl9rbWw6XG4gICAgICAgIHF1ZXJ5LmdldFNoYXBlKCkgJiYgcXVlcnkuZ2V0U2hhcGUoKSA9PT0gXCJrbWxcIiA/IFwiMVwiIDogdW5kZWZpbmVkLFxuICAgICAgcG9seWdvbl9zdmc6XG4gICAgICAgIHF1ZXJ5LmdldFNoYXBlKCkgJiYgcXVlcnkuZ2V0U2hhcGUoKSA9PT0gXCJzdmdcIiA/IFwiMVwiIDogdW5kZWZpbmVkLFxuICAgICAgcG9seWdvbl90ZXh0OlxuICAgICAgICBxdWVyeS5nZXRTaGFwZSgpICYmIHF1ZXJ5LmdldFNoYXBlKCkgPT09IFwidGV4dFwiID8gXCIxXCIgOiB1bmRlZmluZWQsXG4gICAgICBwb2x5Z29uX3RocmVzaG9sZDogcXVlcnkuZ2V0U2hhcGVUaHJlc2hvbGQoKVxuICAgICAgICA/IHF1ZXJ5LmdldFNoYXBlVGhyZXNob2xkKCk/LnRvU3RyaW5nKClcbiAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICBqc29ucENhbGxiYWNrOiB0aGlzLm9wdGlvbnMudXNlSnNvbnAgPyBcImpzb25fY2FsbGJhY2tcIiA6IHVuZGVmaW5lZCxcbiAgICAgIFwiYWNjZXB0LWxhbmd1YWdlXCI6IHF1ZXJ5LmdldExvY2FsZSgpLFxuICAgIH07XG4gIH1cblxuICBwcml2YXRlIGdldEhlYWRlcnMoKTogRXh0ZXJuYWxMb2FkZXJIZWFkZXJzIHtcbiAgICByZXR1cm4ge1xuICAgICAgXCJVc2VyLUFnZW50XCI6IHRoaXMub3B0aW9ucy51c2VyQWdlbnQgfHwgXCJcIixcbiAgICAgIFJlZmVyZXI6IHRoaXMub3B0aW9ucy5yZWZlcmVyLFxuICAgIH07XG4gIH1cblxuICBwdWJsaWMgZXhlY3V0ZVJlcXVlc3QoXG4gICAgcGFyYW1zOiBFeHRlcm5hbExvYWRlclBhcmFtcyxcbiAgICBjYWxsYmFjazogTm9taW5hdGltR2VvY29kZWRSZXN1bHRzQ2FsbGJhY2ssXG4gICAgaGVhZGVycz86IEV4dGVybmFsTG9hZGVySGVhZGVycyxcbiAgICBib2R5PzogRXh0ZXJuYWxMb2FkZXJCb2R5LFxuICAgIGVycm9yQ2FsbGJhY2s/OiBFcnJvckNhbGxiYWNrXG4gICk6IHZvaWQge1xuICAgIHRoaXMuZXh0ZXJuYWxMb2FkZXIuZXhlY3V0ZVJlcXVlc3QoXG4gICAgICBwYXJhbXMsXG4gICAgICAoZGF0YTogTm9taW5hdGltUmVzcG9uc2UpID0+IHtcbiAgICAgICAgbGV0IHJlc3VsdHMgPSBkYXRhO1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICBpZiAoKDxOb21pbmF0aW1FcnJvclJlc3BvbnNlPmRhdGEpLmVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBgQW4gZXJyb3IgaGFzIG9jY3VycmVkOiAke1xuICAgICAgICAgICAgICAoPE5vbWluYXRpbUVycm9yUmVzcG9uc2U+ZGF0YSkuZXJyb3JcbiAgICAgICAgICAgIH1gO1xuICAgICAgICAgICAgaWYgKGVycm9yQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgZXJyb3JDYWxsYmFjayhuZXcgUmVzcG9uc2VFcnJvcihlcnJvck1lc3NhZ2UsIGRhdGEpKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdHMgPSBbPE5vbWluYXRpbVJlc3VsdD5kYXRhXTtcbiAgICAgICAgfVxuICAgICAgICBjYWxsYmFjayhcbiAgICAgICAgICAoPE5vbWluYXRpbVJlc3VsdFtdPnJlc3VsdHMpLm1hcCgocmVzdWx0OiBOb21pbmF0aW1SZXN1bHQpID0+XG4gICAgICAgICAgICBOb21pbmF0aW1Qcm92aWRlci5tYXBUb0dlb2NvZGVkKHJlc3VsdClcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgaGVhZGVycyxcbiAgICAgIGJvZHksXG4gICAgICBlcnJvckNhbGxiYWNrXG4gICAgKTtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgbWFwVG9HZW9jb2RlZChyZXN1bHQ6IE5vbWluYXRpbVJlc3VsdCk6IE5vbWluYXRpbUdlb2NvZGVkIHtcbiAgICBjb25zdCBsYXRpdHVkZSA9IHBhcnNlRmxvYXQocmVzdWx0LmxhdCk7XG4gICAgY29uc3QgbG9uZ2l0dWRlID0gcGFyc2VGbG9hdChyZXN1bHQubG9uKTtcbiAgICBjb25zdCBkaXNwbGF5TmFtZSA9IHJlc3VsdC5kaXNwbGF5X25hbWU7XG4gICAgY29uc3Qgc3RyZWV0TnVtYmVyID0gcmVzdWx0LmFkZHJlc3MuaG91c2VfbnVtYmVyO1xuICAgIGNvbnN0IHN0cmVldE5hbWUgPSByZXN1bHQuYWRkcmVzcy5yb2FkIHx8IHJlc3VsdC5hZGRyZXNzLnBlZGVzdHJpYW47XG4gICAgY29uc3Qgc3ViTG9jYWxpdHkgPSByZXN1bHQuYWRkcmVzcy5zdWJ1cmI7XG4gICAgbGV0IGxvY2FsaXR5OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgY29uc3QgcG9zdGFsQ29kZSA9IHJlc3VsdC5hZGRyZXNzLnBvc3Rjb2RlXG4gICAgICA/IHJlc3VsdC5hZGRyZXNzLnBvc3Rjb2RlLnNwbGl0KFwiO1wiKVswXVxuICAgICAgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgcmVnaW9uID0gcmVzdWx0LmFkZHJlc3Muc3RhdGU7XG4gICAgY29uc3QgeyBjb3VudHJ5IH0gPSByZXN1bHQuYWRkcmVzcztcbiAgICBjb25zdCBjb3VudHJ5Q29kZSA9IHJlc3VsdC5hZGRyZXNzLmNvdW50cnlfY29kZTtcbiAgICBjb25zdCBvc21JZCA9IHJlc3VsdC5vc21faWQ7XG4gICAgY29uc3Qgb3NtVHlwZSA9IHJlc3VsdC5vc21fdHlwZTtcbiAgICBjb25zdCBjYXRlZ29yaWVzID0gW3Jlc3VsdC5jYXRlZ29yeV07XG4gICAgY29uc3QgdHlwZXMgPSBbcmVzdWx0LnR5cGVdO1xuICAgIGNvbnN0IGF0dHJpYnV0aW9uID0gcmVzdWx0LmxpY2VuY2U7XG4gICAgY29uc3Qgc2hhcGUgPVxuICAgICAgcmVzdWx0Lmdlb2pzb24gfHwgcmVzdWx0Lmdlb2ttbCB8fCByZXN1bHQuc3ZnIHx8IHJlc3VsdC5nZW90ZXh0O1xuXG4gICAgY29uc3QgbG9jYWxpdHlUeXBlczogKFwiY2l0eVwiIHwgXCJ0b3duXCIgfCBcInZpbGxhZ2VcIiB8IFwiaGFtbGV0XCIpW10gPSBbXG4gICAgICBcImNpdHlcIixcbiAgICAgIFwidG93blwiLFxuICAgICAgXCJ2aWxsYWdlXCIsXG4gICAgICBcImhhbWxldFwiLFxuICAgIF07XG4gICAgbG9jYWxpdHlUeXBlcy5mb3JFYWNoKChsb2NhbGl0eVR5cGUpID0+IHtcbiAgICAgIGlmIChyZXN1bHQuYWRkcmVzc1tsb2NhbGl0eVR5cGVdICYmICFsb2NhbGl0eSkge1xuICAgICAgICBsb2NhbGl0eSA9IHJlc3VsdC5hZGRyZXNzW2xvY2FsaXR5VHlwZV07XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBsZXQgZ2VvY29kZWQgPSBOb21pbmF0aW1HZW9jb2RlZC5jcmVhdGUoe1xuICAgICAgY29vcmRpbmF0ZXM6IHtcbiAgICAgICAgbGF0aXR1ZGUsXG4gICAgICAgIGxvbmdpdHVkZSxcbiAgICAgIH0sXG4gICAgICBkaXNwbGF5TmFtZSxcbiAgICAgIHN0cmVldE51bWJlcixcbiAgICAgIHN0cmVldE5hbWUsXG4gICAgICBzdWJMb2NhbGl0eSxcbiAgICAgIGxvY2FsaXR5LFxuICAgICAgcG9zdGFsQ29kZSxcbiAgICAgIHJlZ2lvbixcbiAgICAgIGNvdW50cnksXG4gICAgICBjb3VudHJ5Q29kZSxcbiAgICAgIG9zbUlkLFxuICAgICAgb3NtVHlwZSxcbiAgICAgIGNhdGVnb3JpZXMsXG4gICAgICB0eXBlcyxcbiAgICAgIGF0dHJpYnV0aW9uLFxuICAgICAgc2hhcGUsXG4gICAgfSk7XG5cbiAgICBnZW9jb2RlZCA9IDxOb21pbmF0aW1HZW9jb2RlZD5nZW9jb2RlZC53aXRoQm91bmRzKHtcbiAgICAgIGxhdGl0dWRlU1c6IHBhcnNlRmxvYXQocmVzdWx0LmJvdW5kaW5nYm94WzBdKSxcbiAgICAgIGxvbmdpdHVkZVNXOiBwYXJzZUZsb2F0KHJlc3VsdC5ib3VuZGluZ2JveFsyXSksXG4gICAgICBsYXRpdHVkZU5FOiBwYXJzZUZsb2F0KHJlc3VsdC5ib3VuZGluZ2JveFsxXSksXG4gICAgICBsb25naXR1ZGVORTogcGFyc2VGbG9hdChyZXN1bHQuYm91bmRpbmdib3hbM10pLFxuICAgIH0pO1xuXG4gICAgY29uc3QgYWRtaW5MZXZlbHM6IChcInN0YXRlXCIgfCBcImNvdW50eVwiKVtdID0gW1wic3RhdGVcIiwgXCJjb3VudHlcIl07XG4gICAgYWRtaW5MZXZlbHMuZm9yRWFjaCgoYWRtaW5MZXZlbCwgbGV2ZWwpID0+IHtcbiAgICAgIGlmIChyZXN1bHQuYWRkcmVzc1thZG1pbkxldmVsXSkge1xuICAgICAgICBnZW9jb2RlZC5hZGRBZG1pbkxldmVsKFxuICAgICAgICAgIEFkbWluTGV2ZWwuY3JlYXRlKHtcbiAgICAgICAgICAgIGxldmVsOiBsZXZlbCArIDEsXG4gICAgICAgICAgICBuYW1lOiByZXN1bHQuYWRkcmVzc1thZG1pbkxldmVsXSB8fCBcIlwiLFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBzdWJMb2NhbGl0eUxldmVsczogKFxuICAgICAgfCBcImNpdHlfZGlzdHJpY3RcIlxuICAgICAgfCBcImRpc3RyaWN0XCJcbiAgICAgIHwgXCJib3JvdWdoXCJcbiAgICAgIHwgXCJzdWJ1cmJcIlxuICAgICAgfCBcInN1YmRpdmlzaW9uXCJcbiAgICAgIHwgXCJoYW1sZXRcIlxuICAgICAgfCBcImNyb2Z0XCJcbiAgICAgIHwgXCJpc29sYXRlZF9kd2VsbGluZ1wiXG4gICAgICB8IFwibmVpZ2hib3VyaG9vZFwiXG4gICAgICB8IFwiYWxsb3RtZW50c1wiXG4gICAgICB8IFwicXVhcnRlclwiXG4gICAgICB8IFwiY2l0eV9ibG9ja1wiXG4gICAgICB8IFwicmVzaWRlbnRhbFwiXG4gICAgICB8IFwiZmFybVwiXG4gICAgICB8IFwiZmFybXlhcmRcIlxuICAgICAgfCBcImluZHVzdHJpYWxcIlxuICAgICAgfCBcImNvbW1lcmNpYWxcIlxuICAgICAgfCBcInJldGFpbFwiXG4gICAgICB8IFwicm9hZFwiXG4gICAgICB8IFwiaG91c2VfbmFtZVwiXG4gICAgKVtdW10gPSBbXG4gICAgICBbXCJjaXR5X2Rpc3RyaWN0XCIsIFwiZGlzdHJpY3RcIiwgXCJib3JvdWdoXCIsIFwic3VidXJiXCIsIFwic3ViZGl2aXNpb25cIl0sXG4gICAgICBbXCJoYW1sZXRcIiwgXCJjcm9mdFwiLCBcImlzb2xhdGVkX2R3ZWxsaW5nXCJdLFxuICAgICAgW1wibmVpZ2hib3VyaG9vZFwiLCBcImFsbG90bWVudHNcIiwgXCJxdWFydGVyXCJdLFxuICAgICAgW1xuICAgICAgICBcImNpdHlfYmxvY2tcIixcbiAgICAgICAgXCJyZXNpZGVudGFsXCIsXG4gICAgICAgIFwiZmFybVwiLFxuICAgICAgICBcImZhcm15YXJkXCIsXG4gICAgICAgIFwiaW5kdXN0cmlhbFwiLFxuICAgICAgICBcImNvbW1lcmNpYWxcIixcbiAgICAgICAgXCJyZXRhaWxcIixcbiAgICAgIF0sXG4gICAgICBbXCJyb2FkXCJdLFxuICAgICAgW1wiaG91c2VfbmFtZVwiXSxcbiAgICBdO1xuICAgIHN1YkxvY2FsaXR5TGV2ZWxzLmZvckVhY2goKHN1YkxvY2FsaXRpZXMsIGxldmVsKSA9PiB7XG4gICAgICBzdWJMb2NhbGl0aWVzLmZvckVhY2goKHN1YkxvY2FsaXR5TGV2ZWwpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdC5hZGRyZXNzW3N1YkxvY2FsaXR5TGV2ZWxdKSB7XG4gICAgICAgICAgZ2VvY29kZWQuYWRkU3ViTG9jYWxpdHlMZXZlbChcbiAgICAgICAgICAgIEFkbWluTGV2ZWwuY3JlYXRlKHtcbiAgICAgICAgICAgICAgbGV2ZWw6IGxldmVsICsgMSxcbiAgICAgICAgICAgICAgbmFtZTogcmVzdWx0LmFkZHJlc3Nbc3ViTG9jYWxpdHlMZXZlbF0gfHwgXCJcIixcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZ2VvY29kZWQ7XG4gIH1cbn1cbiIsImltcG9ydCB7IFJldmVyc2VRdWVyeSwgUmV2ZXJzZVF1ZXJ5T2JqZWN0IH0gZnJvbSBcInF1ZXJ5XCI7XG5cbnR5cGUgU2hhcGUgPSBcImdlb2pzb25cIiB8IFwia21sXCIgfCBcInN2Z1wiIHwgXCJ0ZXh0XCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTm9taW5hdGltUmV2ZXJzZVF1ZXJ5T2JqZWN0IGV4dGVuZHMgUmV2ZXJzZVF1ZXJ5T2JqZWN0IHtcbiAgcmVhZG9ubHkgem9vbT86IG51bWJlcjtcbiAgcmVhZG9ubHkgc2hhcGU/OiBTaGFwZTtcbiAgcmVhZG9ubHkgc2hhcGVUaHJlc2hvbGQ/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5vbWluYXRpbVJldmVyc2VRdWVyeSBleHRlbmRzIFJldmVyc2VRdWVyeSB7XG4gIHByaXZhdGUgcmVhZG9ubHkgem9vbT86IG51bWJlcjtcblxuICBwcml2YXRlIHJlYWRvbmx5IHNoYXBlPzogU2hhcGU7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBzaGFwZVRocmVzaG9sZD86IG51bWJlcjtcblxuICBwcm90ZWN0ZWQgY29uc3RydWN0b3Ioe1xuICAgIHpvb20sXG4gICAgc2hhcGUsXG4gICAgc2hhcGVUaHJlc2hvbGQsXG4gICAgLi4ucmV2ZXJzZVF1ZXJ5T2JqZWN0XG4gIH06IE5vbWluYXRpbVJldmVyc2VRdWVyeU9iamVjdCkge1xuICAgIHN1cGVyKHJldmVyc2VRdWVyeU9iamVjdCk7XG4gICAgdGhpcy56b29tID0gem9vbTtcbiAgICBpZiAoc2hhcGUgJiYgIVtcImdlb2pzb25cIiwgXCJrbWxcIiwgXCJzdmdcIiwgXCJ0ZXh0XCJdLmluY2x1ZGVzKHNoYXBlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhlIFwic2hhcGVcIiBwYXJhbWV0ZXIgY2FuIG9ubHkgaGF2ZSB0aGUgZm9sbG93aW5nIHZhbHVlczogXCJnZW9qc29uXCIsIFwia21sXCIsIFwic3ZnXCIsIFwidGV4dFwiLidcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMuc2hhcGUgPSBzaGFwZTtcbiAgICB0aGlzLnNoYXBlVGhyZXNob2xkID0gc2hhcGVUaHJlc2hvbGQ7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGNyZWF0ZShcbiAgICBvYmplY3Q6IE5vbWluYXRpbVJldmVyc2VRdWVyeU9iamVjdFxuICApOiBOb21pbmF0aW1SZXZlcnNlUXVlcnkge1xuICAgIHJldHVybiBuZXcgdGhpcyhvYmplY3QpO1xuICB9XG5cbiAgcHVibGljIHRvT2JqZWN0KCk6IE5vbWluYXRpbVJldmVyc2VRdWVyeU9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN1cGVyLnRvT2JqZWN0KCksXG4gICAgICB6b29tOiB0aGlzLnpvb20sXG4gICAgICBzaGFwZTogdGhpcy5zaGFwZSxcbiAgICAgIHNoYXBlVGhyZXNob2xkOiB0aGlzLnNoYXBlVGhyZXNob2xkLFxuICAgIH07XG4gIH1cblxuICBwdWJsaWMgd2l0aFpvb20oem9vbTogbnVtYmVyKTogTm9taW5hdGltUmV2ZXJzZVF1ZXJ5IHtcbiAgICByZXR1cm4gbmV3IE5vbWluYXRpbVJldmVyc2VRdWVyeSh7IC4uLnRoaXMudG9PYmplY3QoKSwgem9vbSB9KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRab29tKCk6IHVuZGVmaW5lZCB8IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuem9vbTtcbiAgfVxuXG4gIHB1YmxpYyB3aXRoU2hhcGUoc2hhcGU6IFNoYXBlKTogTm9taW5hdGltUmV2ZXJzZVF1ZXJ5IHtcbiAgICByZXR1cm4gbmV3IE5vbWluYXRpbVJldmVyc2VRdWVyeSh7IC4uLnRoaXMudG9PYmplY3QoKSwgc2hhcGUgfSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0U2hhcGUoKTogdW5kZWZpbmVkIHwgU2hhcGUge1xuICAgIHJldHVybiB0aGlzLnNoYXBlO1xuICB9XG5cbiAgcHVibGljIHdpdGhTaGFwZVRocmVzaG9sZChzaGFwZVRocmVzaG9sZDogbnVtYmVyKTogTm9taW5hdGltUmV2ZXJzZVF1ZXJ5IHtcbiAgICByZXR1cm4gbmV3IE5vbWluYXRpbVJldmVyc2VRdWVyeSh7IC4uLnRoaXMudG9PYmplY3QoKSwgc2hhcGVUaHJlc2hvbGQgfSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0U2hhcGVUaHJlc2hvbGQoKTogdW5kZWZpbmVkIHwgbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5zaGFwZVRocmVzaG9sZDtcbiAgfVxufVxuIiwiZXhwb3J0IHsgZGVmYXVsdCBhcyBOb21pbmF0aW1HZW9jb2RlZCB9IGZyb20gXCJwcm92aWRlci9ub21pbmF0aW0vTm9taW5hdGltR2VvY29kZWRcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgT3BlblN0cmVldE1hcEdlb2NvZGVkIH0gZnJvbSBcInByb3ZpZGVyL25vbWluYXRpbS9Ob21pbmF0aW1HZW9jb2RlZFwiO1xuZXhwb3J0ICogZnJvbSBcInByb3ZpZGVyL25vbWluYXRpbS9Ob21pbmF0aW1HZW9jb2RlZFwiO1xuZXhwb3J0IHsgTm9taW5hdGltR2VvY29kZWRPYmplY3QgYXMgT3BlblN0cmVldE1hcEdlb2NvZGVkT2JqZWN0IH0gZnJvbSBcInByb3ZpZGVyL25vbWluYXRpbS9Ob21pbmF0aW1HZW9jb2RlZFwiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBOb21pbmF0aW1HZW9jb2RlUXVlcnkgfSBmcm9tIFwicHJvdmlkZXIvbm9taW5hdGltL05vbWluYXRpbUdlb2NvZGVRdWVyeVwiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBPcGVuU3RyZWV0TWFwR2VvY29kZVF1ZXJ5IH0gZnJvbSBcInByb3ZpZGVyL25vbWluYXRpbS9Ob21pbmF0aW1HZW9jb2RlUXVlcnlcIjtcbmV4cG9ydCAqIGZyb20gXCJwcm92aWRlci9ub21pbmF0aW0vTm9taW5hdGltR2VvY29kZVF1ZXJ5XCI7XG5leHBvcnQgeyBOb21pbmF0aW1HZW9jb2RlUXVlcnlPYmplY3QgYXMgT3BlblN0cmVldE1hcEdlb2NvZGVRdWVyeU9iamVjdCB9IGZyb20gXCJwcm92aWRlci9ub21pbmF0aW0vTm9taW5hdGltR2VvY29kZVF1ZXJ5XCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIE5vbWluYXRpbVByb3ZpZGVyIH0gZnJvbSBcInByb3ZpZGVyL25vbWluYXRpbS9Ob21pbmF0aW1Qcm92aWRlclwiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBPcGVuU3RyZWV0TWFwUHJvdmlkZXIgfSBmcm9tIFwicHJvdmlkZXIvbm9taW5hdGltL05vbWluYXRpbVByb3ZpZGVyXCI7XG5leHBvcnQgKiBmcm9tIFwicHJvdmlkZXIvbm9taW5hdGltL05vbWluYXRpbVByb3ZpZGVyXCI7XG5leHBvcnQge1xuICBOb21pbmF0aW1Qcm92aWRlck9wdGlvbnNJbnRlcmZhY2UgYXMgT3BlblN0cmVldE1hcFByb3ZpZGVyT3B0aW9uc0ludGVyZmFjZSxcbiAgTm9taW5hdGltUmVzdWx0IGFzIE9wZW5TdHJlZXRNYXBSZXN1bHQsXG4gIGRlZmF1bHROb21pbmF0aW1Qcm92aWRlck9wdGlvbnMgYXMgZGVmYXVsdE9wZW5TdHJlZXRNYXBQcm92aWRlck9wdGlvbnMsXG59IGZyb20gXCJwcm92aWRlci9ub21pbmF0aW0vTm9taW5hdGltUHJvdmlkZXJcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgTm9taW5hdGltUmV2ZXJzZVF1ZXJ5IH0gZnJvbSBcInByb3ZpZGVyL25vbWluYXRpbS9Ob21pbmF0aW1SZXZlcnNlUXVlcnlcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgT3BlblN0cmVldE1hcFJldmVyc2VRdWVyeSB9IGZyb20gXCJwcm92aWRlci9ub21pbmF0aW0vTm9taW5hdGltUmV2ZXJzZVF1ZXJ5XCI7XG5leHBvcnQgKiBmcm9tIFwicHJvdmlkZXIvbm9taW5hdGltL05vbWluYXRpbVJldmVyc2VRdWVyeVwiO1xuZXhwb3J0IHsgTm9taW5hdGltUmV2ZXJzZVF1ZXJ5T2JqZWN0IGFzIE9wZW5TdHJlZXRNYXBSZXZlcnNlUXVlcnlPYmplY3QgfSBmcm9tIFwicHJvdmlkZXIvbm9taW5hdGltL05vbWluYXRpbVJldmVyc2VRdWVyeVwiO1xuIiwiaW1wb3J0IHsgR2VvY29kZVF1ZXJ5LCBHZW9jb2RlUXVlcnlPYmplY3QgfSBmcm9tIFwicXVlcnlcIjtcbmltcG9ydCB7IENvb3JkaW5hdGVzIH0gZnJvbSBcInR5cGVzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgT3BlbkNhZ2VHZW9jb2RlUXVlcnlPYmplY3QgZXh0ZW5kcyBHZW9jb2RlUXVlcnlPYmplY3Qge1xuICByZWFkb25seSBjb3VudHJ5Q29kZXM/OiBzdHJpbmdbXTtcbiAgcmVhZG9ubHkgcHJveGltaXR5PzogQ29vcmRpbmF0ZXM7XG4gIHJlYWRvbmx5IG1pblByZWNpc2lvbj86IG51bWJlcjtcbiAgcmVhZG9ubHkgbm9SZWNvcmQ/OiBib29sZWFuO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPcGVuQ2FnZUdlb2NvZGVRdWVyeSBleHRlbmRzIEdlb2NvZGVRdWVyeSB7XG4gIHByaXZhdGUgcmVhZG9ubHkgY291bnRyeUNvZGVzPzogc3RyaW5nW107XG5cbiAgcHJpdmF0ZSByZWFkb25seSBwcm94aW1pdHk/OiBDb29yZGluYXRlcztcblxuICBwcml2YXRlIHJlYWRvbmx5IG1pblByZWNpc2lvbj86IG51bWJlcjtcblxuICBwcml2YXRlIHJlYWRvbmx5IG5vUmVjb3JkPzogYm9vbGVhbjtcblxuICBwcm90ZWN0ZWQgY29uc3RydWN0b3Ioe1xuICAgIGNvdW50cnlDb2RlcyxcbiAgICBwcm94aW1pdHksXG4gICAgbWluUHJlY2lzaW9uLFxuICAgIG5vUmVjb3JkLFxuICAgIC4uLmdlb2NvZGVRdWVyeU9iamVjdFxuICB9OiBPcGVuQ2FnZUdlb2NvZGVRdWVyeU9iamVjdCkge1xuICAgIHN1cGVyKGdlb2NvZGVRdWVyeU9iamVjdCk7XG4gICAgdGhpcy5jb3VudHJ5Q29kZXMgPSBjb3VudHJ5Q29kZXM7XG4gICAgaWYgKHByb3hpbWl0eSAmJiAoIXByb3hpbWl0eS5sYXRpdHVkZSB8fCAhcHJveGltaXR5LmxvbmdpdHVkZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1RoZSBcInByb3hpbWl0eVwiIHBhcmFtZXRlciBtdXN0IGJlIGFuIG9iamVjdCB3aXRoIHRoZSBrZXlzOiBcImxhdGl0dWRlXCIsIFwibG9uZ2l0dWRlXCIuJ1xuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5wcm94aW1pdHkgPSBwcm94aW1pdHk7XG4gICAgaWYgKFxuICAgICAgbWluUHJlY2lzaW9uICYmXG4gICAgICAobWluUHJlY2lzaW9uLnRvU3RyaW5nKCkgIT09XG4gICAgICAgIHBhcnNlSW50KG1pblByZWNpc2lvbi50b1N0cmluZygpLCAxMCkudG9TdHJpbmcoKSB8fFxuICAgICAgICBtaW5QcmVjaXNpb24gPCAxIHx8XG4gICAgICAgIG1pblByZWNpc2lvbiA+IDEwKVxuICAgICkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhlIFwibWluUHJlY2lzaW9uXCIgcGFyYW1ldGVyIG11c3QgYmUgYW4gaW50ZWdlciBmcm9tIDEgdG8gMTAuJ1xuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5taW5QcmVjaXNpb24gPSBtaW5QcmVjaXNpb247XG4gICAgdGhpcy5ub1JlY29yZCA9IG5vUmVjb3JkO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBjcmVhdGUoXG4gICAgb2JqZWN0OiBPcGVuQ2FnZUdlb2NvZGVRdWVyeU9iamVjdFxuICApOiBPcGVuQ2FnZUdlb2NvZGVRdWVyeSB7XG4gICAgcmV0dXJuIG5ldyB0aGlzKG9iamVjdCk7XG4gIH1cblxuICBwdWJsaWMgdG9PYmplY3QoKTogT3BlbkNhZ2VHZW9jb2RlUXVlcnlPYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdXBlci50b09iamVjdCgpLFxuICAgICAgY291bnRyeUNvZGVzOiB0aGlzLmNvdW50cnlDb2RlcyxcbiAgICAgIHByb3hpbWl0eTogdGhpcy5wcm94aW1pdHksXG4gICAgICBtaW5QcmVjaXNpb246IHRoaXMubWluUHJlY2lzaW9uLFxuICAgICAgbm9SZWNvcmQ6IHRoaXMubm9SZWNvcmQsXG4gICAgfTtcbiAgfVxuXG4gIHB1YmxpYyB3aXRoQ291bnRyeUNvZGVzKGNvdW50cnlDb2Rlczogc3RyaW5nW10pOiBPcGVuQ2FnZUdlb2NvZGVRdWVyeSB7XG4gICAgcmV0dXJuIG5ldyBPcGVuQ2FnZUdlb2NvZGVRdWVyeSh7IC4uLnRoaXMudG9PYmplY3QoKSwgY291bnRyeUNvZGVzIH0pO1xuICB9XG5cbiAgcHVibGljIGdldENvdW50cnlDb2RlcygpOiB1bmRlZmluZWQgfCBzdHJpbmdbXSB7XG4gICAgcmV0dXJuIHRoaXMuY291bnRyeUNvZGVzO1xuICB9XG5cbiAgcHVibGljIHdpdGhQcm94aW1pdHkocHJveGltaXR5OiBDb29yZGluYXRlcyk6IE9wZW5DYWdlR2VvY29kZVF1ZXJ5IHtcbiAgICByZXR1cm4gbmV3IE9wZW5DYWdlR2VvY29kZVF1ZXJ5KHsgLi4udGhpcy50b09iamVjdCgpLCBwcm94aW1pdHkgfSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0UHJveGltaXR5KCk6IHVuZGVmaW5lZCB8IENvb3JkaW5hdGVzIHtcbiAgICByZXR1cm4gdGhpcy5wcm94aW1pdHk7XG4gIH1cblxuICBwdWJsaWMgd2l0aE1pblByZWNpc2lvbihtaW5QcmVjaXNpb246IG51bWJlcik6IE9wZW5DYWdlR2VvY29kZVF1ZXJ5IHtcbiAgICByZXR1cm4gbmV3IE9wZW5DYWdlR2VvY29kZVF1ZXJ5KHsgLi4udGhpcy50b09iamVjdCgpLCBtaW5QcmVjaXNpb24gfSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0TWluUHJlY2lzaW9uKCk6IHVuZGVmaW5lZCB8IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMubWluUHJlY2lzaW9uO1xuICB9XG5cbiAgcHVibGljIHdpdGhOb1JlY29yZChub1JlY29yZDogYm9vbGVhbik6IE9wZW5DYWdlR2VvY29kZVF1ZXJ5IHtcbiAgICByZXR1cm4gbmV3IE9wZW5DYWdlR2VvY29kZVF1ZXJ5KHsgLi4udGhpcy50b09iamVjdCgpLCBub1JlY29yZCB9KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXROb1JlY29yZCgpOiB1bmRlZmluZWQgfCBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5ub1JlY29yZDtcbiAgfVxufVxuIiwiaW1wb3J0IEdlb2NvZGVkLCB7IEdlb2NvZGVkT2JqZWN0IH0gZnJvbSBcIkdlb2NvZGVkXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgT3BlbkNhZ2VHZW9jb2RlZE9iamVjdCBleHRlbmRzIEdlb2NvZGVkT2JqZWN0IHtcbiAgcmVhZG9ubHkgY2FsbGluZ0NvZGU/OiBudW1iZXI7XG4gIHJlYWRvbmx5IGZsYWc/OiBzdHJpbmc7XG4gIHJlYWRvbmx5IHByZWNpc2lvbj86IG51bWJlcjtcbiAgcmVhZG9ubHkgbWdycz86IHN0cmluZztcbiAgcmVhZG9ubHkgbWFpZGVuaGVhZD86IHN0cmluZztcbiAgcmVhZG9ubHkgZ2VvaGFzaD86IHN0cmluZztcbiAgcmVhZG9ubHkgd2hhdDN3b3Jkcz86IHN0cmluZztcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT3BlbkNhZ2VHZW9jb2RlZCBleHRlbmRzIEdlb2NvZGVkIHtcbiAgcHJpdmF0ZSByZWFkb25seSBjYWxsaW5nQ29kZT86IG51bWJlcjtcblxuICBwcml2YXRlIHJlYWRvbmx5IGZsYWc/OiBzdHJpbmc7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBwcmVjaXNpb24/OiBudW1iZXI7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBtZ3JzPzogc3RyaW5nO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgbWFpZGVuaGVhZD86IHN0cmluZztcblxuICBwcml2YXRlIHJlYWRvbmx5IGdlb2hhc2g/OiBzdHJpbmc7XG5cbiAgcHJpdmF0ZSByZWFkb25seSB3aGF0M3dvcmRzPzogc3RyaW5nO1xuXG4gIHByb3RlY3RlZCBjb25zdHJ1Y3Rvcih7XG4gICAgY2FsbGluZ0NvZGUsXG4gICAgZmxhZyxcbiAgICBwcmVjaXNpb24sXG4gICAgbWdycyxcbiAgICBtYWlkZW5oZWFkLFxuICAgIGdlb2hhc2gsXG4gICAgd2hhdDN3b3JkcyxcbiAgICAuLi5nZW9jb2RlZE9iamVjdFxuICB9OiBPcGVuQ2FnZUdlb2NvZGVkT2JqZWN0KSB7XG4gICAgc3VwZXIoZ2VvY29kZWRPYmplY3QpO1xuICAgIHRoaXMuY2FsbGluZ0NvZGUgPSBjYWxsaW5nQ29kZTtcbiAgICB0aGlzLmZsYWcgPSBmbGFnO1xuICAgIHRoaXMucHJlY2lzaW9uID0gcHJlY2lzaW9uO1xuICAgIHRoaXMubWdycyA9IG1ncnM7XG4gICAgdGhpcy5tYWlkZW5oZWFkID0gbWFpZGVuaGVhZDtcbiAgICB0aGlzLmdlb2hhc2ggPSBnZW9oYXNoO1xuICAgIHRoaXMud2hhdDN3b3JkcyA9IHdoYXQzd29yZHM7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIGNyZWF0ZShvYmplY3Q6IE9wZW5DYWdlR2VvY29kZWRPYmplY3QpOiBPcGVuQ2FnZUdlb2NvZGVkIHtcbiAgICByZXR1cm4gbmV3IHRoaXMob2JqZWN0KTtcbiAgfVxuXG4gIHB1YmxpYyB0b09iamVjdCgpOiBPcGVuQ2FnZUdlb2NvZGVkT2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3VwZXIudG9PYmplY3QoKSxcbiAgICAgIGNhbGxpbmdDb2RlOiB0aGlzLmNhbGxpbmdDb2RlLFxuICAgICAgZmxhZzogdGhpcy5mbGFnLFxuICAgICAgcHJlY2lzaW9uOiB0aGlzLnByZWNpc2lvbixcbiAgICAgIG1ncnM6IHRoaXMubWdycyxcbiAgICAgIG1haWRlbmhlYWQ6IHRoaXMubWFpZGVuaGVhZCxcbiAgICAgIGdlb2hhc2g6IHRoaXMuZ2VvaGFzaCxcbiAgICAgIHdoYXQzd29yZHM6IHRoaXMud2hhdDN3b3JkcyxcbiAgICB9O1xuICB9XG5cbiAgcHVibGljIHdpdGhDYWxsaW5nQ29kZShjYWxsaW5nQ29kZTogbnVtYmVyKTogT3BlbkNhZ2VHZW9jb2RlZCB7XG4gICAgcmV0dXJuIG5ldyBPcGVuQ2FnZUdlb2NvZGVkKHtcbiAgICAgIC4uLnRoaXMudG9PYmplY3QoKSxcbiAgICAgIGNhbGxpbmdDb2RlLFxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGdldENhbGxpbmdDb2RlKCk6IHVuZGVmaW5lZCB8IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuY2FsbGluZ0NvZGU7XG4gIH1cblxuICBwdWJsaWMgd2l0aEZsYWcoZmxhZzogc3RyaW5nKTogT3BlbkNhZ2VHZW9jb2RlZCB7XG4gICAgcmV0dXJuIG5ldyBPcGVuQ2FnZUdlb2NvZGVkKHtcbiAgICAgIC4uLnRoaXMudG9PYmplY3QoKSxcbiAgICAgIGZsYWcsXG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0RmxhZygpOiB1bmRlZmluZWQgfCBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmZsYWc7XG4gIH1cblxuICBwdWJsaWMgd2l0aFByZWNpc2lvbihwcmVjaXNpb246IG51bWJlcik6IE9wZW5DYWdlR2VvY29kZWQge1xuICAgIHJldHVybiBuZXcgT3BlbkNhZ2VHZW9jb2RlZCh7XG4gICAgICAuLi50aGlzLnRvT2JqZWN0KCksXG4gICAgICBwcmVjaXNpb24sXG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0UHJlY2lzaW9uKCk6IHVuZGVmaW5lZCB8IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMucHJlY2lzaW9uO1xuICB9XG5cbiAgcHVibGljIHdpdGhNZ3JzKG1ncnM6IHN0cmluZyk6IE9wZW5DYWdlR2VvY29kZWQge1xuICAgIHJldHVybiBuZXcgT3BlbkNhZ2VHZW9jb2RlZCh7XG4gICAgICAuLi50aGlzLnRvT2JqZWN0KCksXG4gICAgICBtZ3JzLFxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGdldE1ncnMoKTogdW5kZWZpbmVkIHwgc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5tZ3JzO1xuICB9XG5cbiAgcHVibGljIHdpdGhNYWlkZW5oZWFkKG1haWRlbmhlYWQ6IHN0cmluZyk6IE9wZW5DYWdlR2VvY29kZWQge1xuICAgIHJldHVybiBuZXcgT3BlbkNhZ2VHZW9jb2RlZCh7XG4gICAgICAuLi50aGlzLnRvT2JqZWN0KCksXG4gICAgICBtYWlkZW5oZWFkLFxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGdldE1haWRlbmhlYWQoKTogdW5kZWZpbmVkIHwgc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5tYWlkZW5oZWFkO1xuICB9XG5cbiAgcHVibGljIHdpdGhHZW9oYXNoKGdlb2hhc2g6IHN0cmluZyk6IE9wZW5DYWdlR2VvY29kZWQge1xuICAgIHJldHVybiBuZXcgT3BlbkNhZ2VHZW9jb2RlZCh7XG4gICAgICAuLi50aGlzLnRvT2JqZWN0KCksXG4gICAgICBnZW9oYXNoLFxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGdldEdlb2hhc2goKTogdW5kZWZpbmVkIHwgc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5nZW9oYXNoO1xuICB9XG5cbiAgcHVibGljIHdpdGhXaGF0M3dvcmRzKHdoYXQzd29yZHM6IHN0cmluZyk6IE9wZW5DYWdlR2VvY29kZWQge1xuICAgIHJldHVybiBuZXcgT3BlbkNhZ2VHZW9jb2RlZCh7XG4gICAgICAuLi50aGlzLnRvT2JqZWN0KCksXG4gICAgICB3aGF0M3dvcmRzLFxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGdldFdoYXQzd29yZHMoKTogdW5kZWZpbmVkIHwgc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy53aGF0M3dvcmRzO1xuICB9XG59XG4iLCJpbXBvcnQge1xuICBFeHRlcm5hbExvYWRlckJvZHksXG4gIEV4dGVybmFsTG9hZGVySGVhZGVycyxcbiAgRXh0ZXJuYWxMb2FkZXJJbnRlcmZhY2UsXG4gIEV4dGVybmFsTG9hZGVyUGFyYW1zLFxufSBmcm9tIFwiRXh0ZXJuYWxMb2FkZXJcIjtcbmltcG9ydCB7XG4gIEVycm9yQ2FsbGJhY2ssXG4gIEdlb2NvZGVkUmVzdWx0c0NhbGxiYWNrLFxuICBPcGVuQ2FnZUdlb2NvZGVkLFxuICBPcGVuQ2FnZUdlb2NvZGVRdWVyeSxcbiAgT3BlbkNhZ2VHZW9jb2RlUXVlcnlPYmplY3QsXG4gIE9wZW5DYWdlUmV2ZXJzZVF1ZXJ5LFxuICBPcGVuQ2FnZVJldmVyc2VRdWVyeU9iamVjdCxcbiAgUHJvdmlkZXJIZWxwZXJzLFxuICBQcm92aWRlckludGVyZmFjZSxcbiAgUHJvdmlkZXJPcHRpb25zSW50ZXJmYWNlLFxuICBkZWZhdWx0UHJvdmlkZXJPcHRpb25zLFxufSBmcm9tIFwicHJvdmlkZXJcIjtcbmltcG9ydCBBZG1pbkxldmVsIGZyb20gXCJBZG1pbkxldmVsXCI7XG5pbXBvcnQgeyBSZXNwb25zZUVycm9yIH0gZnJvbSBcImVycm9yXCI7XG5cbmludGVyZmFjZSBPcGVuQ2FnZVJlcXVlc3RQYXJhbXMge1xuICBbcGFyYW06IHN0cmluZ106IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkga2V5OiBzdHJpbmc7XG4gIHJlYWRvbmx5IHE6IHN0cmluZztcbiAgcmVhZG9ubHkgY291bnRyeWNvZGU/OiBzdHJpbmc7XG4gIHJlYWRvbmx5IGxhbmd1YWdlPzogc3RyaW5nO1xuICByZWFkb25seSBsaW1pdD86IHN0cmluZztcbiAgcmVhZG9ubHkgYm91bmRzPzogc3RyaW5nO1xuICByZWFkb25seSBwcm94aW1pdHk/OiBzdHJpbmc7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgcmVhZG9ubHkgbWluX2NvbmZpZGVuY2U/OiBzdHJpbmc7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgcmVhZG9ubHkgbm9fcmVjb3JkPzogc3RyaW5nO1xuICByZWFkb25seSBqc29ucENhbGxiYWNrPzogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgT3BlbkNhZ2VDb29yZGluYXRlcyB7XG4gIGxhdDogbnVtYmVyO1xuICBsbmc6IG51bWJlcjtcbn1cblxuaW50ZXJmYWNlIE9wZW5DYWdlU3VuIHtcbiAgYXBwYXJlbnQ6IG51bWJlcjtcbiAgYXN0cm9ub21pY2FsOiBudW1iZXI7XG4gIGNpdmlsOiBudW1iZXI7XG4gIG5hdXRpY2FsOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgT3BlbkNhZ2VSZXN1bHQge1xuICBhbm5vdGF0aW9uczoge1xuICAgIGNhbGxpbmdjb2RlOiBudW1iZXI7XG4gICAgY3VycmVuY3k6IHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgICAgIGFsdGVybmF0ZV9zeW1ib2xzOiBzdHJpbmdbXTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgICAgIGRlY2ltYWxfbWFyazogc3RyaW5nO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICAgICAgZGlzYW1iaWd1YXRlX3N5bWJvbD86IHN0cmluZztcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgICAgIGh0bWxfZW50aXR5OiBzdHJpbmc7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gICAgICBpc29fY29kZTogc3RyaW5nO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICAgICAgaXNvX251bWVyaWM6IHN0cmluZztcbiAgICAgIG5hbWU6IHN0cmluZztcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgICAgIHNtYWxsZXN0X2Rlbm9taW5hdGlvbjogbnVtYmVyO1xuICAgICAgc3VidW5pdDogc3RyaW5nO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICAgICAgc3VidW5pdF90b191bml0OiBudW1iZXI7XG4gICAgICBzeW1ib2w6IHN0cmluZztcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgICAgIHN5bWJvbF9maXJzdDogbnVtYmVyO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICAgICAgdGhvdXNhbmRzX3NlcGFyYXRvcjogc3RyaW5nO1xuICAgIH07XG4gICAgRE1TOiB7XG4gICAgICBsYXQ6IHN0cmluZztcbiAgICAgIGxuZzogc3RyaW5nO1xuICAgIH07XG4gICAgRklQUz86IHtcbiAgICAgIHN0YXRlPzogc3RyaW5nO1xuICAgICAgY291bnR5Pzogc3RyaW5nO1xuICAgIH07XG4gICAgZmxhZzogc3RyaW5nO1xuICAgIGdlb2hhc2g/OiBzdHJpbmc7XG4gICAgSVRNPzoge1xuICAgICAgZWFzdGluZzogc3RyaW5nO1xuICAgICAgbm9ydGhpbmc6IHN0cmluZztcbiAgICB9O1xuICAgIE1haWRlbmhlYWQ/OiBzdHJpbmc7XG4gICAgTWVyY2F0b3I6IHtcbiAgICAgIHg6IG51bWJlcjtcbiAgICAgIHk6IG51bWJlcjtcbiAgICB9O1xuICAgIE1HUlM/OiBzdHJpbmc7XG4gICAgT1NNOiB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gICAgICBlZGl0X3VybD86IHN0cmluZztcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgICAgIG5vdGVfdXJsOiBzdHJpbmc7XG4gICAgICB1cmw6IHN0cmluZztcbiAgICB9O1xuICAgIHFpYmxhOiBudW1iZXI7XG4gICAgcm9hZGluZm86IHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgICAgIGRyaXZlX29uOiBcImxlZnRcIiB8IFwicmlnaHRcIjtcbiAgICAgIHJvYWQ/OiBzdHJpbmc7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gICAgICByb2FkX3R5cGU/OiBzdHJpbmc7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gICAgICByb2FkX3JlZmVyZW5jZT86IHN0cmluZztcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgICAgIHJvYWRfcmVmZXJlbmNlX2ludGw/OiBzdHJpbmc7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gICAgICBzcGVlZF9pbjogXCJrbS9oXCIgfCBcIm1waFwiO1xuICAgIH07XG4gICAgc3VuOiB7XG4gICAgICByaXNlOiBPcGVuQ2FnZVN1bjtcbiAgICAgIHNldDogT3BlbkNhZ2VTdW47XG4gICAgfTtcbiAgICB0aW1lem9uZToge1xuICAgICAgbmFtZTogc3RyaW5nO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICAgICAgbm93X2luX2RzdDogbnVtYmVyO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICAgICAgb2Zmc2V0X3NlYzogbnVtYmVyO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICAgICAgb2Zmc2V0X3N0cmluZzogc3RyaW5nO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICAgICAgc2hvcnRfbmFtZTogc3RyaW5nO1xuICAgIH07XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICAgIFVOX000OToge1xuICAgICAgcmVnaW9uczoge1xuICAgICAgICBbcmVnaW9uOiBzdHJpbmddOiBzdHJpbmc7XG4gICAgICB9O1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICAgICAgc3RhdGlzdGljYWxfZ3JvdXBpbmdzOiAoXCJMRENcIiB8IFwiTEVEQ1wiIHwgXCJMTERDXCIgfCBcIk1FRENcIiB8IFwiU0lEU1wiKVtdO1xuICAgIH07XG4gICAgd2hhdDN3b3Jkcz86IHtcbiAgICAgIHdvcmRzOiBzdHJpbmc7XG4gICAgfTtcbiAgICB3aWtpZGF0YT86IHN0cmluZztcbiAgfTtcbiAgYm91bmRzOiB7XG4gICAgbm9ydGhlYXN0OiBPcGVuQ2FnZUNvb3JkaW5hdGVzO1xuICAgIHNvdXRod2VzdDogT3BlbkNhZ2VDb29yZGluYXRlcztcbiAgfTtcbiAgY29tcG9uZW50czoge1xuICAgIFwiSVNPXzMxNjYtMV9hbHBoYS0yXCI/OiBzdHJpbmc7XG4gICAgXCJJU09fMzE2Ni0xX2FscGhhLTNcIj86IHN0cmluZztcbiAgICBfY2F0ZWdvcnk6XG4gICAgICB8IFwiYWdyaWN1bHR1cmVcIlxuICAgICAgfCBcImJ1aWxkaW5nXCJcbiAgICAgIHwgXCJjYXN0bGVcIlxuICAgICAgfCBcImNvbW1lcmNlXCJcbiAgICAgIHwgXCJjb25zdHJ1Y3Rpb25cIlxuICAgICAgfCBcImVkdWNhdGlvblwiXG4gICAgICB8IFwiZmluYW5jaWFsXCJcbiAgICAgIHwgXCJnb3Zlcm5tZW50XCJcbiAgICAgIHwgXCJoZWFsdGhcIlxuICAgICAgfCBcImluZHVzdHJpYWxcIlxuICAgICAgfCBcIm1pbGl0YXJ5XCJcbiAgICAgIHwgXCJuYXR1cmFsL3dhdGVyXCJcbiAgICAgIHwgXCJvdXRkb29ycy9yZWNyZWF0aW9uXCJcbiAgICAgIHwgXCJwbGFjZVwiXG4gICAgICB8IFwicGxhY2Vfb2Zfd29yc2hpcFwiXG4gICAgICB8IFwicG9zdGNvZGVcIlxuICAgICAgfCBcInJvYWRcIlxuICAgICAgfCBcInNvY2lhbFwiXG4gICAgICB8IFwidHJhbnNwb3J0YXRpb25cIlxuICAgICAgfCBcInRyYXZlbC90b3VyaXNtXCJcbiAgICAgIHwgXCJ1bmtub3duXCI7XG4gICAgX3R5cGU6IHN0cmluZztcbiAgICBjYXN0bGU/OiBzdHJpbmc7XG4gICAgY2l0eT86IHN0cmluZztcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gICAgY2l0eV9kaXN0cmljdD86IHN0cmluZztcbiAgICBjb250aW5lbnQ/OlxuICAgICAgfCBcIkFmcmljYVwiXG4gICAgICB8IFwiQW50YXJjdGljYVwiXG4gICAgICB8IFwiQXNpYVwiXG4gICAgICB8IFwiRXVyb3BlXCJcbiAgICAgIHwgXCJPY2VhbmlhXCJcbiAgICAgIHwgXCJOb3J0aCBBbWVyaWNhXCJcbiAgICAgIHwgXCJTb3V0aCBBbWVyaWNhXCI7XG4gICAgY291bnRyeT86IHN0cmluZztcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gICAgY291bnRyeV9jb2RlPzogc3RyaW5nO1xuICAgIGNvdW50eT86IHN0cmluZztcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gICAgY291bnR5X2NvZGU/OiBzdHJpbmc7XG4gICAgY3JvZnQ/OiBzdHJpbmc7XG4gICAgZGlzdHJpY3Q/OiBzdHJpbmc7XG4gICAgZm9vdHdheT86IHN0cmluZztcbiAgICBoYW1sZXQ/OiBzdHJpbmc7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICAgIGhvdXNlX251bWJlcj86IHN0cmluZztcbiAgICBob3VzZXM/OiBzdHJpbmc7XG4gICAgbG9jYWxpdHk/OiBzdHJpbmc7XG4gICAgbXVuaWNpcGFsaXR5Pzogc3RyaW5nO1xuICAgIG5laWdoYm91cmhvb2Q/OiBzdHJpbmc7XG4gICAgcGF0aD86IHN0cmluZztcbiAgICBwZWRlc3RyaWFuPzogc3RyaW5nO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgICBwb2xpdGljYWxfdW5pb24/OiBzdHJpbmc7XG4gICAgcG9zdGNvZGU/OiBzdHJpbmc7XG4gICAgcXVhcnRlcj86IHN0cmluZztcbiAgICByZXNpZGVudGlhbD86IHN0cmluZztcbiAgICByb2FkPzogc3RyaW5nO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgICByb2FkX3JlZmVyZW5jZT86IHN0cmluZztcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gICAgcm9hZF9yZWZlcmVuY2VfaW50bD86IHN0cmluZztcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gICAgcm9hZF90eXBlPzogc3RyaW5nO1xuICAgIHN0YXRlPzogc3RyaW5nO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgICBzdGF0ZV9jb2RlPzogc3RyaW5nO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgICBzdGF0ZV9kaXN0cmljdD86IHN0cmluZztcbiAgICBzdHJlZXQ/OiBzdHJpbmc7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICAgIHN0cmVldF9uYW1lPzogc3RyaW5nO1xuICAgIHN1YmRpdmlzaW9uPzogc3RyaW5nO1xuICAgIHN1YnVyYj86IHN0cmluZztcbiAgICB0b3duPzogc3RyaW5nO1xuICAgIHZpbGxhZ2U/OiBzdHJpbmc7XG4gIH07XG4gIGNvbmZpZGVuY2U6IG51bWJlcjtcbiAgZm9ybWF0dGVkOiBzdHJpbmc7XG4gIGdlb21ldHJ5OiBPcGVuQ2FnZUNvb3JkaW5hdGVzO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE9wZW5DYWdlUmVzcG9uc2Uge1xuICBkb2N1bWVudGF0aW9uOiBzdHJpbmc7XG4gIGxpY2VuY2VzOiB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIHVybDogc3RyaW5nO1xuICB9W107XG4gIHJhdGU6IHtcbiAgICBsaW1pdDogbnVtYmVyO1xuICAgIHJlbWFpbmluZzogbnVtYmVyO1xuICAgIHJlc2V0OiBudW1iZXI7XG4gIH07XG4gIHJlc3VsdHM6IE9wZW5DYWdlUmVzdWx0W107XG4gIHN0YXR1czoge1xuICAgIGNvZGU6IDIwMCB8IDQwMCB8IDQwMSB8IDQwMiB8IDQwMyB8IDQwNCB8IDQwNSB8IDQwOCB8IDQxMCB8IDQyOSB8IDUwMztcbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gIH07XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjYW1lbGNhc2VcbiAgc3RheV9pbmZvcm1lZDoge1xuICAgIGJsb2c6IHN0cmluZztcbiAgICB0d2l0dGVyOiBzdHJpbmc7XG4gIH07XG4gIHRoYW5rczogc3RyaW5nO1xuICB0aW1lc3RhbXA6IHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gICAgY3JlYXRlZF9odHRwOiBzdHJpbmc7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNhbWVsY2FzZVxuICAgIGNyZWF0ZWRfdW5peDogbnVtYmVyO1xuICB9O1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gIHRvdGFsX3Jlc3VsdHM6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBPcGVuQ2FnZVByb3ZpZGVyT3B0aW9uc0ludGVyZmFjZVxuICBleHRlbmRzIFByb3ZpZGVyT3B0aW9uc0ludGVyZmFjZSB7XG4gIHJlYWRvbmx5IGFwaUtleTogc3RyaW5nO1xuICByZWFkb25seSBjb3VudHJ5Q29kZXM/OiBzdHJpbmdbXTtcbn1cblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRPcGVuQ2FnZVByb3ZpZGVyT3B0aW9ucyA9IHtcbiAgLi4uZGVmYXVsdFByb3ZpZGVyT3B0aW9ucyxcbiAgYXBpS2V5OiBcIlwiLFxufTtcblxudHlwZSBPcGVuQ2FnZUdlb2NvZGVkUmVzdWx0c0NhbGxiYWNrID0gR2VvY29kZWRSZXN1bHRzQ2FsbGJhY2s8T3BlbkNhZ2VHZW9jb2RlZD47XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9wZW5DYWdlUHJvdmlkZXJcbiAgaW1wbGVtZW50cyBQcm92aWRlckludGVyZmFjZTxPcGVuQ2FnZUdlb2NvZGVkPiB7XG4gIHByaXZhdGUgZXh0ZXJuYWxMb2FkZXI6IEV4dGVybmFsTG9hZGVySW50ZXJmYWNlO1xuXG4gIHByaXZhdGUgb3B0aW9uczogT3BlbkNhZ2VQcm92aWRlck9wdGlvbnNJbnRlcmZhY2U7XG5cbiAgcHVibGljIGNvbnN0cnVjdG9yKFxuICAgIF9leHRlcm5hbExvYWRlcjogRXh0ZXJuYWxMb2FkZXJJbnRlcmZhY2UsXG4gICAgb3B0aW9uczogT3BlbkNhZ2VQcm92aWRlck9wdGlvbnNJbnRlcmZhY2UgPSBkZWZhdWx0T3BlbkNhZ2VQcm92aWRlck9wdGlvbnNcbiAgKSB7XG4gICAgdGhpcy5leHRlcm5hbExvYWRlciA9IF9leHRlcm5hbExvYWRlcjtcbiAgICB0aGlzLm9wdGlvbnMgPSB7IC4uLmRlZmF1bHRPcGVuQ2FnZVByb3ZpZGVyT3B0aW9ucywgLi4ub3B0aW9ucyB9O1xuICAgIGlmICghdGhpcy5vcHRpb25zLmFwaUtleSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnQW4gQVBJIGtleSBpcyByZXF1aXJlZCBmb3IgdGhlIE9wZW5DYWdlIHByb3ZpZGVyLiBQbGVhc2UgYWRkIGl0IGluIHRoZSBcImFwaUtleVwiIG9wdGlvbi4nXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBnZW9jb2RlKFxuICAgIHF1ZXJ5OiBzdHJpbmcgfCBPcGVuQ2FnZUdlb2NvZGVRdWVyeSB8IE9wZW5DYWdlR2VvY29kZVF1ZXJ5T2JqZWN0LFxuICAgIGNhbGxiYWNrPzogT3BlbkNhZ2VHZW9jb2RlZFJlc3VsdHNDYWxsYmFjayxcbiAgICBlcnJvckNhbGxiYWNrPzogRXJyb3JDYWxsYmFja1xuICApOiB2b2lkIHwgUHJvbWlzZTxPcGVuQ2FnZUdlb2NvZGVkW10+IHtcbiAgICBjb25zdCBnZW9jb2RlUXVlcnkgPSBQcm92aWRlckhlbHBlcnMuZ2V0R2VvY29kZVF1ZXJ5RnJvbVBhcmFtZXRlcihcbiAgICAgIHF1ZXJ5LFxuICAgICAgT3BlbkNhZ2VHZW9jb2RlUXVlcnlcbiAgICApO1xuXG4gICAgaWYgKGdlb2NvZGVRdWVyeS5nZXRJcCgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiVGhlIE9wZW5DYWdlIHByb3ZpZGVyIGRvZXMgbm90IHN1cHBvcnQgSVAgZ2VvbG9jYXRpb24sIG9ubHkgbG9jYXRpb24gZ2VvY29kaW5nLlwiXG4gICAgICApO1xuICAgIH1cblxuICAgIHRoaXMuZXh0ZXJuYWxMb2FkZXIuc2V0T3B0aW9ucyh7XG4gICAgICBwcm90b2NvbDogdGhpcy5vcHRpb25zLnVzZVNzbCA/IFwiaHR0cHNcIiA6IFwiaHR0cFwiLFxuICAgICAgaG9zdDogXCJhcGkub3BlbmNhZ2VkYXRhLmNvbVwiLFxuICAgICAgcGF0aG5hbWU6IFwiZ2VvY29kZS92MS9qc29uXCIsXG4gICAgfSk7XG5cbiAgICBjb25zdCBwYXJhbXM6IE9wZW5DYWdlUmVxdWVzdFBhcmFtcyA9IHRoaXMud2l0aENvbW1vblBhcmFtcyhcbiAgICAgIHtcbiAgICAgICAgcTogZ2VvY29kZVF1ZXJ5LmdldFRleHQoKSB8fCBcIlwiLFxuICAgICAgICBib3VuZHM6IGdlb2NvZGVRdWVyeS5nZXRCb3VuZHMoKVxuICAgICAgICAgID8gYCR7Z2VvY29kZVF1ZXJ5LmdldEJvdW5kcygpPy5sb25naXR1ZGVTV30sJHtcbiAgICAgICAgICAgICAgZ2VvY29kZVF1ZXJ5LmdldEJvdW5kcygpPy5sYXRpdHVkZVNXXG4gICAgICAgICAgICB9LCR7Z2VvY29kZVF1ZXJ5LmdldEJvdW5kcygpPy5sb25naXR1ZGVORX0sJHtcbiAgICAgICAgICAgICAgZ2VvY29kZVF1ZXJ5LmdldEJvdW5kcygpPy5sYXRpdHVkZU5FXG4gICAgICAgICAgICB9YFxuICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICBwcm94aW1pdHk6ICg8T3BlbkNhZ2VHZW9jb2RlUXVlcnk+Z2VvY29kZVF1ZXJ5KS5nZXRQcm94aW1pdHkoKVxuICAgICAgICAgID8gYCR7KDxPcGVuQ2FnZUdlb2NvZGVRdWVyeT5nZW9jb2RlUXVlcnkpLmdldFByb3hpbWl0eSgpPy5sYXRpdHVkZX0sJHtcbiAgICAgICAgICAgICAgKDxPcGVuQ2FnZUdlb2NvZGVRdWVyeT5nZW9jb2RlUXVlcnkpLmdldFByb3hpbWl0eSgpPy5sb25naXR1ZGVcbiAgICAgICAgICAgIH1gXG4gICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICB9LFxuICAgICAgPE9wZW5DYWdlR2VvY29kZVF1ZXJ5Pmdlb2NvZGVRdWVyeVxuICAgICk7XG5cbiAgICBpZiAoIWNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT5cbiAgICAgICAgdGhpcy5leGVjdXRlUmVxdWVzdChcbiAgICAgICAgICBwYXJhbXMsXG4gICAgICAgICAgKHJlc3VsdHMpID0+IHJlc29sdmUocmVzdWx0cyksXG4gICAgICAgICAge30sXG4gICAgICAgICAge30sXG4gICAgICAgICAgKGVycm9yKSA9PiByZWplY3QoZXJyb3IpXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmV4ZWN1dGVSZXF1ZXN0KHBhcmFtcywgY2FsbGJhY2ssIHt9LCB7fSwgZXJyb3JDYWxsYmFjayk7XG4gIH1cblxuICBwdWJsaWMgZ2VvZGVjb2RlKFxuICAgIGxhdGl0dWRlT3JRdWVyeTpcbiAgICAgIHwgbnVtYmVyXG4gICAgICB8IHN0cmluZ1xuICAgICAgfCBPcGVuQ2FnZVJldmVyc2VRdWVyeVxuICAgICAgfCBPcGVuQ2FnZVJldmVyc2VRdWVyeU9iamVjdCxcbiAgICBsb25naXR1ZGVPckNhbGxiYWNrPzogbnVtYmVyIHwgc3RyaW5nIHwgT3BlbkNhZ2VHZW9jb2RlZFJlc3VsdHNDYWxsYmFjayxcbiAgICBjYWxsYmFja09yRXJyb3JDYWxsYmFjaz86IE9wZW5DYWdlR2VvY29kZWRSZXN1bHRzQ2FsbGJhY2sgfCBFcnJvckNhbGxiYWNrLFxuICAgIGVycm9yQ2FsbGJhY2s/OiBFcnJvckNhbGxiYWNrXG4gICk6IHZvaWQgfCBQcm9taXNlPE9wZW5DYWdlR2VvY29kZWRbXT4ge1xuICAgIGNvbnN0IHJldmVyc2VRdWVyeSA9IFByb3ZpZGVySGVscGVycy5nZXRSZXZlcnNlUXVlcnlGcm9tUGFyYW1ldGVycyhcbiAgICAgIGxhdGl0dWRlT3JRdWVyeSxcbiAgICAgIGxvbmdpdHVkZU9yQ2FsbGJhY2ssXG4gICAgICBPcGVuQ2FnZVJldmVyc2VRdWVyeVxuICAgICk7XG4gICAgY29uc3QgcmV2ZXJzZUNhbGxiYWNrID0gUHJvdmlkZXJIZWxwZXJzLmdldENhbGxiYWNrRnJvbVBhcmFtZXRlcnMoXG4gICAgICBsb25naXR1ZGVPckNhbGxiYWNrLFxuICAgICAgY2FsbGJhY2tPckVycm9yQ2FsbGJhY2tcbiAgICApO1xuICAgIGNvbnN0IHJldmVyc2VFcnJvckNhbGxiYWNrID0gUHJvdmlkZXJIZWxwZXJzLmdldEVycm9yQ2FsbGJhY2tGcm9tUGFyYW1ldGVycyhcbiAgICAgIGxvbmdpdHVkZU9yQ2FsbGJhY2ssXG4gICAgICBjYWxsYmFja09yRXJyb3JDYWxsYmFjayxcbiAgICAgIGVycm9yQ2FsbGJhY2tcbiAgICApO1xuXG4gICAgdGhpcy5leHRlcm5hbExvYWRlci5zZXRPcHRpb25zKHtcbiAgICAgIHByb3RvY29sOiB0aGlzLm9wdGlvbnMudXNlU3NsID8gXCJodHRwc1wiIDogXCJodHRwXCIsXG4gICAgICBob3N0OiBcImFwaS5vcGVuY2FnZWRhdGEuY29tXCIsXG4gICAgICBwYXRobmFtZTogXCJnZW9jb2RlL3YxL2pzb25cIixcbiAgICB9KTtcblxuICAgIGNvbnN0IHBhcmFtczogT3BlbkNhZ2VSZXF1ZXN0UGFyYW1zID0gdGhpcy53aXRoQ29tbW9uUGFyYW1zKFxuICAgICAge1xuICAgICAgICBxOiBgJHtyZXZlcnNlUXVlcnkuZ2V0Q29vcmRpbmF0ZXMoKS5sYXRpdHVkZX0sJHtcbiAgICAgICAgICByZXZlcnNlUXVlcnkuZ2V0Q29vcmRpbmF0ZXMoKS5sb25naXR1ZGVcbiAgICAgICAgfWAsXG4gICAgICB9LFxuICAgICAgPE9wZW5DYWdlUmV2ZXJzZVF1ZXJ5PnJldmVyc2VRdWVyeVxuICAgICk7XG5cbiAgICBpZiAoIXJldmVyc2VDYWxsYmFjaykge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+XG4gICAgICAgIHRoaXMuZXhlY3V0ZVJlcXVlc3QoXG4gICAgICAgICAgcGFyYW1zLFxuICAgICAgICAgIChyZXN1bHRzKSA9PiByZXNvbHZlKHJlc3VsdHMpLFxuICAgICAgICAgIHt9LFxuICAgICAgICAgIHt9LFxuICAgICAgICAgIChlcnJvcikgPT4gcmVqZWN0KGVycm9yKVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5leGVjdXRlUmVxdWVzdChcbiAgICAgIHBhcmFtcyxcbiAgICAgIHJldmVyc2VDYWxsYmFjayxcbiAgICAgIHt9LFxuICAgICAge30sXG4gICAgICByZXZlcnNlRXJyb3JDYWxsYmFja1xuICAgICk7XG4gIH1cblxuICBwcml2YXRlIHdpdGhDb21tb25QYXJhbXMoXG4gICAgcGFyYW1zOiBQaWNrPE9wZW5DYWdlUmVxdWVzdFBhcmFtcywgXCJxXCIgfCBcImJvdW5kc1wiIHwgXCJwcm94aW1pdHlcIj4sXG4gICAgcXVlcnk6IE9wZW5DYWdlR2VvY29kZVF1ZXJ5IHwgT3BlbkNhZ2VSZXZlcnNlUXVlcnlcbiAgKTogT3BlbkNhZ2VSZXF1ZXN0UGFyYW1zIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4ucGFyYW1zLFxuICAgICAga2V5OiB0aGlzLm9wdGlvbnMuYXBpS2V5IHx8IFwiXCIsXG4gICAgICBjb3VudHJ5Y29kZTogcXVlcnkuZ2V0Q291bnRyeUNvZGVzKClcbiAgICAgICAgPyBxdWVyeS5nZXRDb3VudHJ5Q29kZXMoKT8uam9pbihcIixcIilcbiAgICAgICAgOiB0aGlzLm9wdGlvbnMuY291bnRyeUNvZGVzPy5qb2luKFwiLFwiKSxcbiAgICAgIGxhbmd1YWdlOiBxdWVyeS5nZXRMb2NhbGUoKSxcbiAgICAgIGxpbWl0OiBxdWVyeS5nZXRMaW1pdCgpLnRvU3RyaW5nKCksXG4gICAgICBtaW5fY29uZmlkZW5jZTogcXVlcnkuZ2V0TWluUHJlY2lzaW9uKCk/LnRvU3RyaW5nKCksXG4gICAgICBub19yZWNvcmQ6IHF1ZXJ5LmdldE5vUmVjb3JkKCk/LnRvU3RyaW5nKCksXG4gICAgICBqc29ucENhbGxiYWNrOiB0aGlzLm9wdGlvbnMudXNlSnNvbnAgPyBcImpzb25wXCIgOiB1bmRlZmluZWQsXG4gICAgfTtcbiAgfVxuXG4gIHB1YmxpYyBleGVjdXRlUmVxdWVzdChcbiAgICBwYXJhbXM6IEV4dGVybmFsTG9hZGVyUGFyYW1zLFxuICAgIGNhbGxiYWNrOiBPcGVuQ2FnZUdlb2NvZGVkUmVzdWx0c0NhbGxiYWNrLFxuICAgIGhlYWRlcnM/OiBFeHRlcm5hbExvYWRlckhlYWRlcnMsXG4gICAgYm9keT86IEV4dGVybmFsTG9hZGVyQm9keSxcbiAgICBlcnJvckNhbGxiYWNrPzogRXJyb3JDYWxsYmFja1xuICApOiB2b2lkIHtcbiAgICB0aGlzLmV4dGVybmFsTG9hZGVyLmV4ZWN1dGVSZXF1ZXN0KFxuICAgICAgcGFyYW1zLFxuICAgICAgKGRhdGE6IE9wZW5DYWdlUmVzcG9uc2UpID0+IHtcbiAgICAgICAgY2FsbGJhY2soXG4gICAgICAgICAgZGF0YS5yZXN1bHRzLm1hcCgocmVzdWx0OiBPcGVuQ2FnZVJlc3VsdCkgPT5cbiAgICAgICAgICAgIE9wZW5DYWdlUHJvdmlkZXIubWFwVG9HZW9jb2RlZChyZXN1bHQpXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgIGhlYWRlcnMsXG4gICAgICBib2R5LFxuICAgICAgKGVycm9yKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gPFJlc3BvbnNlPmVycm9yLmdldFJlc3BvbnNlKCk7XG4gICAgICAgIHJlc3BvbnNlLmpzb24oKS50aGVuKChkYXRhOiBPcGVuQ2FnZVJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgaWYgKGRhdGEuc3RhdHVzKSB7XG4gICAgICAgICAgICBsZXQgZXJyb3JNZXNzYWdlOiBzdHJpbmc7XG4gICAgICAgICAgICBzd2l0Y2ggKGRhdGEuc3RhdHVzLmNvZGUpIHtcbiAgICAgICAgICAgICAgY2FzZSA0MDA6XG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gYEludmFsaWQgcmVxdWVzdCAoNDAwKTogJHtkYXRhLnN0YXR1cy5tZXNzYWdlfWA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgNDAxOlxuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGBVbmFibGUgdG8gYXV0aGVudGljYXRlICg0MDEpOiAke2RhdGEuc3RhdHVzLm1lc3NhZ2V9YDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSA0MDI6XG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gYFF1b3RhIGV4Y2VlZGVkICg0MDIpOiAke2RhdGEuc3RhdHVzLm1lc3NhZ2V9YDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSA0MDM6XG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gYEZvcmJpZGRlbiAoNDAzKTogJHtkYXRhLnN0YXR1cy5tZXNzYWdlfWA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgNDA0OlxuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGBJbnZhbGlkIEFQSSBlbmRwb2ludCAoNDA0KTogJHtkYXRhLnN0YXR1cy5tZXNzYWdlfWA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgNDA1OlxuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGBNZXRob2Qgbm90IGFsbG93ZWQgKDQwNSk6ICR7ZGF0YS5zdGF0dXMubWVzc2FnZX1gO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIDQwODpcbiAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBgVGltZW91dCAoNDA4KTogJHtkYXRhLnN0YXR1cy5tZXNzYWdlfWA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgNDEwOlxuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGBSZXF1ZXN0IHRvbyBsb25nICg0MTApOiAke2RhdGEuc3RhdHVzLm1lc3NhZ2V9YDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSA0Mjk6XG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gYFRvbyBtYW55IHJlcXVlc3RzICg0MjkpOiAke2RhdGEuc3RhdHVzLm1lc3NhZ2V9YDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSA1MDM6XG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gYEludGVybmFsIHNlcnZlciBlcnJvciAoNTAzKTogJHtkYXRhLnN0YXR1cy5tZXNzYWdlfWA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gYEVycm9yICgke2RhdGEuc3RhdHVzLmNvZGV9KTogJHtkYXRhLnN0YXR1cy5tZXNzYWdlfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZXJyb3JDYWxsYmFjaykge1xuICAgICAgICAgICAgICBlcnJvckNhbGxiYWNrKG5ldyBSZXNwb25zZUVycm9yKGVycm9yTWVzc2FnZSwgZGF0YSkpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICk7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIG1hcFRvR2VvY29kZWQocmVzdWx0OiBPcGVuQ2FnZVJlc3VsdCk6IE9wZW5DYWdlR2VvY29kZWQge1xuICAgIGNvbnN0IGxhdGl0dWRlID0gcmVzdWx0Lmdlb21ldHJ5LmxhdDtcbiAgICBjb25zdCBsb25naXR1ZGUgPSByZXN1bHQuZ2VvbWV0cnkubG5nO1xuICAgIGNvbnN0IGZvcm1hdHRlZEFkZHJlc3MgPSByZXN1bHQuZm9ybWF0dGVkO1xuICAgIGNvbnN0IHN0cmVldE51bWJlciA9IHJlc3VsdC5jb21wb25lbnRzLmhvdXNlX251bWJlcjtcbiAgICBjb25zdCBwb3N0YWxDb2RlID0gcmVzdWx0LmNvbXBvbmVudHMucG9zdGNvZGU7XG4gICAgY29uc3QgcmVnaW9uID0gcmVzdWx0LmNvbXBvbmVudHMuc3RhdGU7XG4gICAgY29uc3QgeyBjb3VudHJ5IH0gPSByZXN1bHQuY29tcG9uZW50cztcbiAgICBjb25zdCBjb3VudHJ5Q29kZSA9IHJlc3VsdC5jb21wb25lbnRzLmNvdW50cnlfY29kZTtcbiAgICBjb25zdCB0aW1lem9uZSA9IHJlc3VsdC5hbm5vdGF0aW9ucy50aW1lem9uZS5uYW1lO1xuICAgIGNvbnN0IGNhbGxpbmdDb2RlID0gcmVzdWx0LmFubm90YXRpb25zLmNhbGxpbmdjb2RlO1xuICAgIGNvbnN0IHsgZmxhZyB9ID0gcmVzdWx0LmFubm90YXRpb25zO1xuICAgIGNvbnN0IHByZWNpc2lvbiA9IHJlc3VsdC5jb25maWRlbmNlO1xuICAgIGNvbnN0IG1ncnMgPSByZXN1bHQuYW5ub3RhdGlvbnMuTUdSUztcbiAgICBjb25zdCBtYWlkZW5oZWFkID0gcmVzdWx0LmFubm90YXRpb25zLk1haWRlbmhlYWQ7XG4gICAgY29uc3QgeyBnZW9oYXNoIH0gPSByZXN1bHQuYW5ub3RhdGlvbnM7XG4gICAgY29uc3Qgd2hhdDN3b3JkcyA9IHJlc3VsdC5hbm5vdGF0aW9ucy53aGF0M3dvcmRzPy53b3JkcztcblxuICAgIGNvbnN0IHN0cmVldE5hbWUgPVxuICAgICAgcmVzdWx0LmNvbXBvbmVudHMucm9hZCB8fFxuICAgICAgcmVzdWx0LmNvbXBvbmVudHMuZm9vdHdheSB8fFxuICAgICAgcmVzdWx0LmNvbXBvbmVudHMuc3RyZWV0IHx8XG4gICAgICByZXN1bHQuY29tcG9uZW50cy5zdHJlZXRfbmFtZSB8fFxuICAgICAgcmVzdWx0LmNvbXBvbmVudHMucmVzaWRlbnRpYWwgfHxcbiAgICAgIHJlc3VsdC5jb21wb25lbnRzLnBhdGggfHxcbiAgICAgIHJlc3VsdC5jb21wb25lbnRzLnBlZGVzdHJpYW4gfHxcbiAgICAgIHJlc3VsdC5jb21wb25lbnRzLnJvYWRfcmVmZXJlbmNlIHx8XG4gICAgICByZXN1bHQuY29tcG9uZW50cy5yb2FkX3JlZmVyZW5jZV9pbnRsO1xuXG4gICAgY29uc3Qgc3ViTG9jYWxpdHkgPVxuICAgICAgcmVzdWx0LmNvbXBvbmVudHMubmVpZ2hib3VyaG9vZCB8fFxuICAgICAgcmVzdWx0LmNvbXBvbmVudHMuc3VidXJiIHx8XG4gICAgICByZXN1bHQuY29tcG9uZW50cy5jaXR5X2Rpc3RyaWN0IHx8XG4gICAgICByZXN1bHQuY29tcG9uZW50cy5kaXN0cmljdCB8fFxuICAgICAgcmVzdWx0LmNvbXBvbmVudHMucXVhcnRlciB8fFxuICAgICAgcmVzdWx0LmNvbXBvbmVudHMuaG91c2VzIHx8XG4gICAgICByZXN1bHQuY29tcG9uZW50cy5zdWJkaXZpc2lvbjtcblxuICAgIGNvbnN0IGxvY2FsaXR5ID1cbiAgICAgIHJlc3VsdC5jb21wb25lbnRzLmNpdHkgfHxcbiAgICAgIHJlc3VsdC5jb21wb25lbnRzLnRvd24gfHxcbiAgICAgIHJlc3VsdC5jb21wb25lbnRzLm11bmljaXBhbGl0eSB8fFxuICAgICAgcmVzdWx0LmNvbXBvbmVudHMudmlsbGFnZSB8fFxuICAgICAgcmVzdWx0LmNvbXBvbmVudHMuaGFtbGV0IHx8XG4gICAgICByZXN1bHQuY29tcG9uZW50cy5sb2NhbGl0eSB8fFxuICAgICAgcmVzdWx0LmNvbXBvbmVudHMuY3JvZnQ7XG5cbiAgICBsZXQgZ2VvY29kZWQgPSBPcGVuQ2FnZUdlb2NvZGVkLmNyZWF0ZSh7XG4gICAgICBjb29yZGluYXRlczoge1xuICAgICAgICBsYXRpdHVkZSxcbiAgICAgICAgbG9uZ2l0dWRlLFxuICAgICAgfSxcbiAgICAgIGZvcm1hdHRlZEFkZHJlc3MsXG4gICAgICBzdHJlZXROdW1iZXIsXG4gICAgICBzdHJlZXROYW1lLFxuICAgICAgc3ViTG9jYWxpdHksXG4gICAgICBsb2NhbGl0eSxcbiAgICAgIHBvc3RhbENvZGUsXG4gICAgICByZWdpb24sXG4gICAgICBjb3VudHJ5LFxuICAgICAgY291bnRyeUNvZGUsXG4gICAgICB0aW1lem9uZSxcbiAgICAgIGNhbGxpbmdDb2RlLFxuICAgICAgZmxhZyxcbiAgICAgIHByZWNpc2lvbixcbiAgICAgIG1ncnMsXG4gICAgICBtYWlkZW5oZWFkLFxuICAgICAgZ2VvaGFzaCxcbiAgICAgIHdoYXQzd29yZHMsXG4gICAgfSk7XG5cbiAgICBpZiAocmVzdWx0LmJvdW5kcykge1xuICAgICAgZ2VvY29kZWQgPSA8T3BlbkNhZ2VHZW9jb2RlZD5nZW9jb2RlZC53aXRoQm91bmRzKHtcbiAgICAgICAgbGF0aXR1ZGVTVzogcmVzdWx0LmJvdW5kcy5zb3V0aHdlc3QubGF0LFxuICAgICAgICBsb25naXR1ZGVTVzogcmVzdWx0LmJvdW5kcy5zb3V0aHdlc3QubG5nLFxuICAgICAgICBsYXRpdHVkZU5FOiByZXN1bHQuYm91bmRzLm5vcnRoZWFzdC5sYXQsXG4gICAgICAgIGxvbmdpdHVkZU5FOiByZXN1bHQuYm91bmRzLm5vcnRoZWFzdC5sbmcsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBhZG1pbkxldmVsczoge1xuICAgICAgbmFtZUtleTogXCJzdGF0ZVwiIHwgXCJjb3VudHlcIjtcbiAgICAgIGNvZGVLZXk6IFwic3RhdGVfY29kZVwiIHwgXCJjb3VudHlfY29kZVwiO1xuICAgIH1bXSA9IFtcbiAgICAgIHsgbmFtZUtleTogXCJzdGF0ZVwiLCBjb2RlS2V5OiBcInN0YXRlX2NvZGVcIiB9LFxuICAgICAgeyBuYW1lS2V5OiBcImNvdW50eVwiLCBjb2RlS2V5OiBcImNvdW50eV9jb2RlXCIgfSxcbiAgICBdO1xuICAgIGFkbWluTGV2ZWxzLmZvckVhY2goKHsgbmFtZUtleSwgY29kZUtleSB9LCBsZXZlbCkgPT4ge1xuICAgICAgaWYgKHJlc3VsdC5jb21wb25lbnRzW25hbWVLZXldKSB7XG4gICAgICAgIGdlb2NvZGVkLmFkZEFkbWluTGV2ZWwoXG4gICAgICAgICAgQWRtaW5MZXZlbC5jcmVhdGUoe1xuICAgICAgICAgICAgbGV2ZWw6IGxldmVsICsgMSxcbiAgICAgICAgICAgIG5hbWU6IHJlc3VsdC5jb21wb25lbnRzW25hbWVLZXldIHx8IFwiXCIsXG4gICAgICAgICAgICBjb2RlOiByZXN1bHQuY29tcG9uZW50c1tjb2RlS2V5XSB8fCB1bmRlZmluZWQsXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBnZW9jb2RlZDtcbiAgfVxufVxuIiwiaW1wb3J0IHsgUmV2ZXJzZVF1ZXJ5LCBSZXZlcnNlUXVlcnlPYmplY3QgfSBmcm9tIFwicXVlcnlcIjtcblxuZXhwb3J0IGludGVyZmFjZSBPcGVuQ2FnZVJldmVyc2VRdWVyeU9iamVjdCBleHRlbmRzIFJldmVyc2VRdWVyeU9iamVjdCB7XG4gIHJlYWRvbmx5IGNvdW50cnlDb2Rlcz86IHN0cmluZ1tdO1xuICByZWFkb25seSBtaW5QcmVjaXNpb24/OiBudW1iZXI7XG4gIHJlYWRvbmx5IG5vUmVjb3JkPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT3BlbkNhZ2VSZXZlcnNlUXVlcnkgZXh0ZW5kcyBSZXZlcnNlUXVlcnkge1xuICBwcml2YXRlIHJlYWRvbmx5IGNvdW50cnlDb2Rlcz86IHN0cmluZ1tdO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgbWluUHJlY2lzaW9uPzogbnVtYmVyO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgbm9SZWNvcmQ/OiBib29sZWFuO1xuXG4gIHByb3RlY3RlZCBjb25zdHJ1Y3Rvcih7XG4gICAgY291bnRyeUNvZGVzLFxuICAgIG1pblByZWNpc2lvbixcbiAgICBub1JlY29yZCxcbiAgICAuLi5yZXZlcnNlUXVlcnlPYmplY3RcbiAgfTogT3BlbkNhZ2VSZXZlcnNlUXVlcnlPYmplY3QpIHtcbiAgICBzdXBlcihyZXZlcnNlUXVlcnlPYmplY3QpO1xuICAgIHRoaXMuY291bnRyeUNvZGVzID0gY291bnRyeUNvZGVzO1xuICAgIGlmIChcbiAgICAgIG1pblByZWNpc2lvbiAmJlxuICAgICAgKG1pblByZWNpc2lvbi50b1N0cmluZygpICE9PVxuICAgICAgICBwYXJzZUludChtaW5QcmVjaXNpb24udG9TdHJpbmcoKSwgMTApLnRvU3RyaW5nKCkgfHxcbiAgICAgICAgbWluUHJlY2lzaW9uIDwgMSB8fFxuICAgICAgICBtaW5QcmVjaXNpb24gPiAxMClcbiAgICApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1RoZSBcIm1pblByZWNpc2lvblwiIHBhcmFtZXRlciBtdXN0IGJlIGFuIGludGVnZXIgZnJvbSAxIHRvIDEwLidcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMubWluUHJlY2lzaW9uID0gbWluUHJlY2lzaW9uO1xuICAgIHRoaXMubm9SZWNvcmQgPSBub1JlY29yZDtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgY3JlYXRlKFxuICAgIG9iamVjdDogT3BlbkNhZ2VSZXZlcnNlUXVlcnlPYmplY3RcbiAgKTogT3BlbkNhZ2VSZXZlcnNlUXVlcnkge1xuICAgIHJldHVybiBuZXcgdGhpcyhvYmplY3QpO1xuICB9XG5cbiAgcHVibGljIHRvT2JqZWN0KCk6IE9wZW5DYWdlUmV2ZXJzZVF1ZXJ5T2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uc3VwZXIudG9PYmplY3QoKSxcbiAgICAgIGNvdW50cnlDb2RlczogdGhpcy5jb3VudHJ5Q29kZXMsXG4gICAgICBtaW5QcmVjaXNpb246IHRoaXMubWluUHJlY2lzaW9uLFxuICAgICAgbm9SZWNvcmQ6IHRoaXMubm9SZWNvcmQsXG4gICAgfTtcbiAgfVxuXG4gIHB1YmxpYyB3aXRoQ291bnRyeUNvZGVzKGNvdW50cnlDb2Rlczogc3RyaW5nW10pOiBPcGVuQ2FnZVJldmVyc2VRdWVyeSB7XG4gICAgcmV0dXJuIG5ldyBPcGVuQ2FnZVJldmVyc2VRdWVyeSh7IC4uLnRoaXMudG9PYmplY3QoKSwgY291bnRyeUNvZGVzIH0pO1xuICB9XG5cbiAgcHVibGljIGdldENvdW50cnlDb2RlcygpOiB1bmRlZmluZWQgfCBzdHJpbmdbXSB7XG4gICAgcmV0dXJuIHRoaXMuY291bnRyeUNvZGVzO1xuICB9XG5cbiAgcHVibGljIHdpdGhNaW5QcmVjaXNpb24obWluUHJlY2lzaW9uOiBudW1iZXIpOiBPcGVuQ2FnZVJldmVyc2VRdWVyeSB7XG4gICAgcmV0dXJuIG5ldyBPcGVuQ2FnZVJldmVyc2VRdWVyeSh7IC4uLnRoaXMudG9PYmplY3QoKSwgbWluUHJlY2lzaW9uIH0pO1xuICB9XG5cbiAgcHVibGljIGdldE1pblByZWNpc2lvbigpOiB1bmRlZmluZWQgfCBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLm1pblByZWNpc2lvbjtcbiAgfVxuXG4gIHB1YmxpYyB3aXRoTm9SZWNvcmQobm9SZWNvcmQ6IGJvb2xlYW4pOiBPcGVuQ2FnZVJldmVyc2VRdWVyeSB7XG4gICAgcmV0dXJuIG5ldyBPcGVuQ2FnZVJldmVyc2VRdWVyeSh7IC4uLnRoaXMudG9PYmplY3QoKSwgbm9SZWNvcmQgfSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0Tm9SZWNvcmQoKTogdW5kZWZpbmVkIHwgYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMubm9SZWNvcmQ7XG4gIH1cbn1cbiIsImV4cG9ydCB7IGRlZmF1bHQgYXMgT3BlbkNhZ2VHZW9jb2RlZCB9IGZyb20gXCJwcm92aWRlci9vcGVuY2FnZS9PcGVuQ2FnZUdlb2NvZGVkXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIE9wZW5DYWdlR2VvY29kZVF1ZXJ5IH0gZnJvbSBcInByb3ZpZGVyL29wZW5jYWdlL09wZW5DYWdlR2VvY29kZVF1ZXJ5XCI7XG5leHBvcnQgKiBmcm9tIFwicHJvdmlkZXIvb3BlbmNhZ2UvT3BlbkNhZ2VHZW9jb2RlUXVlcnlcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgT3BlbkNhZ2VQcm92aWRlciB9IGZyb20gXCJwcm92aWRlci9vcGVuY2FnZS9PcGVuQ2FnZVByb3ZpZGVyXCI7XG5leHBvcnQgKiBmcm9tIFwicHJvdmlkZXIvb3BlbmNhZ2UvT3BlbkNhZ2VQcm92aWRlclwiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBPcGVuQ2FnZVJldmVyc2VRdWVyeSB9IGZyb20gXCJwcm92aWRlci9vcGVuY2FnZS9PcGVuQ2FnZVJldmVyc2VRdWVyeVwiO1xuZXhwb3J0ICogZnJvbSBcInByb3ZpZGVyL29wZW5jYWdlL09wZW5DYWdlUmV2ZXJzZVF1ZXJ5XCI7XG4iLCJpbXBvcnQgeyBHZW9jb2RlUXVlcnksIEdlb2NvZGVRdWVyeU9iamVjdCB9IGZyb20gXCJxdWVyeVwiO1xuaW1wb3J0IHsgQ29vcmRpbmF0ZXMgfSBmcm9tIFwidHlwZXNcIjtcblxuaW50ZXJmYWNlIFlhbmRleFNwYW4ge1xuICBzcGFuTGF0aXR1ZGU6IHN0cmluZztcbiAgc3BhbkxvbmdpdHVkZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFlhbmRleEdlb2NvZGVRdWVyeU9iamVjdCBleHRlbmRzIEdlb2NvZGVRdWVyeU9iamVjdCB7XG4gIHJlYWRvbmx5IGJvdW5kZWQ/OiBib29sZWFuO1xuICByZWFkb25seSBwcm94aW1pdHk/OiBDb29yZGluYXRlcztcbiAgcmVhZG9ubHkgc3Bhbj86IFlhbmRleFNwYW47XG4gIHJlYWRvbmx5IHNraXA/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFlhbmRleEdlb2NvZGVRdWVyeSBleHRlbmRzIEdlb2NvZGVRdWVyeSB7XG4gIHByaXZhdGUgcmVhZG9ubHkgYm91bmRlZD86IGJvb2xlYW47XG5cbiAgcHJpdmF0ZSByZWFkb25seSBwcm94aW1pdHk/OiBDb29yZGluYXRlcztcblxuICBwcml2YXRlIHJlYWRvbmx5IHNwYW4/OiBZYW5kZXhTcGFuO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgc2tpcD86IG51bWJlcjtcblxuICBwcm90ZWN0ZWQgY29uc3RydWN0b3Ioe1xuICAgIGJvdW5kZWQsXG4gICAgcHJveGltaXR5LFxuICAgIHNwYW4sXG4gICAgc2tpcCxcbiAgICBib3VuZHMsXG4gICAgLi4uZ2VvY29kZVF1ZXJ5T2JqZWN0XG4gIH06IFlhbmRleEdlb2NvZGVRdWVyeU9iamVjdCkge1xuICAgIHN1cGVyKHsgYm91bmRzLCAuLi5nZW9jb2RlUXVlcnlPYmplY3QgfSk7XG4gICAgaWYgKGJvdW5kZWQgJiYgKCFib3VuZHMgfHwgIXByb3hpbWl0eSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1RoZSBcImJvdW5kZWRcIiBwYXJhbWV0ZXIgY2FuIG9ubHkgYmUgdXNlZCB3aXRoIHRoZSBcImJvdW5kc1wiIG9yIFwicHJveGltaXR5XCIgcGFyYW1ldGVyLidcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMuYm91bmRlZCA9IGJvdW5kZWQ7XG4gICAgaWYgKHByb3hpbWl0eSAmJiAoIXByb3hpbWl0eS5sYXRpdHVkZSB8fCAhcHJveGltaXR5LmxvbmdpdHVkZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1RoZSBcInByb3hpbWl0eVwiIHBhcmFtZXRlciBtdXN0IGJlIGFuIG9iamVjdCB3aXRoIHRoZSBrZXlzOiBcImxhdGl0dWRlXCIsIFwibG9uZ2l0dWRlXCIuJ1xuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5wcm94aW1pdHkgPSBwcm94aW1pdHk7XG4gICAgaWYgKHNwYW4gJiYgIXByb3hpbWl0eSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhlIFwicHJveGltaXR5XCIgcGFyYW1ldGVyIG11c3QgYmUgZGVmaW5lZCB0byB1c2UgdGhlIFwic3BhblwiIHBhcmFtZXRlci4nXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoc3BhbiAmJiAoIXNwYW4uc3BhbkxhdGl0dWRlIHx8ICFzcGFuLnNwYW5Mb25naXR1ZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdUaGUgXCJzcGFuXCIgcGFyYW1ldGVyIG11c3QgYmUgYW4gb2JqZWN0IHdpdGggdGhlIGtleXM6IFwic3BhbkxhdGl0dWRlXCIsIFwic3BhbkxvbmdpdHVkZVwiLidcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMuc3BhbiA9IHNwYW47XG4gICAgaWYgKGJvdW5kcyAmJiBwcm94aW1pdHkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1RoZSBcImJvdW5kc1wiIGFuZCBcInByb3hpbWl0eVwiIHBhcmFtZXRlcnMgY2Fubm90IGJlIHVzZWQgYXQgdGhlIHNhbWUgdGltZS4nXG4gICAgICApO1xuICAgIH1cbiAgICB0aGlzLnNraXAgPSBza2lwO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBjcmVhdGUob2JqZWN0OiBZYW5kZXhHZW9jb2RlUXVlcnlPYmplY3QpOiBZYW5kZXhHZW9jb2RlUXVlcnkge1xuICAgIHJldHVybiBuZXcgdGhpcyhvYmplY3QpO1xuICB9XG5cbiAgcHVibGljIHRvT2JqZWN0KCk6IFlhbmRleEdlb2NvZGVRdWVyeU9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN1cGVyLnRvT2JqZWN0KCksXG4gICAgICBib3VuZGVkOiB0aGlzLmJvdW5kZWQsXG4gICAgICBwcm94aW1pdHk6IHRoaXMucHJveGltaXR5LFxuICAgICAgc3BhbjogdGhpcy5zcGFuLFxuICAgICAgc2tpcDogdGhpcy5za2lwLFxuICAgIH07XG4gIH1cblxuICBwdWJsaWMgd2l0aEJvdW5kZWQoYm91bmRlZDogYm9vbGVhbik6IFlhbmRleEdlb2NvZGVRdWVyeSB7XG4gICAgcmV0dXJuIG5ldyBZYW5kZXhHZW9jb2RlUXVlcnkoeyAuLi50aGlzLnRvT2JqZWN0KCksIGJvdW5kZWQgfSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0Qm91bmRlZCgpOiB1bmRlZmluZWQgfCBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5ib3VuZGVkO1xuICB9XG5cbiAgcHVibGljIHdpdGhQcm94aW1pdHkocHJveGltaXR5OiBDb29yZGluYXRlcyk6IFlhbmRleEdlb2NvZGVRdWVyeSB7XG4gICAgcmV0dXJuIG5ldyBZYW5kZXhHZW9jb2RlUXVlcnkoeyAuLi50aGlzLnRvT2JqZWN0KCksIHByb3hpbWl0eSB9KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRQcm94aW1pdHkoKTogdW5kZWZpbmVkIHwgQ29vcmRpbmF0ZXMge1xuICAgIHJldHVybiB0aGlzLnByb3hpbWl0eTtcbiAgfVxuXG4gIHB1YmxpYyB3aXRoU3BhbihzcGFuOiBZYW5kZXhTcGFuKTogWWFuZGV4R2VvY29kZVF1ZXJ5IHtcbiAgICByZXR1cm4gbmV3IFlhbmRleEdlb2NvZGVRdWVyeSh7IC4uLnRoaXMudG9PYmplY3QoKSwgc3BhbiB9KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRTcGFuKCk6IHVuZGVmaW5lZCB8IFlhbmRleFNwYW4ge1xuICAgIHJldHVybiB0aGlzLnNwYW47XG4gIH1cblxuICBwdWJsaWMgd2l0aFNraXAoc2tpcDogbnVtYmVyKTogWWFuZGV4R2VvY29kZVF1ZXJ5IHtcbiAgICByZXR1cm4gbmV3IFlhbmRleEdlb2NvZGVRdWVyeSh7IC4uLnRoaXMudG9PYmplY3QoKSwgc2tpcCB9KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRTa2lwKCk6IHVuZGVmaW5lZCB8IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuc2tpcDtcbiAgfVxufVxuIiwiaW1wb3J0IEdlb2NvZGVkLCB7IEdlb2NvZGVkT2JqZWN0IH0gZnJvbSBcIkdlb2NvZGVkXCI7XG5pbXBvcnQgeyBZYW5kZXhLaW5kLCBZYW5kZXhQcmVjaXNpb24gfSBmcm9tIFwicHJvdmlkZXJcIjtcblxuZXhwb3J0IGludGVyZmFjZSBZYW5kZXhHZW9jb2RlZE9iamVjdCBleHRlbmRzIEdlb2NvZGVkT2JqZWN0IHtcbiAgcmVhZG9ubHkgdHlwZXM/OiBZYW5kZXhLaW5kW107XG4gIHJlYWRvbmx5IHByZWNpc2lvbj86IFlhbmRleFByZWNpc2lvbjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgWWFuZGV4R2VvY29kZWQgZXh0ZW5kcyBHZW9jb2RlZCB7XG4gIHByaXZhdGUgcmVhZG9ubHkgdHlwZXM/OiBZYW5kZXhLaW5kW107XG5cbiAgcHJpdmF0ZSByZWFkb25seSBwcmVjaXNpb24/OiBZYW5kZXhQcmVjaXNpb247XG5cbiAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKHtcbiAgICB0eXBlcyxcbiAgICBwcmVjaXNpb24sXG4gICAgLi4uZ2VvY29kZWRPYmplY3RcbiAgfTogWWFuZGV4R2VvY29kZWRPYmplY3QpIHtcbiAgICBzdXBlcihnZW9jb2RlZE9iamVjdCk7XG4gICAgdGhpcy50eXBlcyA9IHR5cGVzO1xuICAgIHRoaXMucHJlY2lzaW9uID0gcHJlY2lzaW9uO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBjcmVhdGUob2JqZWN0OiBZYW5kZXhHZW9jb2RlZE9iamVjdCk6IFlhbmRleEdlb2NvZGVkIHtcbiAgICByZXR1cm4gbmV3IHRoaXMob2JqZWN0KTtcbiAgfVxuXG4gIHB1YmxpYyB0b09iamVjdCgpOiBZYW5kZXhHZW9jb2RlZE9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN1cGVyLnRvT2JqZWN0KCksXG4gICAgICB0eXBlczogdGhpcy50eXBlcyxcbiAgICAgIHByZWNpc2lvbjogdGhpcy5wcmVjaXNpb24sXG4gICAgfTtcbiAgfVxuXG4gIHB1YmxpYyB3aXRoVHlwZXModHlwZXM6IFlhbmRleEtpbmRbXSk6IFlhbmRleEdlb2NvZGVkIHtcbiAgICByZXR1cm4gbmV3IFlhbmRleEdlb2NvZGVkKHtcbiAgICAgIC4uLnRoaXMudG9PYmplY3QoKSxcbiAgICAgIHR5cGVzLFxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIGdldFR5cGVzKCk6IHVuZGVmaW5lZCB8IFlhbmRleEtpbmRbXSB7XG4gICAgcmV0dXJuIHRoaXMudHlwZXM7XG4gIH1cblxuICBwdWJsaWMgd2l0aFByZWNpc2lvbihwcmVjaXNpb246IFlhbmRleFByZWNpc2lvbik6IFlhbmRleEdlb2NvZGVkIHtcbiAgICByZXR1cm4gbmV3IFlhbmRleEdlb2NvZGVkKHtcbiAgICAgIC4uLnRoaXMudG9PYmplY3QoKSxcbiAgICAgIHByZWNpc2lvbixcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRQcmVjaXNpb24oKTogdW5kZWZpbmVkIHwgWWFuZGV4UHJlY2lzaW9uIHtcbiAgICByZXR1cm4gdGhpcy5wcmVjaXNpb247XG4gIH1cbn1cbiIsImltcG9ydCB7XG4gIEV4dGVybmFsTG9hZGVyQm9keSxcbiAgRXh0ZXJuYWxMb2FkZXJIZWFkZXJzLFxuICBFeHRlcm5hbExvYWRlckludGVyZmFjZSxcbiAgRXh0ZXJuYWxMb2FkZXJQYXJhbXMsXG59IGZyb20gXCJFeHRlcm5hbExvYWRlclwiO1xuaW1wb3J0IHtcbiAgRXJyb3JDYWxsYmFjayxcbiAgR2VvY29kZWRSZXN1bHRzQ2FsbGJhY2ssXG4gIFByb3ZpZGVySGVscGVycyxcbiAgUHJvdmlkZXJJbnRlcmZhY2UsXG4gIFByb3ZpZGVyT3B0aW9uc0ludGVyZmFjZSxcbiAgWWFuZGV4R2VvY29kZWQsXG4gIFlhbmRleEdlb2NvZGVRdWVyeSxcbiAgWWFuZGV4R2VvY29kZVF1ZXJ5T2JqZWN0LFxuICBZYW5kZXhSZXZlcnNlUXVlcnksXG4gIFlhbmRleFJldmVyc2VRdWVyeU9iamVjdCxcbiAgZGVmYXVsdFByb3ZpZGVyT3B0aW9ucyxcbn0gZnJvbSBcInByb3ZpZGVyXCI7XG5pbXBvcnQgQWRtaW5MZXZlbCBmcm9tIFwiQWRtaW5MZXZlbFwiO1xuaW1wb3J0IHsgZmxhdHRlbk9iamVjdCB9IGZyb20gXCJ1dGlsc1wiO1xuXG5leHBvcnQgdHlwZSBZYW5kZXhLaW5kID1cbiAgfCBcImhvdXNlXCJcbiAgfCBcInN0cmVldFwiXG4gIHwgXCJtZXRyb1wiXG4gIHwgXCJkaXN0cmljdFwiXG4gIHwgXCJsb2NhbGl0eVwiXG4gIHwgXCJhcmVhXCJcbiAgfCBcInByb3ZpbmNlXCJcbiAgfCBcImNvdW50cnlcIlxuICB8IFwicmVnaW9uXCJcbiAgfCBcImh5ZHJvXCJcbiAgfCBcInJhaWx3YXlfc3RhdGlvblwiXG4gIHwgXCJzdGF0aW9uXCJcbiAgfCBcInJvdXRlXCJcbiAgfCBcInZlZ2V0YXRpb25cIlxuICB8IFwiYWlycG9ydFwiXG4gIHwgXCJlbnRyYW5jZVwiXG4gIHwgXCJvdGhlclwiO1xuXG5leHBvcnQgdHlwZSBZYW5kZXhQcmVjaXNpb24gPVxuICB8IFwiZXhhY3RcIlxuICB8IFwibnVtYmVyXCJcbiAgfCBcIm5lYXJcIlxuICB8IFwicmFuZ2VcIlxuICB8IFwic3RyZWV0XCJcbiAgfCBcIm90aGVyXCI7XG5cbmludGVyZmFjZSBZYW5kZXhSZXF1ZXN0UGFyYW1zIHtcbiAgW3BhcmFtOiBzdHJpbmddOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IGFwaWtleT86IHN0cmluZztcbiAgcmVhZG9ubHkgZ2VvY29kZTogc3RyaW5nO1xuICByZWFkb25seSBmb3JtYXQ6IHN0cmluZztcbiAgcmVhZG9ubHkgbGFuZz86IHN0cmluZztcbiAgcmVhZG9ubHkga2luZD86IFlhbmRleEtpbmQ7XG4gIHJlYWRvbmx5IHJzcG4/OiBcIjBcIiB8IFwiMVwiO1xuICByZWFkb25seSBsbD86IHN0cmluZztcbiAgcmVhZG9ubHkgc3BuPzogc3RyaW5nO1xuICByZWFkb25seSBiYm94Pzogc3RyaW5nO1xuICByZWFkb25seSBza2lwPzogc3RyaW5nO1xuICByZWFkb25seSByZXN1bHRzPzogc3RyaW5nO1xuICByZWFkb25seSBqc29ucENhbGxiYWNrPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFlhbmRleFJlc3VsdCB7XG4gIG1ldGFEYXRhUHJvcGVydHk6IHtcbiAgICBHZW9jb2Rlck1ldGFEYXRhOiB7XG4gICAgICBraW5kOiBZYW5kZXhLaW5kO1xuICAgICAgdGV4dDogc3RyaW5nO1xuICAgICAgcHJlY2lzaW9uOiBZYW5kZXhQcmVjaXNpb247XG4gICAgICBBZGRyZXNzRGV0YWlsczoge1xuICAgICAgICBDb3VudHJ5OiB7XG4gICAgICAgICAgQWRkcmVzc0xpbmU6IHN0cmluZztcbiAgICAgICAgICBDb3VudHJ5TmFtZUNvZGU6IHN0cmluZztcbiAgICAgICAgICBDb3VudHJ5TmFtZTogc3RyaW5nO1xuICAgICAgICAgIEFkbWluaXN0cmF0aXZlQXJlYT86IHtcbiAgICAgICAgICAgIEFkbWluaXN0cmF0aXZlQXJlYU5hbWU6IHN0cmluZztcbiAgICAgICAgICAgIFN1YkFkbWluaXN0cmF0aXZlQXJlYT86IHtcbiAgICAgICAgICAgICAgU3ViQWRtaW5pc3RyYXRpdmVBcmVhTmFtZTogc3RyaW5nO1xuICAgICAgICAgICAgICBMb2NhbGl0eT86IHtcbiAgICAgICAgICAgICAgICBMb2NhbGl0eU5hbWU6IHN0cmluZztcbiAgICAgICAgICAgICAgICBUaG9yb3VnaGZhcmU/OiB7XG4gICAgICAgICAgICAgICAgICBUaG9yb3VnaGZhcmVOYW1lOiBzdHJpbmc7XG4gICAgICAgICAgICAgICAgICBQcmVtaXNlOiB7XG4gICAgICAgICAgICAgICAgICAgIFByZW1pc2VOdW1iZXI6IHN0cmluZztcbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgIH07XG4gICAgfTtcbiAgfTtcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBib3VuZGVkQnk6IHtcbiAgICBFbnZlbG9wZToge1xuICAgICAgbG93ZXJDb3JuZXI6IHN0cmluZztcbiAgICAgIHVwcGVyQ29ybmVyOiBzdHJpbmc7XG4gICAgfTtcbiAgfTtcbiAgUG9pbnQ6IHtcbiAgICBwb3M6IHN0cmluZztcbiAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBZYW5kZXhSZXNwb25zZSB7XG4gIHJlc3BvbnNlOiB7XG4gICAgR2VvT2JqZWN0Q29sbGVjdGlvbjoge1xuICAgICAgbWV0YURhdGFQcm9wZXJ0eToge1xuICAgICAgICBHZW9jb2RlclJlc3BvbnNlTWV0YURhdGE6IHtcbiAgICAgICAgICByZXF1ZXN0OiBzdHJpbmc7XG4gICAgICAgICAgc3VnZ2VzdD86IHtcbiAgICAgICAgICAgIGZpeDogc3RyaW5nO1xuICAgICAgICAgIH07XG4gICAgICAgICAgZm91bmQ6IHN0cmluZztcbiAgICAgICAgICByZXN1bHRzOiBzdHJpbmc7XG4gICAgICAgICAgc2tpcDogc3RyaW5nO1xuICAgICAgICB9O1xuICAgICAgfTtcbiAgICAgIGZlYXR1cmVNZW1iZXI6IHtcbiAgICAgICAgR2VvT2JqZWN0OiBZYW5kZXhSZXN1bHQ7XG4gICAgICB9W107XG4gICAgfTtcbiAgfTtcbn1cblxuaW50ZXJmYWNlIFlhbmRleEZsYXR0ZW5lZEFkZHJlc3NEZXRhaWxzIHtcbiAgQ291bnRyeU5hbWVDb2RlPzogc3RyaW5nO1xuICBDb3VudHJ5TmFtZT86IHN0cmluZztcbiAgQWRtaW5pc3RyYXRpdmVBcmVhTmFtZT86IHN0cmluZztcbiAgU3ViQWRtaW5pc3RyYXRpdmVBcmVhTmFtZT86IHN0cmluZztcbiAgTG9jYWxpdHlOYW1lPzogc3RyaW5nO1xuICBEZXBlbmRlbnRMb2NhbGl0eU5hbWU/OiBzdHJpbmc7XG4gIFRob3JvdWdoZmFyZU5hbWU/OiBzdHJpbmc7XG4gIFByZW1pc2VOdW1iZXI/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgWWFuZGV4UHJvdmlkZXJPcHRpb25zSW50ZXJmYWNlXG4gIGV4dGVuZHMgUHJvdmlkZXJPcHRpb25zSW50ZXJmYWNlIHtcbiAgcmVhZG9ubHkgYXBpS2V5OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0WWFuZGV4UHJvdmlkZXJPcHRpb25zID0ge1xuICAuLi5kZWZhdWx0UHJvdmlkZXJPcHRpb25zLFxuICBhcGlLZXk6IFwiXCIsXG59O1xuXG50eXBlIFlhbmRleEdlb2NvZGVkUmVzdWx0c0NhbGxiYWNrID0gR2VvY29kZWRSZXN1bHRzQ2FsbGJhY2s8WWFuZGV4R2VvY29kZWQ+O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBZYW5kZXhQcm92aWRlclxuICBpbXBsZW1lbnRzIFByb3ZpZGVySW50ZXJmYWNlPFlhbmRleEdlb2NvZGVkPiB7XG4gIHByaXZhdGUgZXh0ZXJuYWxMb2FkZXI6IEV4dGVybmFsTG9hZGVySW50ZXJmYWNlO1xuXG4gIHByaXZhdGUgb3B0aW9uczogWWFuZGV4UHJvdmlkZXJPcHRpb25zSW50ZXJmYWNlO1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcihcbiAgICBfZXh0ZXJuYWxMb2FkZXI6IEV4dGVybmFsTG9hZGVySW50ZXJmYWNlLFxuICAgIG9wdGlvbnM6IFlhbmRleFByb3ZpZGVyT3B0aW9uc0ludGVyZmFjZSA9IGRlZmF1bHRZYW5kZXhQcm92aWRlck9wdGlvbnNcbiAgKSB7XG4gICAgdGhpcy5leHRlcm5hbExvYWRlciA9IF9leHRlcm5hbExvYWRlcjtcbiAgICB0aGlzLm9wdGlvbnMgPSB7IC4uLmRlZmF1bHRZYW5kZXhQcm92aWRlck9wdGlvbnMsIC4uLm9wdGlvbnMgfTtcbiAgICBpZiAoIXRoaXMub3B0aW9ucy5hcGlLZXkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ0FuIEFQSSBrZXkgaXMgcmVxdWlyZWQgZm9yIHRoZSBZYW5kZXggcHJvdmlkZXIuIFBsZWFzZSBhZGQgaXQgaW4gdGhlIFwiYXBpS2V5XCIgb3B0aW9uLidcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGdlb2NvZGUoXG4gICAgcXVlcnk6IHN0cmluZyB8IFlhbmRleEdlb2NvZGVRdWVyeSB8IFlhbmRleEdlb2NvZGVRdWVyeU9iamVjdCxcbiAgICBjYWxsYmFjaz86IFlhbmRleEdlb2NvZGVkUmVzdWx0c0NhbGxiYWNrLFxuICAgIGVycm9yQ2FsbGJhY2s/OiBFcnJvckNhbGxiYWNrXG4gICk6IHZvaWQgfCBQcm9taXNlPFlhbmRleEdlb2NvZGVkW10+IHtcbiAgICBjb25zdCBnZW9jb2RlUXVlcnkgPSBQcm92aWRlckhlbHBlcnMuZ2V0R2VvY29kZVF1ZXJ5RnJvbVBhcmFtZXRlcihcbiAgICAgIHF1ZXJ5LFxuICAgICAgWWFuZGV4R2VvY29kZVF1ZXJ5XG4gICAgKTtcblxuICAgIGlmIChnZW9jb2RlUXVlcnkuZ2V0SXAoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIlRoZSBZYW5kZXggcHJvdmlkZXIgZG9lcyBub3Qgc3VwcG9ydCBJUCBnZW9sb2NhdGlvbiwgb25seSBsb2NhdGlvbiBnZW9jb2RpbmcuXCJcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdGhpcy5leHRlcm5hbExvYWRlci5zZXRPcHRpb25zKHtcbiAgICAgIHByb3RvY29sOiB0aGlzLm9wdGlvbnMudXNlU3NsID8gXCJodHRwc1wiIDogXCJodHRwXCIsXG4gICAgICBob3N0OiBcImdlb2NvZGUtbWFwcy55YW5kZXgucnVcIixcbiAgICAgIHBhdGhuYW1lOiBcIjEueFwiLFxuICAgIH0pO1xuXG4gICAgbGV0IHJzcG46IFwiMFwiIHwgXCIxXCIgfCB1bmRlZmluZWQ7XG4gICAgaWYgKCg8WWFuZGV4R2VvY29kZVF1ZXJ5Pmdlb2NvZGVRdWVyeSkuZ2V0Qm91bmRlZCgpID09PSBmYWxzZSkge1xuICAgICAgcnNwbiA9IFwiMFwiO1xuICAgIH0gZWxzZSBpZiAoKDxZYW5kZXhHZW9jb2RlUXVlcnk+Z2VvY29kZVF1ZXJ5KS5nZXRCb3VuZGVkKCkgPT09IHRydWUpIHtcbiAgICAgIHJzcG4gPSBcIjFcIjtcbiAgICB9XG5cbiAgICBjb25zdCBwYXJhbXM6IFlhbmRleFJlcXVlc3RQYXJhbXMgPSB0aGlzLndpdGhDb21tb25QYXJhbXMoXG4gICAgICB7XG4gICAgICAgIGdlb2NvZGU6IGdlb2NvZGVRdWVyeS5nZXRUZXh0KCkgfHwgXCJcIixcbiAgICAgICAgcnNwbixcbiAgICAgICAgbGw6ICg8WWFuZGV4R2VvY29kZVF1ZXJ5Pmdlb2NvZGVRdWVyeSkuZ2V0UHJveGltaXR5KClcbiAgICAgICAgICA/IGAkeyg8WWFuZGV4R2VvY29kZVF1ZXJ5Pmdlb2NvZGVRdWVyeSkuZ2V0UHJveGltaXR5KCk/LmxvbmdpdHVkZX0sJHtcbiAgICAgICAgICAgICAgKDxZYW5kZXhHZW9jb2RlUXVlcnk+Z2VvY29kZVF1ZXJ5KS5nZXRQcm94aW1pdHkoKT8ubGF0aXR1ZGVcbiAgICAgICAgICAgIH1gXG4gICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgIHNwbjogKDxZYW5kZXhHZW9jb2RlUXVlcnk+Z2VvY29kZVF1ZXJ5KS5nZXRTcGFuKClcbiAgICAgICAgICA/IGAkeyg8WWFuZGV4R2VvY29kZVF1ZXJ5Pmdlb2NvZGVRdWVyeSkuZ2V0U3BhbigpPy5zcGFuTG9uZ2l0dWRlfSwke1xuICAgICAgICAgICAgICAoPFlhbmRleEdlb2NvZGVRdWVyeT5nZW9jb2RlUXVlcnkpLmdldFNwYW4oKT8uc3BhbkxhdGl0dWRlXG4gICAgICAgICAgICB9YFxuICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICBiYm94OiBnZW9jb2RlUXVlcnkuZ2V0Qm91bmRzKClcbiAgICAgICAgICA/IGAke2dlb2NvZGVRdWVyeS5nZXRCb3VuZHMoKT8ubG9uZ2l0dWRlU1d9LCR7XG4gICAgICAgICAgICAgIGdlb2NvZGVRdWVyeS5nZXRCb3VuZHMoKT8ubGF0aXR1ZGVTV1xuICAgICAgICAgICAgfX4ke2dlb2NvZGVRdWVyeS5nZXRCb3VuZHMoKT8ubG9uZ2l0dWRlTkV9LCR7XG4gICAgICAgICAgICAgIGdlb2NvZGVRdWVyeS5nZXRCb3VuZHMoKT8ubGF0aXR1ZGVORVxuICAgICAgICAgICAgfWBcbiAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgIH0sXG4gICAgICA8WWFuZGV4R2VvY29kZVF1ZXJ5Pmdlb2NvZGVRdWVyeVxuICAgICk7XG5cbiAgICBpZiAoIWNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT5cbiAgICAgICAgdGhpcy5leGVjdXRlUmVxdWVzdChcbiAgICAgICAgICBwYXJhbXMsXG4gICAgICAgICAgKHJlc3VsdHMpID0+IHJlc29sdmUocmVzdWx0cyksXG4gICAgICAgICAge30sXG4gICAgICAgICAge30sXG4gICAgICAgICAgKGVycm9yKSA9PiByZWplY3QoZXJyb3IpXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmV4ZWN1dGVSZXF1ZXN0KHBhcmFtcywgY2FsbGJhY2ssIHt9LCB7fSwgZXJyb3JDYWxsYmFjayk7XG4gIH1cblxuICBwdWJsaWMgZ2VvZGVjb2RlKFxuICAgIGxhdGl0dWRlT3JRdWVyeTpcbiAgICAgIHwgbnVtYmVyXG4gICAgICB8IHN0cmluZ1xuICAgICAgfCBZYW5kZXhSZXZlcnNlUXVlcnlcbiAgICAgIHwgWWFuZGV4UmV2ZXJzZVF1ZXJ5T2JqZWN0LFxuICAgIGxvbmdpdHVkZU9yQ2FsbGJhY2s/OiBudW1iZXIgfCBzdHJpbmcgfCBZYW5kZXhHZW9jb2RlZFJlc3VsdHNDYWxsYmFjayxcbiAgICBjYWxsYmFja09yRXJyb3JDYWxsYmFjaz86IFlhbmRleEdlb2NvZGVkUmVzdWx0c0NhbGxiYWNrIHwgRXJyb3JDYWxsYmFjayxcbiAgICBlcnJvckNhbGxiYWNrPzogRXJyb3JDYWxsYmFja1xuICApOiB2b2lkIHwgUHJvbWlzZTxZYW5kZXhHZW9jb2RlZFtdPiB7XG4gICAgY29uc3QgcmV2ZXJzZVF1ZXJ5ID0gUHJvdmlkZXJIZWxwZXJzLmdldFJldmVyc2VRdWVyeUZyb21QYXJhbWV0ZXJzKFxuICAgICAgbGF0aXR1ZGVPclF1ZXJ5LFxuICAgICAgbG9uZ2l0dWRlT3JDYWxsYmFjayxcbiAgICAgIFlhbmRleFJldmVyc2VRdWVyeVxuICAgICk7XG4gICAgY29uc3QgcmV2ZXJzZUNhbGxiYWNrID0gUHJvdmlkZXJIZWxwZXJzLmdldENhbGxiYWNrRnJvbVBhcmFtZXRlcnMoXG4gICAgICBsb25naXR1ZGVPckNhbGxiYWNrLFxuICAgICAgY2FsbGJhY2tPckVycm9yQ2FsbGJhY2tcbiAgICApO1xuICAgIGNvbnN0IHJldmVyc2VFcnJvckNhbGxiYWNrID0gUHJvdmlkZXJIZWxwZXJzLmdldEVycm9yQ2FsbGJhY2tGcm9tUGFyYW1ldGVycyhcbiAgICAgIGxvbmdpdHVkZU9yQ2FsbGJhY2ssXG4gICAgICBjYWxsYmFja09yRXJyb3JDYWxsYmFjayxcbiAgICAgIGVycm9yQ2FsbGJhY2tcbiAgICApO1xuXG4gICAgdGhpcy5leHRlcm5hbExvYWRlci5zZXRPcHRpb25zKHtcbiAgICAgIHByb3RvY29sOiB0aGlzLm9wdGlvbnMudXNlU3NsID8gXCJodHRwc1wiIDogXCJodHRwXCIsXG4gICAgICBob3N0OiBcImdlb2NvZGUtbWFwcy55YW5kZXgucnVcIixcbiAgICAgIHBhdGhuYW1lOiBcIjEueFwiLFxuICAgIH0pO1xuXG4gICAgY29uc3QgcGFyYW1zOiBZYW5kZXhSZXF1ZXN0UGFyYW1zID0gdGhpcy53aXRoQ29tbW9uUGFyYW1zKFxuICAgICAge1xuICAgICAgICBnZW9jb2RlOiBgJHtyZXZlcnNlUXVlcnkuZ2V0Q29vcmRpbmF0ZXMoKS5sb25naXR1ZGV9LCR7XG4gICAgICAgICAgcmV2ZXJzZVF1ZXJ5LmdldENvb3JkaW5hdGVzKCkubGF0aXR1ZGVcbiAgICAgICAgfWAsXG4gICAgICAgIGtpbmQ6ICg8WWFuZGV4UmV2ZXJzZVF1ZXJ5PnJldmVyc2VRdWVyeSkuZ2V0VHlwZXMoKVxuICAgICAgICAgID8gKDxZYW5kZXhSZXZlcnNlUXVlcnk+cmV2ZXJzZVF1ZXJ5KS5nZXRUeXBlcygpPy5bMF1cbiAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgIH0sXG4gICAgICA8WWFuZGV4UmV2ZXJzZVF1ZXJ5PnJldmVyc2VRdWVyeVxuICAgICk7XG5cbiAgICBpZiAoIXJldmVyc2VDYWxsYmFjaykge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+XG4gICAgICAgIHRoaXMuZXhlY3V0ZVJlcXVlc3QoXG4gICAgICAgICAgcGFyYW1zLFxuICAgICAgICAgIChyZXN1bHRzKSA9PiByZXNvbHZlKHJlc3VsdHMpLFxuICAgICAgICAgIHt9LFxuICAgICAgICAgIHt9LFxuICAgICAgICAgIChlcnJvcikgPT4gcmVqZWN0KGVycm9yKVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5leGVjdXRlUmVxdWVzdChcbiAgICAgIHBhcmFtcyxcbiAgICAgIHJldmVyc2VDYWxsYmFjayxcbiAgICAgIHt9LFxuICAgICAge30sXG4gICAgICByZXZlcnNlRXJyb3JDYWxsYmFja1xuICAgICk7XG4gIH1cblxuICBwcml2YXRlIHdpdGhDb21tb25QYXJhbXMoXG4gICAgcGFyYW1zOiBQaWNrPFxuICAgICAgWWFuZGV4UmVxdWVzdFBhcmFtcyxcbiAgICAgIFwiZ2VvY29kZVwiIHwgXCJyc3BuXCIgfCBcImxsXCIgfCBcInNwblwiIHwgXCJiYm94XCIgfCBcImtpbmRcIlxuICAgID4sXG4gICAgcXVlcnk6IFlhbmRleEdlb2NvZGVRdWVyeSB8IFlhbmRleFJldmVyc2VRdWVyeVxuICApOiBZYW5kZXhSZXF1ZXN0UGFyYW1zIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4ucGFyYW1zLFxuICAgICAgYXBpa2V5OiB0aGlzLm9wdGlvbnMuYXBpS2V5LFxuICAgICAgZm9ybWF0OiBcImpzb25cIixcbiAgICAgIGxhbmc6IHF1ZXJ5LmdldExvY2FsZSgpLFxuICAgICAgcmVzdWx0czogcXVlcnkuZ2V0TGltaXQoKS50b1N0cmluZygpLFxuICAgICAgc2tpcDogcXVlcnkuZ2V0U2tpcCgpPy50b1N0cmluZygpLFxuICAgICAganNvbnBDYWxsYmFjazogdGhpcy5vcHRpb25zLnVzZUpzb25wID8gXCJjYWxsYmFja1wiIDogdW5kZWZpbmVkLFxuICAgIH07XG4gIH1cblxuICBwdWJsaWMgZXhlY3V0ZVJlcXVlc3QoXG4gICAgcGFyYW1zOiBFeHRlcm5hbExvYWRlclBhcmFtcyxcbiAgICBjYWxsYmFjazogWWFuZGV4R2VvY29kZWRSZXN1bHRzQ2FsbGJhY2ssXG4gICAgaGVhZGVycz86IEV4dGVybmFsTG9hZGVySGVhZGVycyxcbiAgICBib2R5PzogRXh0ZXJuYWxMb2FkZXJCb2R5LFxuICAgIGVycm9yQ2FsbGJhY2s/OiBFcnJvckNhbGxiYWNrXG4gICk6IHZvaWQge1xuICAgIHRoaXMuZXh0ZXJuYWxMb2FkZXIuZXhlY3V0ZVJlcXVlc3QoXG4gICAgICBwYXJhbXMsXG4gICAgICAoZGF0YTogWWFuZGV4UmVzcG9uc2UpID0+IHtcbiAgICAgICAgY2FsbGJhY2soXG4gICAgICAgICAgZGF0YS5yZXNwb25zZS5HZW9PYmplY3RDb2xsZWN0aW9uLmZlYXR1cmVNZW1iZXIubWFwKChyZXN1bHQpID0+XG4gICAgICAgICAgICBZYW5kZXhQcm92aWRlci5tYXBUb0dlb2NvZGVkKHJlc3VsdC5HZW9PYmplY3QpXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgIGhlYWRlcnMsXG4gICAgICBib2R5LFxuICAgICAgZXJyb3JDYWxsYmFja1xuICAgICk7XG4gIH1cblxuICBwdWJsaWMgc3RhdGljIG1hcFRvR2VvY29kZWQocmVzdWx0OiBZYW5kZXhSZXN1bHQpOiBZYW5kZXhHZW9jb2RlZCB7XG4gICAgY29uc3QgcG9pbnQgPSByZXN1bHQuUG9pbnQucG9zLnNwbGl0KFwiIFwiKTtcbiAgICBjb25zdCBsYXRpdHVkZSA9IHBhcnNlRmxvYXQocG9pbnRbMV0pO1xuICAgIGNvbnN0IGxvbmdpdHVkZSA9IHBhcnNlRmxvYXQocG9pbnRbMF0pO1xuXG4gICAgY29uc3QgYWRkcmVzc0RldGFpbHM6IFlhbmRleEZsYXR0ZW5lZEFkZHJlc3NEZXRhaWxzID0gZmxhdHRlbk9iamVjdChcbiAgICAgIHJlc3VsdC5tZXRhRGF0YVByb3BlcnR5Lkdlb2NvZGVyTWV0YURhdGEuQWRkcmVzc0RldGFpbHNcbiAgICApO1xuXG4gICAgY29uc3Qgc3RyZWV0TnVtYmVyID0gYWRkcmVzc0RldGFpbHMuUHJlbWlzZU51bWJlcjtcbiAgICBjb25zdCBzdHJlZXROYW1lID0gYWRkcmVzc0RldGFpbHMuVGhvcm91Z2hmYXJlTmFtZTtcbiAgICBjb25zdCBzdWJMb2NhbGl0eSA9IGFkZHJlc3NEZXRhaWxzLkRlcGVuZGVudExvY2FsaXR5TmFtZTtcbiAgICBjb25zdCBsb2NhbGl0eSA9IGFkZHJlc3NEZXRhaWxzLkxvY2FsaXR5TmFtZTtcbiAgICBjb25zdCByZWdpb24gPSBhZGRyZXNzRGV0YWlscy5BZG1pbmlzdHJhdGl2ZUFyZWFOYW1lO1xuICAgIGNvbnN0IGNvdW50cnkgPSBhZGRyZXNzRGV0YWlscy5Db3VudHJ5TmFtZTtcbiAgICBjb25zdCBjb3VudHJ5Q29kZSA9IGFkZHJlc3NEZXRhaWxzLkNvdW50cnlOYW1lQ29kZTtcbiAgICBjb25zdCB0eXBlcyA9IFtyZXN1bHQubWV0YURhdGFQcm9wZXJ0eS5HZW9jb2Rlck1ldGFEYXRhLmtpbmRdO1xuICAgIGNvbnN0IHsgcHJlY2lzaW9uIH0gPSByZXN1bHQubWV0YURhdGFQcm9wZXJ0eS5HZW9jb2Rlck1ldGFEYXRhO1xuXG4gICAgbGV0IGdlb2NvZGVkID0gWWFuZGV4R2VvY29kZWQuY3JlYXRlKHtcbiAgICAgIGNvb3JkaW5hdGVzOiB7XG4gICAgICAgIGxhdGl0dWRlLFxuICAgICAgICBsb25naXR1ZGUsXG4gICAgICB9LFxuICAgICAgc3RyZWV0TnVtYmVyLFxuICAgICAgc3RyZWV0TmFtZSxcbiAgICAgIHN1YkxvY2FsaXR5LFxuICAgICAgbG9jYWxpdHksXG4gICAgICByZWdpb24sXG4gICAgICBjb3VudHJ5LFxuICAgICAgY291bnRyeUNvZGUsXG4gICAgICB0eXBlcyxcbiAgICAgIHByZWNpc2lvbixcbiAgICB9KTtcblxuICAgIGNvbnN0IGFkbWluTGV2ZWxzOiAoXG4gICAgICB8IFwiQWRtaW5pc3RyYXRpdmVBcmVhTmFtZVwiXG4gICAgICB8IFwiU3ViQWRtaW5pc3RyYXRpdmVBcmVhTmFtZVwiXG4gICAgKVtdID0gW1wiQWRtaW5pc3RyYXRpdmVBcmVhTmFtZVwiLCBcIlN1YkFkbWluaXN0cmF0aXZlQXJlYU5hbWVcIl07XG4gICAgYWRtaW5MZXZlbHMuZm9yRWFjaCgoYWRtaW5MZXZlbCwgbGV2ZWwpID0+IHtcbiAgICAgIGlmIChhZGRyZXNzRGV0YWlsc1thZG1pbkxldmVsXSkge1xuICAgICAgICBnZW9jb2RlZC5hZGRBZG1pbkxldmVsKFxuICAgICAgICAgIEFkbWluTGV2ZWwuY3JlYXRlKHtcbiAgICAgICAgICAgIGxldmVsOiBsZXZlbCArIDEsXG4gICAgICAgICAgICBuYW1lOiBhZGRyZXNzRGV0YWlsc1thZG1pbkxldmVsXSB8fCBcIlwiLFxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCBsb3dlckNvcm5lciA9IHJlc3VsdC5ib3VuZGVkQnkuRW52ZWxvcGUubG93ZXJDb3JuZXIuc3BsaXQoXCIgXCIpO1xuICAgIGNvbnN0IHVwcGVyQ29ybmVyID0gcmVzdWx0LmJvdW5kZWRCeS5FbnZlbG9wZS51cHBlckNvcm5lci5zcGxpdChcIiBcIik7XG4gICAgZ2VvY29kZWQgPSA8WWFuZGV4R2VvY29kZWQ+Z2VvY29kZWQud2l0aEJvdW5kcyh7XG4gICAgICBsYXRpdHVkZVNXOiBwYXJzZUZsb2F0KGxvd2VyQ29ybmVyWzFdKSxcbiAgICAgIGxvbmdpdHVkZVNXOiBwYXJzZUZsb2F0KGxvd2VyQ29ybmVyWzBdKSxcbiAgICAgIGxhdGl0dWRlTkU6IHBhcnNlRmxvYXQodXBwZXJDb3JuZXJbMV0pLFxuICAgICAgbG9uZ2l0dWRlTkU6IHBhcnNlRmxvYXQodXBwZXJDb3JuZXJbMF0pLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGdlb2NvZGVkO1xuICB9XG59XG4iLCJpbXBvcnQgeyBSZXZlcnNlUXVlcnksIFJldmVyc2VRdWVyeU9iamVjdCB9IGZyb20gXCJxdWVyeVwiO1xuaW1wb3J0IHsgWWFuZGV4S2luZCB9IGZyb20gXCJwcm92aWRlclwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFlhbmRleFJldmVyc2VRdWVyeU9iamVjdCBleHRlbmRzIFJldmVyc2VRdWVyeU9iamVjdCB7XG4gIHJlYWRvbmx5IHR5cGVzPzogWWFuZGV4S2luZFtdO1xuICByZWFkb25seSBza2lwPzogbnVtYmVyO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBZYW5kZXhSZXZlcnNlUXVlcnkgZXh0ZW5kcyBSZXZlcnNlUXVlcnkge1xuICBwcml2YXRlIHJlYWRvbmx5IHR5cGVzPzogWWFuZGV4S2luZFtdO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgc2tpcD86IG51bWJlcjtcblxuICBwcm90ZWN0ZWQgY29uc3RydWN0b3Ioe1xuICAgIHR5cGVzLFxuICAgIHNraXAsXG4gICAgLi4ucmV2ZXJzZVF1ZXJ5T2JqZWN0XG4gIH06IFlhbmRleFJldmVyc2VRdWVyeU9iamVjdCkge1xuICAgIHN1cGVyKHJldmVyc2VRdWVyeU9iamVjdCk7XG4gICAgaWYgKHR5cGVzICYmIHR5cGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1RoZSBcInR5cGVzXCIgcGFyYW1ldGVyIG11c3QgY29udGFpbiBvbmx5IG9uZSBsb2NhdGlvbiB0eXBlLidcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMudHlwZXMgPSB0eXBlcztcbiAgICB0aGlzLnNraXAgPSBza2lwO1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBjcmVhdGUob2JqZWN0OiBZYW5kZXhSZXZlcnNlUXVlcnlPYmplY3QpOiBZYW5kZXhSZXZlcnNlUXVlcnkge1xuICAgIHJldHVybiBuZXcgdGhpcyhvYmplY3QpO1xuICB9XG5cbiAgcHVibGljIHRvT2JqZWN0KCk6IFlhbmRleFJldmVyc2VRdWVyeU9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN1cGVyLnRvT2JqZWN0KCksXG4gICAgICB0eXBlczogdGhpcy50eXBlcyxcbiAgICAgIHNraXA6IHRoaXMuc2tpcCxcbiAgICB9O1xuICB9XG5cbiAgcHVibGljIHdpdGhUeXBlcyh0eXBlczogWWFuZGV4S2luZFtdKTogWWFuZGV4UmV2ZXJzZVF1ZXJ5IHtcbiAgICByZXR1cm4gbmV3IFlhbmRleFJldmVyc2VRdWVyeSh7IC4uLnRoaXMudG9PYmplY3QoKSwgdHlwZXMgfSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0VHlwZXMoKTogdW5kZWZpbmVkIHwgWWFuZGV4S2luZFtdIHtcbiAgICByZXR1cm4gdGhpcy50eXBlcztcbiAgfVxuXG4gIHB1YmxpYyB3aXRoU2tpcChza2lwOiBudW1iZXIpOiBZYW5kZXhSZXZlcnNlUXVlcnkge1xuICAgIHJldHVybiBuZXcgWWFuZGV4UmV2ZXJzZVF1ZXJ5KHsgLi4udGhpcy50b09iamVjdCgpLCBza2lwIH0pO1xuICB9XG5cbiAgcHVibGljIGdldFNraXAoKTogdW5kZWZpbmVkIHwgbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5za2lwO1xuICB9XG59XG4iLCJleHBvcnQgeyBkZWZhdWx0IGFzIFlhbmRleEdlb2NvZGVkIH0gZnJvbSBcInByb3ZpZGVyL3lhbmRleC9ZYW5kZXhHZW9jb2RlZFwiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBZYW5kZXhHZW9jb2RlUXVlcnkgfSBmcm9tIFwicHJvdmlkZXIveWFuZGV4L1lhbmRleEdlb2NvZGVRdWVyeVwiO1xuZXhwb3J0ICogZnJvbSBcInByb3ZpZGVyL3lhbmRleC9ZYW5kZXhHZW9jb2RlUXVlcnlcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgWWFuZGV4UHJvdmlkZXIgfSBmcm9tIFwicHJvdmlkZXIveWFuZGV4L1lhbmRleFByb3ZpZGVyXCI7XG5leHBvcnQgKiBmcm9tIFwicHJvdmlkZXIveWFuZGV4L1lhbmRleFByb3ZpZGVyXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIFlhbmRleFJldmVyc2VRdWVyeSB9IGZyb20gXCJwcm92aWRlci95YW5kZXgvWWFuZGV4UmV2ZXJzZVF1ZXJ5XCI7XG5leHBvcnQgKiBmcm9tIFwicHJvdmlkZXIveWFuZGV4L1lhbmRleFJldmVyc2VRdWVyeVwiO1xuIiwiaW1wb3J0IHsgREVGQVVMVF9SRVNVTFRfTElNSVQgfSBmcm9tIFwicHJvdmlkZXJcIjtcbmltcG9ydCB7IEJvdW5kaW5nQm94IH0gZnJvbSBcInR5cGVzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgR2VvY29kZVF1ZXJ5T2JqZWN0IHtcbiAgcmVhZG9ubHkgdGV4dD86IHN0cmluZztcbiAgcmVhZG9ubHkgaXA/OiBzdHJpbmc7XG4gIHJlYWRvbmx5IGJvdW5kcz86IEJvdW5kaW5nQm94O1xuICByZWFkb25seSBsb2NhbGU/OiBzdHJpbmc7XG4gIHJlYWRvbmx5IGxpbWl0PzogbnVtYmVyO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHZW9jb2RlUXVlcnkge1xuICBwcml2YXRlIHJlYWRvbmx5IHRleHQ/OiBzdHJpbmc7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBpcD86IHN0cmluZztcblxuICBwcml2YXRlIHJlYWRvbmx5IGJvdW5kcz86IEJvdW5kaW5nQm94O1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgbG9jYWxlPzogc3RyaW5nO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgbGltaXQ6IG51bWJlciA9IERFRkFVTFRfUkVTVUxUX0xJTUlUO1xuXG4gIHByb3RlY3RlZCBjb25zdHJ1Y3Rvcih7XG4gICAgdGV4dCxcbiAgICBpcCxcbiAgICBib3VuZHMsXG4gICAgbG9jYWxlLFxuICAgIGxpbWl0ID0gREVGQVVMVF9SRVNVTFRfTElNSVQsXG4gIH06IEdlb2NvZGVRdWVyeU9iamVjdCkge1xuICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgdGhpcy5pcCA9IGlwO1xuICAgIGlmICghdGV4dCAmJiAhaXApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRWl0aGVyIFwidGV4dFwiIG9yIFwiaXBcIiBwYXJhbWV0ZXIgaXMgcmVxdWlyZWQuJyk7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIGJvdW5kcyAmJlxuICAgICAgKCFib3VuZHMubGF0aXR1ZGVTVyB8fFxuICAgICAgICAhYm91bmRzLmxvbmdpdHVkZVNXIHx8XG4gICAgICAgICFib3VuZHMubGF0aXR1ZGVORSB8fFxuICAgICAgICAhYm91bmRzLmxvbmdpdHVkZU5FKVxuICAgICkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhlIFwiYm91bmRzXCIgcGFyYW1ldGVyIG11c3QgYmUgYW4gb2JqZWN0IHdpdGggdGhlIGtleXM6IFwibGF0aXR1ZGVTV1wiLCBcImxvbmdpdHVkZVNXXCIsIFwibGF0aXR1ZGVORVwiLCBcImxvbmdpdHVkZU5FXCIuJ1xuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5ib3VuZHMgPSBib3VuZHM7XG4gICAgdGhpcy5sb2NhbGUgPSBsb2NhbGU7XG4gICAgdGhpcy5saW1pdCA9IGxpbWl0O1xuICB9XG5cbiAgcHVibGljIHN0YXRpYyBjcmVhdGUob2JqZWN0OiBHZW9jb2RlUXVlcnlPYmplY3QpOiBHZW9jb2RlUXVlcnkge1xuICAgIHJldHVybiBuZXcgdGhpcyhvYmplY3QpO1xuICB9XG5cbiAgcHVibGljIHRvT2JqZWN0KCk6IEdlb2NvZGVRdWVyeU9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRleHQ6IHRoaXMudGV4dCxcbiAgICAgIGlwOiB0aGlzLmlwLFxuICAgICAgYm91bmRzOiB0aGlzLmJvdW5kcyxcbiAgICAgIGxvY2FsZTogdGhpcy5sb2NhbGUsXG4gICAgICBsaW1pdDogdGhpcy5saW1pdCxcbiAgICB9O1xuICB9XG5cbiAgcHVibGljIHdpdGhUZXh0KHRleHQ6IHN0cmluZyk6IEdlb2NvZGVRdWVyeSB7XG4gICAgcmV0dXJuICg8dHlwZW9mIEdlb2NvZGVRdWVyeT50aGlzLmNvbnN0cnVjdG9yKS5jcmVhdGUoe1xuICAgICAgLi4udGhpcy50b09iamVjdCgpLFxuICAgICAgdGV4dCxcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyB3aXRoSXAoaXA6IHN0cmluZyk6IEdlb2NvZGVRdWVyeSB7XG4gICAgcmV0dXJuICg8dHlwZW9mIEdlb2NvZGVRdWVyeT50aGlzLmNvbnN0cnVjdG9yKS5jcmVhdGUoe1xuICAgICAgLi4udGhpcy50b09iamVjdCgpLFxuICAgICAgaXAsXG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgd2l0aEJvdW5kcyhib3VuZHM6IEJvdW5kaW5nQm94KTogR2VvY29kZVF1ZXJ5IHtcbiAgICByZXR1cm4gKDx0eXBlb2YgR2VvY29kZVF1ZXJ5PnRoaXMuY29uc3RydWN0b3IpLmNyZWF0ZSh7XG4gICAgICAuLi50aGlzLnRvT2JqZWN0KCksXG4gICAgICBib3VuZHMsXG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgd2l0aExvY2FsZShsb2NhbGU6IHN0cmluZyk6IEdlb2NvZGVRdWVyeSB7XG4gICAgcmV0dXJuICg8dHlwZW9mIEdlb2NvZGVRdWVyeT50aGlzLmNvbnN0cnVjdG9yKS5jcmVhdGUoe1xuICAgICAgLi4udGhpcy50b09iamVjdCgpLFxuICAgICAgbG9jYWxlLFxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIHdpdGhMaW1pdChsaW1pdDogbnVtYmVyKTogR2VvY29kZVF1ZXJ5IHtcbiAgICByZXR1cm4gKDx0eXBlb2YgR2VvY29kZVF1ZXJ5PnRoaXMuY29uc3RydWN0b3IpLmNyZWF0ZSh7XG4gICAgICAuLi50aGlzLnRvT2JqZWN0KCksXG4gICAgICBsaW1pdCxcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRUZXh0KCk6IHVuZGVmaW5lZCB8IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMudGV4dDtcbiAgfVxuXG4gIHB1YmxpYyBnZXRJcCgpOiB1bmRlZmluZWQgfCBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmlwO1xuICB9XG5cbiAgcHVibGljIGdldEJvdW5kcygpOiB1bmRlZmluZWQgfCBCb3VuZGluZ0JveCB7XG4gICAgcmV0dXJuIHRoaXMuYm91bmRzO1xuICB9XG5cbiAgcHVibGljIGdldExvY2FsZSgpOiB1bmRlZmluZWQgfCBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmxvY2FsZTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRMaW1pdCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmxpbWl0O1xuICB9XG59XG4iLCJpbXBvcnQgeyBERUZBVUxUX1JFU1VMVF9MSU1JVCB9IGZyb20gXCJwcm92aWRlclwiO1xuaW1wb3J0IHsgQ29vcmRpbmF0ZXMgfSBmcm9tIFwidHlwZXNcIjtcblxuZXhwb3J0IGludGVyZmFjZSBSZXZlcnNlUXVlcnlPYmplY3Qge1xuICByZWFkb25seSBjb29yZGluYXRlczogQ29vcmRpbmF0ZXM7XG4gIHJlYWRvbmx5IGxvY2FsZT86IHN0cmluZztcbiAgcmVhZG9ubHkgbGltaXQ/OiBudW1iZXI7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJldmVyc2VRdWVyeSB7XG4gIHByaXZhdGUgcmVhZG9ubHkgY29vcmRpbmF0ZXM6IENvb3JkaW5hdGVzO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgbG9jYWxlPzogc3RyaW5nO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgbGltaXQ6IG51bWJlciA9IERFRkFVTFRfUkVTVUxUX0xJTUlUO1xuXG4gIHByb3RlY3RlZCBjb25zdHJ1Y3Rvcih7XG4gICAgY29vcmRpbmF0ZXMsXG4gICAgbG9jYWxlLFxuICAgIGxpbWl0ID0gREVGQVVMVF9SRVNVTFRfTElNSVQsXG4gIH06IFJldmVyc2VRdWVyeU9iamVjdCkge1xuICAgIGlmIChjb29yZGluYXRlcyAmJiAoIWNvb3JkaW5hdGVzLmxhdGl0dWRlIHx8ICFjb29yZGluYXRlcy5sb25naXR1ZGUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdUaGUgXCJjb29yZGluYXRlc1wiIHBhcmFtZXRlciBtdXN0IGJlIGFuIG9iamVjdCB3aXRoIHRoZSBrZXlzOiBcImxhdGl0dWRlXCIsIFwibG9uZ2l0dWRlXCIuJ1xuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5jb29yZGluYXRlcyA9IGNvb3JkaW5hdGVzO1xuICAgIHRoaXMubG9jYWxlID0gbG9jYWxlO1xuICAgIHRoaXMubGltaXQgPSBsaW1pdDtcbiAgfVxuXG4gIHB1YmxpYyBzdGF0aWMgY3JlYXRlKG9iamVjdDogUmV2ZXJzZVF1ZXJ5T2JqZWN0KTogUmV2ZXJzZVF1ZXJ5IHtcbiAgICByZXR1cm4gbmV3IHRoaXMob2JqZWN0KTtcbiAgfVxuXG4gIHB1YmxpYyB0b09iamVjdCgpOiBSZXZlcnNlUXVlcnlPYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICBjb29yZGluYXRlczogdGhpcy5jb29yZGluYXRlcyxcbiAgICAgIGxvY2FsZTogdGhpcy5sb2NhbGUsXG4gICAgICBsaW1pdDogdGhpcy5saW1pdCxcbiAgICB9O1xuICB9XG5cbiAgcHVibGljIHdpdGhDb29yZGluYXRlcyhjb29yZGluYXRlczogQ29vcmRpbmF0ZXMpOiBSZXZlcnNlUXVlcnkge1xuICAgIHJldHVybiAoPHR5cGVvZiBSZXZlcnNlUXVlcnk+dGhpcy5jb25zdHJ1Y3RvcikuY3JlYXRlKHtcbiAgICAgIC4uLnRoaXMudG9PYmplY3QoKSxcbiAgICAgIGNvb3JkaW5hdGVzLFxuICAgIH0pO1xuICB9XG5cbiAgcHVibGljIHdpdGhMb2NhbGUobG9jYWxlOiBzdHJpbmcpOiBSZXZlcnNlUXVlcnkge1xuICAgIHJldHVybiAoPHR5cGVvZiBSZXZlcnNlUXVlcnk+dGhpcy5jb25zdHJ1Y3RvcikuY3JlYXRlKHtcbiAgICAgIC4uLnRoaXMudG9PYmplY3QoKSxcbiAgICAgIGxvY2FsZSxcbiAgICB9KTtcbiAgfVxuXG4gIHB1YmxpYyB3aXRoTGltaXQobGltaXQ6IG51bWJlcik6IFJldmVyc2VRdWVyeSB7XG4gICAgcmV0dXJuICg8dHlwZW9mIFJldmVyc2VRdWVyeT50aGlzLmNvbnN0cnVjdG9yKS5jcmVhdGUoe1xuICAgICAgLi4udGhpcy50b09iamVjdCgpLFxuICAgICAgbGltaXQsXG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgZ2V0Q29vcmRpbmF0ZXMoKTogQ29vcmRpbmF0ZXMge1xuICAgIHJldHVybiB0aGlzLmNvb3JkaW5hdGVzO1xuICB9XG5cbiAgcHVibGljIGdldExvY2FsZSgpOiB1bmRlZmluZWQgfCBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmxvY2FsZTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRMaW1pdCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmxpbWl0O1xuICB9XG59XG4iLCJleHBvcnQgeyBkZWZhdWx0IGFzIEdlb2NvZGVRdWVyeSB9IGZyb20gXCJxdWVyeS9HZW9jb2RlUXVlcnlcIjtcbmV4cG9ydCAqIGZyb20gXCJxdWVyeS9HZW9jb2RlUXVlcnlcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgUmV2ZXJzZVF1ZXJ5IH0gZnJvbSBcInF1ZXJ5L1JldmVyc2VRdWVyeVwiO1xuZXhwb3J0ICogZnJvbSBcInF1ZXJ5L1JldmVyc2VRdWVyeVwiO1xuIiwiZXhwb3J0IGNvbnN0IGlzQnJvd3NlciA9ICgpOiBib29sZWFuID0+IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCI7XG5cbmV4cG9ydCBjb25zdCBmaWx0ZXJVbmRlZmluZWRPYmplY3RWYWx1ZXMgPSA8Vj4oXG4gIG9iamVjdDogUmVjb3JkPHN0cmluZywgViB8IHVuZGVmaW5lZD5cbik6IFJlY29yZDxzdHJpbmcsIFY+ID0+XG4gIE9iamVjdC5rZXlzKG9iamVjdCkucmVkdWNlKChhY2M6IFJlY29yZDxzdHJpbmcsIFY+LCBrZXkpID0+IHtcbiAgICBjb25zdCBmaWx0ZXJlZCA9IGFjYztcbiAgICBjb25zdCB2YWx1ZSA9IG9iamVjdFtrZXldO1xuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBmaWx0ZXJlZFtrZXldID0gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBmaWx0ZXJlZDtcbiAgfSwge30pO1xuXG50eXBlIE5lc3RlZE9iamVjdDxWPiA9IHtcbiAgW2tleTogc3RyaW5nXTogViB8IE5lc3RlZE9iamVjdDxWPiB8IHVuZGVmaW5lZDtcbn07XG5cbmV4cG9ydCBjb25zdCBmbGF0dGVuT2JqZWN0ID0gPFM+KFxuICBvYmplY3Q6IE5lc3RlZE9iamVjdDxTPlxuKTogeyBba2V5OiBzdHJpbmddOiBTIH0gPT4ge1xuICBjb25zdCBmbGF0dGVuZWQ6IHsgW2tleTogc3RyaW5nXTogUyB9ID0ge307XG5cbiAgY29uc3QgaXNOZXN0ZWQgPSAodmFsdWU6IE5lc3RlZE9iamVjdDxTPiB8IFMpOiB2YWx1ZSBpcyBOZXN0ZWRPYmplY3Q8Uz4gPT4ge1xuICAgIGNvbnN0IGlzQXJyYXkgPSBBcnJheS5pc0FycmF5KHZhbHVlKTtcbiAgICBjb25zdCB0eXBlID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgICBjb25zdCBpc09iamVjdCA9IHR5cGUgPT09IFwiW29iamVjdCBPYmplY3RdXCIgfHwgdHlwZSA9PT0gXCJbb2JqZWN0IEFycmF5XVwiO1xuXG4gICAgaWYgKCFpc0FycmF5ICYmIGlzT2JqZWN0ICYmIE9iamVjdC5rZXlzKHZhbHVlKS5sZW5ndGgpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICBjb25zdCBzdGVwID0gKG5lc3RlZE9iamVjdDogTmVzdGVkT2JqZWN0PFM+KTogdm9pZCA9PiB7XG4gICAgT2JqZWN0LmtleXMobmVzdGVkT2JqZWN0KS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIGNvbnN0IHZhbHVlID0gbmVzdGVkT2JqZWN0W2tleV07XG4gICAgICBpZiAodW5kZWZpbmVkID09PSB2YWx1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChpc05lc3RlZCh2YWx1ZSkpIHtcbiAgICAgICAgc3RlcCh2YWx1ZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgZmxhdHRlbmVkW2tleV0gPSB2YWx1ZTtcbiAgICB9KTtcbiAgfTtcblxuICBzdGVwKG9iamVjdCk7XG5cbiAgcmV0dXJuIGZsYXR0ZW5lZDtcbn07XG5cbi8qKlxuICogRGVjb2RlIGZyb20gVVJMLXNhZmUgYmFzZTY0IHRvIHRydWUgYmFzZTY0LlxuICovXG5leHBvcnQgY29uc3QgZGVjb2RlVXJsU2FmZUJhc2U2NCA9IChzYWZlOiBzdHJpbmcpOiBzdHJpbmcgPT5cbiAgc2FmZS5yZXBsYWNlKC8tL2csIFwiK1wiKS5yZXBsYWNlKC9fL2csIFwiL1wiKTtcblxuLyoqXG4gKiBFbmNvZGUgZnJvbSB0cnVlIGJhc2U2NCB0byBVUkwtc2FmZSBiYXNlNjQuXG4gKi9cbmV4cG9ydCBjb25zdCBlbmNvZGVVcmxTYWZlQmFzZTY0ID0gKGJhc2U2NDogc3RyaW5nKTogc3RyaW5nID0+XG4gIGJhc2U2NC5yZXBsYWNlKC9cXCsvZywgXCItXCIpLnJlcGxhY2UoL1xcLy9nLCBcIl9cIik7XG5cbmV4cG9ydCBjb25zdCBkZWNvZGVCYXNlNjQgPSAoYmFzZTY0OiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICBpZiAoaXNCcm93c2VyKCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJkZWNvZGVCYXNlNjQgY2FuIG9ubHkgYmUgdXNlZCBpbiBhIE5vZGUgZW52aXJvbm1lbnQuXCIpO1xuICB9XG5cbiAgcmV0dXJuIEJ1ZmZlci5mcm9tKGJhc2U2NCwgXCJiYXNlNjRcIikudG9TdHJpbmcoKTtcbn07XG5cbi8vIEZyb20gaHR0cHM6Ly9naXRodWIuY29tL3NpbmRyZXNvcmh1cy9pcC1yZWdleFxuY29uc3QgaXB2NFJlZ0V4cCA9XG4gIFwiKD86MjVbMC01XXwyWzAtNF1cXFxcZHwxXFxcXGRcXFxcZHxbMS05XVxcXFxkfFxcXFxkKSg/OlxcXFwuKD86MjVbMC01XXwyWzAtNF1cXFxcZHwxXFxcXGRcXFxcZHxbMS05XVxcXFxkfFxcXFxkKSl7M31cIjtcbmV4cG9ydCBjb25zdCBpc0lwdjQgPSAoaXA6IHN0cmluZyk6IGJvb2xlYW4gPT5cbiAgbmV3IFJlZ0V4cChgXiR7aXB2NFJlZ0V4cH0kYCkudGVzdChpcCk7XG5cbi8vIEZyb20gaHR0cHM6Ly9naXRodWIuY29tL3NpbmRyZXNvcmh1cy9pcC1yZWdleFxuY29uc3QgaXB2NlNlZyA9IFwiW2EtZkEtRlxcXFxkXXsxLDR9XCI7XG5jb25zdCBpcHY2UmVnRXhwID0gYCgoPzoke2lwdjZTZWd9Oil7N30oPzoke2lwdjZTZWd9fDopfCg/OiR7aXB2NlNlZ306KXs2fSg/OiR7aXB2NFJlZ0V4cH18OiR7aXB2NlNlZ318Oil8KD86JHtpcHY2U2VnfTopezV9KD86OiR7aXB2NFJlZ0V4cH18KDoke2lwdjZTZWd9KXsxLDJ9fDopfCg/OiR7aXB2NlNlZ306KXs0fSg/Oig6JHtpcHY2U2VnfSl7MCwxfToke2lwdjRSZWdFeHB9fCg6JHtpcHY2U2VnfSl7MSwzfXw6KXwoPzoke2lwdjZTZWd9Oil7M30oPzooOiR7aXB2NlNlZ30pezAsMn06JHtpcHY0UmVnRXhwfXwoOiR7aXB2NlNlZ30pezEsNH18Oil8KD86JHtpcHY2U2VnfTopezJ9KD86KDoke2lwdjZTZWd9KXswLDN9OiR7aXB2NFJlZ0V4cH18KDoke2lwdjZTZWd9KXsxLDV9fDopfCg/OiR7aXB2NlNlZ306KXsxfSg/Oig6JHtpcHY2U2VnfSl7MCw0fToke2lwdjRSZWdFeHB9fCg6JHtpcHY2U2VnfSl7MSw2fXw6KXwoPzo6KCg/Ojoke2lwdjZTZWd9KXswLDV9OiR7aXB2NFJlZ0V4cH18KD86OiR7aXB2NlNlZ30pezEsN318OikpKSglWzAtOWEtekEtWl17MSx9KT9gO1xuZXhwb3J0IGNvbnN0IGlzSXB2NiA9IChpcDogc3RyaW5nKTogYm9vbGVhbiA9PlxuICBuZXcgUmVnRXhwKGBeJHtpcHY2UmVnRXhwfSRgKS50ZXN0KGlwKTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHlwZXNcbmV4cG9ydCBjb25zdCBnZXRSZXF1aXJlRnVuYyA9ICgpOiBGdW5jdGlvbiA9PlxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gIHR5cGVvZiBfX25vbl93ZWJwYWNrX3JlcXVpcmVfXyA9PT0gXCJmdW5jdGlvblwiXG4gICAgPyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2FtZWxjYXNlXG4gICAgICBfX25vbl93ZWJwYWNrX3JlcXVpcmVfX1xuICAgIDogcmVxdWlyZTtcbiIsImZ1bmN0aW9uIHdlYnBhY2tFbXB0eUNvbnRleHQocmVxKSB7XG5cdHZhciBlID0gbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIiArIHJlcSArIFwiJ1wiKTtcblx0ZS5jb2RlID0gJ01PRFVMRV9OT1RfRk9VTkQnO1xuXHR0aHJvdyBlO1xufVxud2VicGFja0VtcHR5Q29udGV4dC5rZXlzID0gKCkgPT4gKFtdKTtcbndlYnBhY2tFbXB0eUNvbnRleHQucmVzb2x2ZSA9IHdlYnBhY2tFbXB0eUNvbnRleHQ7XG53ZWJwYWNrRW1wdHlDb250ZXh0LmlkID0gXCIuL3NyYyBzeW5jIHJlY3Vyc2l2ZVwiO1xubW9kdWxlLmV4cG9ydHMgPSB3ZWJwYWNrRW1wdHlDb250ZXh0OyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJleHBvcnQgKiBmcm9tIFwicHJvdmlkZXJcIjtcbmV4cG9ydCAqIGZyb20gXCJxdWVyeVwiO1xuZXhwb3J0ICogZnJvbSBcInV0aWxzXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEFkbWluTGV2ZWwgfSBmcm9tIFwiQWRtaW5MZXZlbFwiO1xuZXhwb3J0ICogZnJvbSBcIkFkbWluTGV2ZWxcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgRXh0ZXJuYWxMb2FkZXIgfSBmcm9tIFwiRXh0ZXJuYWxMb2FkZXJcIjtcbmV4cG9ydCAqIGZyb20gXCJFeHRlcm5hbExvYWRlclwiO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyBHZW9jb2RlZCB9IGZyb20gXCJHZW9jb2RlZFwiO1xuZXhwb3J0ICogZnJvbSBcIkdlb2NvZGVkXCI7XG5leHBvcnQgeyBkZWZhdWx0IGFzIEdlb2NvZGVyUHJvdmlkZXJGYWN0b3J5IH0gZnJvbSBcIkdlb2NvZGVyUHJvdmlkZXJGYWN0b3J5XCI7XG5leHBvcnQgKiBmcm9tIFwiR2VvY29kZXJQcm92aWRlckZhY3RvcnlcIjtcbmV4cG9ydCB7IGRlZmF1bHQgYXMgR2VvSnNvbkR1bXBlciB9IGZyb20gXCJHZW9Kc29uRHVtcGVyXCI7XG5leHBvcnQgKiBmcm9tIFwiR2VvSnNvbkR1bXBlclwiO1xuZXhwb3J0IHsgZGVmYXVsdCB9IGZyb20gXCJVbml2ZXJzYWxHZW9jb2RlclwiO1xuIiwiaW1wb3J0IFVuaXZlcnNhbEdlb2NvZGVyIGZyb20gXCJVbml2ZXJzYWxHZW9jb2RlclwiO1xuaW1wb3J0IEdlb0pzb25EdW1wZXIgZnJvbSBcIkdlb0pzb25EdW1wZXJcIjtcblxuaW50ZXJmYWNlIENvbnRhaW5lciB7XG4gIFVuaXZlcnNhbEdlb2NvZGVyOiB0eXBlb2YgVW5pdmVyc2FsR2VvY29kZXI7XG4gIEdlb0pzb25EdW1wZXI6IHR5cGVvZiBHZW9Kc29uRHVtcGVyO1xufVxuXG5kZWNsYXJlIGdsb2JhbCB7XG4gIGludGVyZmFjZSBXaW5kb3cge1xuICAgIFVuaXZlcnNhbEdlb2NvZGVyOiB0eXBlb2YgVW5pdmVyc2FsR2VvY29kZXI7XG4gICAgR2VvSnNvbkR1bXBlcjogdHlwZW9mIEdlb0pzb25EdW1wZXI7XG4gIH1cbn1cblxuY29uc3QgY29udGFpbmVyOiBXaW5kb3cgfCBDb250YWluZXIgPVxuICB0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiID8gd2luZG93IDogKHt9IGFzIENvbnRhaW5lcik7XG5cbmNvbnRhaW5lci5Vbml2ZXJzYWxHZW9jb2RlciA9IFVuaXZlcnNhbEdlb2NvZGVyO1xuY29udGFpbmVyLkdlb0pzb25EdW1wZXIgPSBHZW9Kc29uRHVtcGVyO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==